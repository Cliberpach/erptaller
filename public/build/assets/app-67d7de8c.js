var Ji=Object.defineProperty;var eo=(e,t,n)=>t in e?Ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Fe=(e,t,n)=>(eo(e,typeof t!="symbol"?t+"":t,n),n);function Ls(e,t){return function(){return e.apply(t,arguments)}}const{toString:to}=Object.prototype,{getPrototypeOf:zn}=Object,Wt=(e=>t=>{const n=to.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ae=e=>(e=e.toLowerCase(),t=>Wt(t)===e),Yt=e=>t=>typeof t===e,{isArray:tt}=Array,ut=Yt("undefined");function no(e){return e!==null&&!ut(e)&&e.constructor!==null&&!ut(e.constructor)&&me(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cs=Ae("ArrayBuffer");function ro(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cs(e.buffer),t}const so=Yt("string"),me=Yt("function"),Ps=Yt("number"),jt=e=>e!==null&&typeof e=="object",io=e=>e===!0||e===!1,bt=e=>{if(Wt(e)!=="object")return!1;const t=zn(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oo=Ae("Date"),ao=Ae("File"),lo=Ae("Blob"),co=Ae("FileList"),uo=e=>jt(e)&&me(e.pipe),fo=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||me(e.append)&&((t=Wt(e))==="formdata"||t==="object"&&me(e.toString)&&e.toString()==="[object FormData]"))},po=Ae("URLSearchParams"),ho=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pt(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),tt(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function Ms(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Ns=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Fs=e=>!ut(e)&&e!==Ns;function An(){const{caseless:e}=Fs(this)&&this||{},t={},n=(r,s)=>{const o=e&&Ms(t,s)||s;bt(t[o])&&bt(r)?t[o]=An(t[o],r):bt(r)?t[o]=An({},r):tt(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&pt(arguments[r],n);return t}const mo=(e,t,n,{allOwnKeys:r}={})=>(pt(t,(s,o)=>{n&&me(s)?e[o]=Ls(s,n):e[o]=s},{allOwnKeys:r}),e),Eo=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),go=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_o=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&zn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Io=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},To=e=>{if(!e)return null;if(tt(e))return e;let t=e.length;if(!Ps(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ro=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zn(Uint8Array)),Oo=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},yo=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},So=Ae("HTMLFormElement"),Ao=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),ur=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),vo=Ae("RegExp"),xs=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};pt(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},wo=e=>{xs(e,(t,n)=>{if(me(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(me(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Do=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return tt(e)?r(e):r(String(e).split(t)),n},bo=()=>{},Lo=(e,t)=>(e=+e,Number.isFinite(e)?e:t),an="abcdefghijklmnopqrstuvwxyz",dr="0123456789",Gs={DIGIT:dr,ALPHA:an,ALPHA_DIGIT:an+an.toUpperCase()+dr},Co=(e=16,t=Gs.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Po(e){return!!(e&&me(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Mo=e=>{const t=new Array(10),n=(r,s)=>{if(jt(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const o=tt(r)?[]:{};return pt(r,(i,a)=>{const l=n(i,s+1);!ut(l)&&(o[a]=l)}),t[s]=void 0,o}}return r};return n(e,0)},No=Ae("AsyncFunction"),Fo=e=>e&&(jt(e)||me(e))&&me(e.then)&&me(e.catch),O={isArray:tt,isArrayBuffer:Cs,isBuffer:no,isFormData:fo,isArrayBufferView:ro,isString:so,isNumber:Ps,isBoolean:io,isObject:jt,isPlainObject:bt,isUndefined:ut,isDate:oo,isFile:ao,isBlob:lo,isRegExp:vo,isFunction:me,isStream:uo,isURLSearchParams:po,isTypedArray:Ro,isFileList:co,forEach:pt,merge:An,extend:mo,trim:ho,stripBOM:Eo,inherits:go,toFlatObject:_o,kindOf:Wt,kindOfTest:Ae,endsWith:Io,toArray:To,forEachEntry:Oo,matchAll:yo,isHTMLForm:So,hasOwnProperty:ur,hasOwnProp:ur,reduceDescriptors:xs,freezeMethods:wo,toObjectSet:Do,toCamelCase:Ao,noop:bo,toFiniteNumber:Lo,findKey:Ms,global:Ns,isContextDefined:Fs,ALPHABET:Gs,generateString:Co,isSpecCompliantForm:Po,toJSONObject:Mo,isAsyncFn:No,isThenable:Fo};function H(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}O.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Bs=H.prototype,Us={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Us[e]={value:e}});Object.defineProperties(H,Us);Object.defineProperty(Bs,"isAxiosError",{value:!0});H.from=(e,t,n,r,s,o)=>{const i=Object.create(Bs);return O.toFlatObject(e,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),H.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const xo=null;function vn(e){return O.isPlainObject(e)||O.isArray(e)}function Vs(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function fr(e,t,n){return e?e.concat(t).map(function(s,o){return s=Vs(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function Go(e){return O.isArray(e)&&!e.some(vn)}const Bo=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Xt(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!O.isUndefined(_[m])});const r=n.metaTokens,s=n.visitor||c,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(O.isDate(d))return d.toISOString();if(!l&&O.isBlob(d))throw new H("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(d)||O.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function c(d,m,_){let I=d;if(d&&!_&&typeof d=="object"){if(O.endsWith(m,"{}"))m=r?m:m.slice(0,-2),d=JSON.stringify(d);else if(O.isArray(d)&&Go(d)||(O.isFileList(d)||O.endsWith(m,"[]"))&&(I=O.toArray(d)))return m=Vs(m),I.forEach(function(g,R){!(O.isUndefined(g)||g===null)&&t.append(i===!0?fr([m],R,o):i===null?m:m+"[]",u(g))}),!1}return vn(d)?!0:(t.append(fr(_,m,o),u(d)),!1)}const f=[],h=Object.assign(Bo,{defaultVisitor:c,convertValue:u,isVisitable:vn});function E(d,m){if(!O.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(d),O.forEach(d,function(I,p){(!(O.isUndefined(I)||I===null)&&s.call(t,I,O.isString(p)?p.trim():p,m,h))===!0&&E(I,m?m.concat(p):[p])}),f.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return E(e),t}function pr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function qn(e,t){this._pairs=[],e&&Xt(e,this,t)}const Hs=qn.prototype;Hs.append=function(t,n){this._pairs.push([t,n])};Hs.toString=function(t){const n=t?function(r){return t.call(this,r,pr)}:pr;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Uo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $s(e,t,n){if(!t)return e;const r=n&&n.encode||Uo,s=n&&n.serialize;let o;if(s?o=s(t,n):o=O.isURLSearchParams(t)?t.toString():new qn(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Vo{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const hr=Vo,ks={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ho=typeof URLSearchParams<"u"?URLSearchParams:qn,$o=typeof FormData<"u"?FormData:null,ko=typeof Blob<"u"?Blob:null,zo=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),qo=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ye={isBrowser:!0,classes:{URLSearchParams:Ho,FormData:$o,Blob:ko},isStandardBrowserEnv:zo,isStandardBrowserWebWorkerEnv:qo,protocols:["http","https","file","blob","url","data"]};function Wo(e,t){return Xt(e,new ye.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return ye.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Yo(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jo(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function zs(e){function t(n,r,s,o){let i=n[o++];const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&O.isArray(s)?s.length:i,l?(O.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!O.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&O.isArray(s[i])&&(s[i]=jo(s[i])),!a)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(r,s)=>{t(Yo(r),s,n,0)}),n}return null}function Xo(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Wn={transitional:ks,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=O.isObject(t);if(o&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return s&&s?JSON.stringify(zs(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Wo(t,this.formSerializer).toString();if((a=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Xt(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),Xo(t)):t}],transformResponse:[function(t){const n=this.transitional||Wn.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&O.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?H.from(a,H.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ye.classes.FormData,Blob:ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Wn.headers[e]={}});const Yn=Wn,Ko=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qo=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&Ko[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},mr=Symbol("internals");function st(e){return e&&String(e).trim().toLowerCase()}function Lt(e){return e===!1||e==null?e:O.isArray(e)?e.map(Lt):String(e)}function Zo(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Jo=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ln(e,t,n,r,s){if(O.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function ea(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ta(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}class Kt{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,l,u){const c=st(l);if(!c)throw new Error("header name must be a non-empty string");const f=O.findKey(s,c);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=Lt(a))}const i=(a,l)=>O.forEach(a,(u,c)=>o(u,c,l));return O.isPlainObject(t)||t instanceof this.constructor?i(t,n):O.isString(t)&&(t=t.trim())&&!Jo(t)?i(Qo(t),n):t!=null&&o(n,t,r),this}get(t,n){if(t=st(t),t){const r=O.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Zo(s);if(O.isFunction(n))return n.call(this,s,r);if(O.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=st(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ln(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=st(i),i){const a=O.findKey(r,i);a&&(!n||ln(r,r[a],a,n))&&(delete r[a],s=!0)}}return O.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||ln(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return O.forEach(this,(s,o)=>{const i=O.findKey(r,o);if(i){n[i]=Lt(s),delete n[o];return}const a=t?ea(o):String(o).trim();a!==o&&delete n[o],n[a]=Lt(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[mr]=this[mr]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=st(i);r[a]||(ta(s,i),r[a]=!0)}return O.isArray(t)?t.forEach(o):o(t),this}}Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Kt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});O.freezeMethods(Kt);const we=Kt;function cn(e,t){const n=this||Yn,r=t||n,s=we.from(r.headers);let o=r.data;return O.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function qs(e){return!!(e&&e.__CANCEL__)}function ht(e,t,n){H.call(this,e??"canceled",H.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(ht,H,{__CANCEL__:!0});function na(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new H("Request failed with status code "+n.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const ra=ye.isStandardBrowserEnv?function(){return{write:function(n,r,s,o,i,a){const l=[];l.push(n+"="+encodeURIComponent(r)),O.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),O.isString(o)&&l.push("path="+o),O.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function sa(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ia(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Ws(e,t){return e&&!sa(t)?ia(e,t):t}const oa=ye.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(o){let i=o;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(i){const a=O.isString(i)?s(i):i;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function aa(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function la(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[o];i||(i=u),n[s]=l,r[s]=u;let f=o,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const E=c&&u-c;return E?Math.round(h*1e3/E):void 0}}function Er(e,t){let n=0;const r=la(50,250);return s=>{const o=s.loaded,i=s.lengthComputable?s.total:void 0,a=o-n,l=r(a),u=o<=i;n=o;const c={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&u?(i-o)/l:void 0,event:s};c[t?"download":"upload"]=!0,e(c)}}const ca=typeof XMLHttpRequest<"u",ua=ca&&function(e){return new Promise(function(n,r){let s=e.data;const o=we.from(e.headers).normalize(),i=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}let u;O.isFormData(s)&&(ye.isStandardBrowserEnv||ye.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?O.isString(u=o.getContentType())&&o.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(e.auth){const d=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(d+":"+m))}const f=Ws(e.baseURL,e.url);c.open(e.method.toUpperCase(),$s(f,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function h(){if(!c)return;const d=we.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),_={data:!i||i==="text"||i==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:e,request:c};na(function(p){n(p),l()},function(p){r(p),l()},_),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new H("Request aborted",H.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new H("Network Error",H.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const _=e.transitional||ks;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),r(new H(m,_.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,c)),c=null},ye.isStandardBrowserEnv){const d=(e.withCredentials||oa(f))&&e.xsrfCookieName&&ra.read(e.xsrfCookieName);d&&o.set(e.xsrfHeaderName,d)}s===void 0&&o.setContentType(null),"setRequestHeader"in c&&O.forEach(o.toJSON(),function(m,_){c.setRequestHeader(_,m)}),O.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),i&&i!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",Er(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Er(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=d=>{c&&(r(!d||d.type?new ht(null,e,c):d),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const E=aa(f);if(E&&ye.protocols.indexOf(E)===-1){r(new H("Unsupported protocol "+E+":",H.ERR_BAD_REQUEST,e));return}c.send(s||null)})},wn={http:xo,xhr:ua};O.forEach(wn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const gr=e=>`- ${e}`,da=e=>O.isFunction(e)||e===null||e===!1,Ys={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let i;if(r=n,!da(n)&&(r=wn[(i=String(n)).toLowerCase()],r===void 0))throw new H(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(gr).join(`
`):" "+gr(o[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:wn};function un(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ht(null,e)}function _r(e){return un(e),e.headers=we.from(e.headers),e.data=cn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ys.getAdapter(e.adapter||Yn.adapter)(e).then(function(r){return un(e),r.data=cn.call(e,e.transformResponse,r),r.headers=we.from(r.headers),r},function(r){return qs(r)||(un(e),r&&r.response&&(r.response.data=cn.call(e,e.transformResponse,r.response),r.response.headers=we.from(r.response.headers))),Promise.reject(r)})}const Ir=e=>e instanceof we?e.toJSON():e;function Je(e,t){t=t||{};const n={};function r(u,c,f){return O.isPlainObject(u)&&O.isPlainObject(c)?O.merge.call({caseless:f},u,c):O.isPlainObject(c)?O.merge({},c):O.isArray(c)?c.slice():c}function s(u,c,f){if(O.isUndefined(c)){if(!O.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function o(u,c){if(!O.isUndefined(c))return r(void 0,c)}function i(u,c){if(O.isUndefined(c)){if(!O.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in t)return r(u,c);if(f in e)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,c)=>s(Ir(u),Ir(c),!0)};return O.forEach(Object.keys(Object.assign({},e,t)),function(c){const f=l[c]||s,h=f(e[c],t[c],c);O.isUndefined(h)&&f!==a||(n[c]=h)}),n}const js="1.5.1",jn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Tr={};jn.transitional=function(t,n,r){function s(o,i){return"[Axios v"+js+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new H(s(i," has been removed"+(n?" in "+n:"")),H.ERR_DEPRECATED);return n&&!Tr[i]&&(Tr[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};function fa(e,t,n){if(typeof e!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],l=a===void 0||i(a,o,e);if(l!==!0)throw new H("option "+o+" must be "+l,H.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new H("Unknown option "+o,H.ERR_BAD_OPTION)}}const Dn={assertOptions:fa,validators:jn},Le=Dn.validators;class xt{constructor(t){this.defaults=t,this.interceptors={request:new hr,response:new hr}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Je(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Dn.assertOptions(r,{silentJSONParsing:Le.transitional(Le.boolean),forcedJSONParsing:Le.transitional(Le.boolean),clarifyTimeoutError:Le.transitional(Le.boolean)},!1),s!=null&&(O.isFunction(s)?n.paramsSerializer={serialize:s}:Dn.assertOptions(s,{encode:Le.function,serialize:Le.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&O.merge(o.common,o[n.method]);o&&O.forEach(["delete","get","head","post","put","patch","common"],d=>{delete o[d]}),n.headers=we.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,f=0,h;if(!l){const d=[_r.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,u),h=d.length,c=Promise.resolve(n);f<h;)c=c.then(d[f++],d[f++]);return c}h=a.length;let E=n;for(f=0;f<h;){const d=a[f++],m=a[f++];try{E=d(E)}catch(_){m.call(this,_);break}}try{c=_r.call(this,E)}catch(d){return Promise.reject(d)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=Je(this.defaults,t);const n=Ws(t.baseURL,t.url);return $s(n,t.params,t.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(t){xt.prototype[t]=function(n,r){return this.request(Je(r||{},{method:t,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(Je(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}xt.prototype[t]=n(),xt.prototype[t+"Form"]=n(!0)});const Ct=xt;class Xn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new ht(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Xn(function(s){t=s}),cancel:t}}}const pa=Xn;function ha(e){return function(n){return e.apply(null,n)}}function ma(e){return O.isObject(e)&&e.isAxiosError===!0}const bn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bn).forEach(([e,t])=>{bn[t]=e});const Ea=bn;function Xs(e){const t=new Ct(e),n=Ls(Ct.prototype.request,t);return O.extend(n,Ct.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Xs(Je(e,s))},n}const j=Xs(Yn);j.Axios=Ct;j.CanceledError=ht;j.CancelToken=pa;j.isCancel=qs;j.VERSION=js;j.toFormData=Xt;j.AxiosError=H;j.Cancel=j.CanceledError;j.all=function(t){return Promise.all(t)};j.spread=ha;j.isAxiosError=ma;j.mergeConfig=Je;j.AxiosHeaders=we;j.formToJSON=e=>zs(O.isHTMLForm(e)?new FormData(e):e);j.getAdapter=Ys.getAdapter;j.HttpStatusCode=Ea;j.default=j;const ga=j;function dn(e,t){e.split(/\s+/).forEach(n=>{t(n)})}class _a{constructor(){this._events={}}on(t,n){dn(t,r=>{const s=this._events[r]||[];s.push(n),this._events[r]=s})}off(t,n){var r=arguments.length;if(r===0){this._events={};return}dn(t,s=>{if(r===1){delete this._events[s];return}const o=this._events[s];o!==void 0&&(o.splice(o.indexOf(n),1),this._events[s]=o)})}trigger(t,...n){var r=this;dn(t,s=>{const o=r._events[s];o!==void 0&&o.forEach(i=>{i.apply(r,n)})})}}function Ia(e){return e.plugins={},class extends e{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,n){e.plugins[t]={name:t,fn:n}}initializePlugins(t){var n,r;const s=this,o=[];if(Array.isArray(t))t.forEach(i=>{typeof i=="string"?o.push(i):(s.plugins.settings[i.name]=i.options,o.push(i.name))});else if(t)for(n in t)t.hasOwnProperty(n)&&(s.plugins.settings[n]=t[n],o.push(n));for(;r=o.shift();)s.require(r)}loadPlugin(t){var n=this,r=n.plugins,s=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=s.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)}require(t){var n=this,r=n.plugins;if(!n.plugins.loaded.hasOwnProperty(t)){if(r.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');n.loadPlugin(t)}return r.loaded[t]}}}const Qt=e=>(e=e.filter(Boolean),e.length<2?e[0]||"":Ra(e)==1?"["+e.join("")+"]":"(?:"+e.join("|")+")"),Ks=e=>{if(!Ta(e))return e.join("");let t="",n=0;const r=()=>{n>1&&(t+="{"+n+"}")};return e.forEach((s,o)=>{if(s===e[o-1]){n++;return}r(),t+=s,n=1}),r(),t},Qs=e=>{let t=Array.from(e);return Qt(t)},Ta=e=>new Set(e).size!==e.length,dt=e=>(e+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Ra=e=>e.reduce((t,n)=>Math.max(t,Oa(n)),0),Oa=e=>Array.from(e).length,Zs=e=>{if(e.length===1)return[[e]];let t=[];const n=e.substring(1);return Zs(n).forEach(function(s){let o=s.slice(0);o[0]=e.charAt(0)+o[0],t.push(o),o=s.slice(0),o.unshift(e.charAt(0)),t.push(o)}),t},ya=[[0,65535]],Sa="[̀-ͯ·ʾʼ]";let Gt,Js;const Aa=3,Kn={},Rr={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let e in Rr){let t=Rr[e]||"";for(let n=0;n<t.length;n++){let r=t.substring(n,n+1);Kn[r]=e}}const va=new RegExp(Object.keys(Kn).join("|")+"|"+Sa,"gu"),wa=e=>{Gt===void 0&&(Gt=Ca(e||ya))},Or=(e,t="NFKD")=>e.normalize(t),Bt=e=>Array.from(e).reduce((t,n)=>t+Da(n),""),Da=e=>(e=Or(e).toLowerCase().replace(va,t=>Kn[t]||""),Or(e,"NFC"));function*ba(e){for(const[t,n]of e)for(let r=t;r<=n;r++){let s=String.fromCharCode(r),o=Bt(s);o!=s.toLowerCase()&&(o.length>Aa||o.length!=0&&(yield{folded:o,composed:s,code_point:r}))}}const La=e=>{const t={},n=(r,s)=>{const o=t[r]||new Set,i=new RegExp("^"+Qs(o)+"$","iu");s.match(i)||(o.add(dt(s)),t[r]=o)};for(let r of ba(e))n(r.folded,r.folded),n(r.folded,r.composed);return t},Ca=e=>{const t=La(e),n={};let r=[];for(let o in t){let i=t[o];i&&(n[o]=Qs(i)),o.length>1&&r.push(dt(o))}r.sort((o,i)=>i.length-o.length);const s=Qt(r);return Js=new RegExp("^"+s,"u"),n},Pa=(e,t=1)=>{let n=0;return e=e.map(r=>(Gt[r]&&(n+=r.length),Gt[r]||r)),n>=t?Ks(e):""},Ma=(e,t=1)=>(t=Math.max(t,e.length-1),Qt(Zs(e).map(n=>Pa(n,t)))),yr=(e,t=!0)=>{let n=e.length>1?1:0;return Qt(e.map(r=>{let s=[];const o=t?r.length():r.length()-1;for(let i=0;i<o;i++)s.push(Ma(r.substrs[i]||"",n));return Ks(s)}))},Na=(e,t)=>{for(const n of t){if(n.start!=e.start||n.end!=e.end||n.substrs.join("")!==e.substrs.join(""))continue;let r=e.parts;const s=i=>{for(const a of r){if(a.start===i.start&&a.substr===i.substr)return!1;if(!(i.length==1||a.length==1)&&(i.start<a.start&&i.end>a.start||a.start<i.start&&a.end>i.start))return!0}return!1};if(!(n.parts.filter(s).length>0))return!0}return!1};class Ut{constructor(){Fe(this,"parts");Fe(this,"substrs");Fe(this,"start");Fe(this,"end");this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,n){let r=new Ut,s=JSON.parse(JSON.stringify(this.parts)),o=s.pop();for(const l of s)r.add(l);let i=n.substr.substring(0,t-o.start),a=i.length;return r.add({start:o.start,end:o.start+a,length:a,substr:i}),r}}const Fa=e=>{wa(),e=Bt(e);let t="",n=[new Ut];for(let r=0;r<e.length;r++){let o=e.substring(r).match(Js);const i=e.substring(r,r+1),a=o?o[0]:null;let l=[],u=new Set;for(const c of n){const f=c.last();if(!f||f.length==1||f.end<=r)if(a){const h=a.length;c.add({start:r,end:r+h,length:h,substr:a}),u.add("1")}else c.add({start:r,end:r+1,length:1,substr:i}),u.add("2");else if(a){let h=c.clone(r,f);const E=a.length;h.add({start:r,end:r+E,length:E,substr:a}),l.push(h)}else u.add("3")}if(l.length>0){l=l.sort((c,f)=>c.length()-f.length());for(let c of l)Na(c,n)||n.push(c);continue}if(r>0&&u.size==1&&!u.has("3")){t+=yr(n,!1);let c=new Ut;const f=n[0];f&&c.add(f.last()),n=[c]}}return t+=yr(n,!0),t},xa=(e,t)=>{if(e)return e[t]},Ga=(e,t)=>{if(e){for(var n,r=t.split(".");(n=r.shift())&&(e=e[n]););return e}},fn=(e,t,n)=>{var r,s;return!e||(e=e+"",t.regex==null)||(s=e.search(t.regex),s===-1)?0:(r=t.string.length/e.length,s===0&&(r+=.5),r*n)},pn=(e,t)=>{var n=e[t];if(typeof n=="function")return n;n&&!Array.isArray(n)&&(e[t]=[n])},gt=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},Ba=(e,t)=>typeof e=="number"&&typeof t=="number"?e>t?1:e<t?-1:0:(e=Bt(e+"").toLowerCase(),t=Bt(t+"").toLowerCase(),e>t?1:t>e?-1:0);class Ua{constructor(t,n){Fe(this,"items");Fe(this,"settings");this.items=t,this.settings=n||{diacritics:!0}}tokenize(t,n,r){if(!t||!t.length)return[];const s=[],o=t.split(/\s+/);var i;return r&&(i=new RegExp("^("+Object.keys(r).map(dt).join("|")+"):(.*)$")),o.forEach(a=>{let l,u=null,c=null;i&&(l=a.match(i))&&(u=l[1],a=l[2]),a.length>0&&(this.settings.diacritics?c=Fa(a)||null:c=dt(a),c&&n&&(c="\\b"+c)),s.push({string:a,regex:c?new RegExp(c,"iu"):null,field:u})}),s}getScoreFunction(t,n){var r=this.prepareSearch(t,n);return this._getScoreFunction(r)}_getScoreFunction(t){const n=t.tokens,r=n.length;if(!r)return function(){return 0};const s=t.options.fields,o=t.weights,i=s.length,a=t.getAttrFn;if(!i)return function(){return 1};const l=function(){return i===1?function(u,c){const f=s[0].field;return fn(a(c,f),u,o[f]||1)}:function(u,c){var f=0;if(u.field){const h=a(c,u.field);!u.regex&&h?f+=1/i:f+=fn(h,u,1)}else gt(o,(h,E)=>{f+=fn(a(c,E),u,h)});return f/i}}();return r===1?function(u){return l(n[0],u)}:t.options.conjunction==="and"?function(u){var c,f=0;for(let h of n){if(c=l(h,u),c<=0)return 0;f+=c}return f/r}:function(u){var c=0;return gt(n,f=>{c+=l(f,u)}),c/r}}getSortFunction(t,n){var r=this.prepareSearch(t,n);return this._getSortFunction(r)}_getSortFunction(t){var n,r=[];const s=this,o=t.options,i=!t.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof i=="function")return i.bind(this);const a=function(u,c){return u==="$score"?c.score:t.getAttrFn(s.items[c.id],u)};if(i)for(let u of i)(t.query||u.field!=="$score")&&r.push(u);if(t.query){n=!0;for(let u of r)if(u.field==="$score"){n=!1;break}n&&r.unshift({field:"$score",direction:"desc"})}else r=r.filter(u=>u.field!=="$score");return r.length?function(u,c){var f,h;for(let E of r)if(h=E.field,f=(E.direction==="desc"?-1:1)*Ba(a(h,u),a(h,c)),f)return f;return 0}:null}prepareSearch(t,n){const r={};var s=Object.assign({},n);if(pn(s,"sort"),pn(s,"sort_empty"),s.fields){pn(s,"fields");const o=[];s.fields.forEach(i=>{typeof i=="string"&&(i={field:i,weight:1}),o.push(i),r[i.field]="weight"in i?i.weight:1}),s.fields=o}return{options:s,query:t.toLowerCase().trim(),tokens:this.tokenize(t,s.respect_word_boundaries,r),total:0,items:[],weights:r,getAttrFn:s.nesting?Ga:xa}}search(t,n){var r=this,s,o;o=this.prepareSearch(t,n),n=o.options,t=o.query;const i=n.score||r._getScoreFunction(o);t.length?gt(r.items,(l,u)=>{s=i(l),(n.filter===!1||s>0)&&o.items.push({score:s,id:u})}):gt(r.items,(l,u)=>{o.items.push({score:1,id:u})});const a=r._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof n.limit=="number"&&(o.items=o.items.slice(0,n.limit)),o}}const ge=e=>typeof e>"u"||e===null?null:Pt(e),Pt=e=>typeof e=="boolean"?e?"1":"0":e+"",hn=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Va=(e,t)=>t>0?window.setTimeout(e,t):(e.call(null),null),Ha=(e,t)=>{var n;return function(r,s){var o=this;n&&(o.loading=Math.max(o.loading-1,0),clearTimeout(n)),n=setTimeout(function(){n=null,o.loadedSearches[r]=!0,e.call(o,r,s)},t)}},Sr=(e,t,n)=>{var r,s=e.trigger,o={};e.trigger=function(){var i=arguments[0];if(t.indexOf(i)!==-1)o[i]=arguments;else return s.apply(e,arguments)},n.apply(e,[]),e.trigger=s;for(r of t)r in o&&s.apply(e,o[r])},$a=e=>({start:e.selectionStart||0,length:(e.selectionEnd||0)-(e.selectionStart||0)}),z=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},te=(e,t,n,r)=>{e.addEventListener(t,n,r)},xe=(e,t)=>{if(!t||!t[e])return!1;var n=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return n===1},mn=(e,t)=>{const n=e.getAttribute("id");return n||(e.setAttribute("id",t),t)},Ar=e=>e.replace(/[\\"']/g,"\\$&"),Ge=(e,t)=>{t&&e.append(t)},J=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},Re=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(ei(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},ei=e=>typeof e=="string"&&e.indexOf("<")>-1,ka=e=>e.replace(/['"\\]/g,"\\$&"),En=(e,t)=>{var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1),e.dispatchEvent(n)},_t=(e,t)=>{Object.assign(e.style,t)},ce=(e,...t)=>{var n=ti(t);e=ni(e),e.map(r=>{n.map(s=>{r.classList.add(s)})})},Ce=(e,...t)=>{var n=ti(t);e=ni(e),e.map(r=>{n.map(s=>{r.classList.remove(s)})})},ti=e=>{var t=[];return J(e,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(t=t.concat(n))}),t.filter(Boolean)},ni=e=>(Array.isArray(e)||(e=[e]),e),gn=(e,t,n)=>{if(!(n&&!n.contains(e)))for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}},vr=(e,t=0)=>t>0?e[e.length-1]:e[0],za=e=>Object.keys(e).length===0,wr=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var n=0;e=e.previousElementSibling;)e.matches(t)&&n++;return n},k=(e,t)=>{J(t,(n,r)=>{n==null?e.removeAttribute(r):e.setAttribute(r,""+n)})},Ln=(e,t)=>{e.parentNode&&e.parentNode.replaceChild(t,e)},qa=(e,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}const n=o=>{var i=o.data.match(t);if(i&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var l=o.splitText(i.index);l.splitText(i[0].length);var u=l.cloneNode(!0);return a.appendChild(u),Ln(l,a),1}return 0},r=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(i=>{s(i)})},s=o=>o.nodeType===3?n(o):(r(o),0);s(e)},Wa=e=>{var t=e.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(n){var r=n.parentNode;r.replaceChild(n.firstChild,n),r.normalize()})},Ya=65,ja=13,Xa=27,Ka=37,Qa=38,Za=39,Ja=40,Dr=8,el=46,br=9,tl=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),It=tl?"metaKey":"ctrlKey",Lr={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(e){return e.length>0},render:{}};function Cr(e,t){var n=Object.assign({},Lr,t),r=n.dataAttr,s=n.labelField,o=n.valueField,i=n.disabledField,a=n.optgroupField,l=n.optgroupLabelField,u=n.optgroupValueField,c=e.tagName.toLowerCase(),f=e.getAttribute("placeholder")||e.getAttribute("data-placeholder");if(!f&&!n.allowEmptyOption){let m=e.querySelector('option[value=""]');m&&(f=m.textContent)}var h={placeholder:f,options:[],optgroups:[],items:[],maxItems:null},E=()=>{var m,_=h.options,I={},p=1;let g=0;var R=D=>{var T=Object.assign({},D.dataset),y=r&&T[r];return typeof y=="string"&&y.length&&(T=Object.assign(T,JSON.parse(y))),T},A=(D,T)=>{var y=ge(D.value);if(y!=null&&!(!y&&!n.allowEmptyOption)){if(I.hasOwnProperty(y)){if(T){var M=I[y][a];M?Array.isArray(M)?M.push(T):I[y][a]=[M,T]:I[y][a]=T}}else{var w=R(D);w[s]=w[s]||D.textContent,w[o]=w[o]||y,w[i]=w[i]||D.disabled,w[a]=w[a]||T,w.$option=D,w.$order=w.$order||++g,I[y]=w,_.push(w)}D.selected&&h.items.push(y)}},C=D=>{var T,y;y=R(D),y[l]=y[l]||D.getAttribute("label")||"",y[u]=y[u]||p++,y[i]=y[i]||D.disabled,y.$order=y.$order||++g,h.optgroups.push(y),T=y[u],J(D.children,M=>{A(M,T)})};h.maxItems=e.hasAttribute("multiple")?null:1,J(e.children,D=>{m=D.tagName.toLowerCase(),m==="optgroup"?C(D):m==="option"&&A(D)})},d=()=>{const m=e.getAttribute(r);if(m)h.options=JSON.parse(m),J(h.options,I=>{h.items.push(I[o])});else{var _=e.value.trim()||"";if(!n.allowEmptyOption&&!_.length)return;const I=_.split(n.delimiter);J(I,p=>{const g={};g[s]=p,g[o]=p,h.options.push(g)}),h.items=I}};return c==="select"?E():d(),Object.assign({},Lr,h,t)}var Pr=0;class se extends Ia(_a){constructor(t,n){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Pr++;var r,s=Re(t);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(s,null);r=o.getPropertyValue("direction");const i=Cr(s,n);this.settings=i,this.input=s,this.tabIndex=s.tabIndex||0,this.is_select_tag=s.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(r),this.inputId=mn(s,"tomselect-"+Pr),this.isRequired=s.required,this.sifter=new Ua(this.options,{diacritics:i.diacritics}),i.mode=i.mode||(i.maxItems===1?"single":"multi"),typeof i.hideSelected!="boolean"&&(i.hideSelected=i.mode==="multi"),typeof i.hidePlaceholder!="boolean"&&(i.hidePlaceholder=i.mode!=="multi");var a=i.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?i.createFilter=_=>a.test(_):i.createFilter=_=>this.settings.duplicates||!this.options[_]),this.initializePlugins(i.plugins),this.setupCallbacks(),this.setupTemplates();const l=Re("<div>"),u=Re("<div>"),c=this._render("dropdown"),f=Re('<div role="listbox" tabindex="-1">'),h=this.input.getAttribute("class")||"",E=i.mode;var d;if(ce(l,i.wrapperClass,h,E),ce(u,i.controlClass),Ge(l,u),ce(c,i.dropdownClass,E),i.copyClassesToDropdown&&ce(c,h),ce(f,i.dropdownContentClass),Ge(c,f),Re(i.dropdownParent||l).appendChild(c),ei(i.controlInput)){d=Re(i.controlInput);var m=["autocorrect","autocapitalize","autocomplete","spellcheck"];J(m,_=>{s.getAttribute(_)&&k(d,{[_]:s.getAttribute(_)})}),d.tabIndex=-1,u.appendChild(d),this.focus_node=d}else i.controlInput?(d=Re(i.controlInput),this.focus_node=d):(d=Re("<input/>"),this.focus_node=u);this.wrapper=l,this.dropdown=c,this.dropdown_content=f,this.control=u,this.control_input=d,this.setup()}setup(){const t=this,n=t.settings,r=t.control_input,s=t.dropdown,o=t.dropdown_content,i=t.wrapper,a=t.control,l=t.input,u=t.focus_node,c={passive:!0},f=t.inputId+"-ts-dropdown";k(o,{id:f}),k(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":f});const h=mn(u,t.inputId+"-ts-control"),E="label[for='"+ka(t.inputId)+"']",d=document.querySelector(E),m=t.focus.bind(t);if(d){te(d,"click",m),k(d,{for:h});const p=mn(d,t.inputId+"-ts-label");k(u,{"aria-labelledby":p}),k(o,{"aria-labelledby":p})}if(i.style.width=l.style.width,t.plugins.names.length){const p="plugin-"+t.plugins.names.join(" plugin-");ce([i,s],p)}(n.maxItems===null||n.maxItems>1)&&t.is_select_tag&&k(l,{multiple:"multiple"}),n.placeholder&&k(r,{placeholder:n.placeholder}),!n.splitOn&&n.delimiter&&(n.splitOn=new RegExp("\\s*"+dt(n.delimiter)+"+\\s*")),n.load&&n.loadThrottle&&(n.load=Ha(n.load,n.loadThrottle)),te(s,"mousemove",()=>{t.ignoreHover=!1}),te(s,"mouseenter",p=>{var g=gn(p.target,"[data-selectable]",s);g&&t.onOptionHover(p,g)},{capture:!0}),te(s,"click",p=>{const g=gn(p.target,"[data-selectable]");g&&(t.onOptionSelect(p,g),z(p,!0))}),te(a,"click",p=>{var g=gn(p.target,"[data-ts-item]",a);if(g&&t.onItemSelect(p,g)){z(p,!0);return}r.value==""&&(t.onClick(),z(p,!0))}),te(u,"keydown",p=>t.onKeyDown(p)),te(r,"keypress",p=>t.onKeyPress(p)),te(r,"input",p=>t.onInput(p)),te(u,"blur",p=>t.onBlur(p)),te(u,"focus",p=>t.onFocus(p)),te(r,"paste",p=>t.onPaste(p));const _=p=>{const g=p.composedPath()[0];if(!i.contains(g)&&!s.contains(g)){t.isFocused&&t.blur(),t.inputState();return}g==r&&t.isOpen?p.stopPropagation():z(p,!0)},I=()=>{t.isOpen&&t.positionDropdown()};te(document,"mousedown",_),te(window,"scroll",I,c),te(window,"resize",I,c),this._destroy=()=>{document.removeEventListener("mousedown",_),window.removeEventListener("scroll",I),window.removeEventListener("resize",I),d&&d.removeEventListener("click",m)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),n.items=[],delete n.optgroups,delete n.options,te(l,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,l.disabled?t.disable():l.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),ce(l,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),n.preload===!0&&t.preload()}setupOptions(t=[],n=[]){this.addOptions(t),J(n,r=>{this.registerOptionGroup(r)})}setupTemplates(){var t=this,n=t.settings.labelField,r=t.settings.optgroupLabelField,s={optgroup:o=>{let i=document.createElement("div");return i.className="optgroup",i.appendChild(o.options),i},optgroup_header:(o,i)=>'<div class="optgroup-header">'+i(o[r])+"</div>",option:(o,i)=>"<div>"+i(o[n])+"</div>",item:(o,i)=>"<div>"+i(o[n])+"</div>",option_create:(o,i)=>'<div class="create">Add <strong>'+i(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},s,t.settings.render)}setupCallbacks(){var t,n,r={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in r)n=this.settings[r[t]],n&&this.on(t,n)}sync(t=!0){const n=this,r=t?Cr(n.input,{delimiter:n.settings.delimiter}):n.settings;n.setupOptions(r.options,r.optgroups),n.setValue(r.items||[],!0),n.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){En(this.input,"input"),En(this.input,"change")}onPaste(t){var n=this;if(n.isInputHidden||n.isLocked){z(t);return}n.settings.splitOn&&setTimeout(()=>{var r=n.inputValue();if(r.match(n.settings.splitOn)){var s=r.trim().split(n.settings.splitOn);J(s,o=>{ge(o)&&(this.options[o]?n.addItem(o):n.createItem(o))})}},0)}onKeyPress(t){var n=this;if(n.isLocked){z(t);return}var r=String.fromCharCode(t.keyCode||t.which);if(n.settings.create&&n.settings.mode==="multi"&&r===n.settings.delimiter){n.createItem(),z(t);return}}onKeyDown(t){var n=this;if(n.ignoreHover=!0,n.isLocked){t.keyCode!==br&&z(t);return}switch(t.keyCode){case Ya:if(xe(It,t)&&n.control_input.value==""){z(t),n.selectAll();return}break;case Xa:n.isOpen&&(z(t,!0),n.close()),n.clearActiveItems();return;case Ja:if(!n.isOpen&&n.hasOptions)n.open();else if(n.activeOption){let r=n.getAdjacent(n.activeOption,1);r&&n.setActiveOption(r)}z(t);return;case Qa:if(n.activeOption){let r=n.getAdjacent(n.activeOption,-1);r&&n.setActiveOption(r)}z(t);return;case ja:n.canSelect(n.activeOption)?(n.onOptionSelect(t,n.activeOption),z(t)):(n.settings.create&&n.createItem()||document.activeElement==n.control_input&&n.isOpen)&&z(t);return;case Ka:n.advanceSelection(-1,t);return;case Za:n.advanceSelection(1,t);return;case br:n.settings.selectOnTab&&(n.canSelect(n.activeOption)&&(n.onOptionSelect(t,n.activeOption),z(t)),n.settings.create&&n.createItem()&&z(t));return;case Dr:case el:n.deleteSelection(t);return}n.isInputHidden&&!xe(It,t)&&z(t)}onInput(t){if(this.isLocked)return;const n=this.inputValue();if(this.lastValue!==n){if(this.lastValue=n,n==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Va(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,n){this.ignoreHover||this.setActiveOption(n,!1)}onFocus(t){var n=this,r=n.isFocused;if(n.isDisabled||n.isReadOnly){n.blur(),z(t);return}n.ignoreFocus||(n.isFocused=!0,n.settings.preload==="focus"&&n.preload(),r||n.trigger("focus"),n.activeItems.length||(n.inputState(),n.refreshOptions(!!n.settings.openOnFocus)),n.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var n=this;if(n.isFocused){n.isFocused=!1,n.ignoreFocus=!1;var r=()=>{n.close(),n.setActiveItem(),n.setCaret(n.items.length),n.trigger("blur")};n.settings.create&&n.settings.createOnBlur?n.createItem(null,r):r()}}}onOptionSelect(t,n){var r,s=this;n.parentElement&&n.parentElement.matches("[data-disabled]")||(n.classList.contains("create")?s.createItem(null,()=>{s.settings.closeAfterSelect&&s.close()}):(r=n.dataset.value,typeof r<"u"&&(s.lastQuery=null,s.addItem(r),s.settings.closeAfterSelect&&s.close(),!s.settings.hideSelected&&t.type&&/click/.test(t.type)&&s.setActiveOption(n))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,n){var r=this;return!r.isLocked&&r.settings.mode==="multi"?(z(t),r.setActiveItem(n,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){const n=this;if(!n.canLoad(t))return;ce(n.wrapper,n.settings.loadingClass),n.loading++;const r=n.loadCallback.bind(n);n.settings.load.call(n,t,r)}loadCallback(t,n){const r=this;r.loading=Math.max(r.loading-1,0),r.lastQuery=null,r.clearActiveOption(),r.setupOptions(t,n),r.refreshOptions(r.isFocused&&!r.isInputHidden),r.loading||Ce(r.wrapper,r.settings.loadingClass),r.trigger("load",t,n)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var n=this.control_input,r=n.value!==t;r&&(n.value=t,En(n,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,n){var r=n?[]:["change"];Sr(this,r,()=>{this.clear(n),this.addItems(t,n)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,n){var r=this,s,o,i,a,l,u;if(r.settings.mode!=="single"){if(!t){r.clearActiveItems(),r.isFocused&&r.inputState();return}if(s=n&&n.type.toLowerCase(),s==="click"&&xe("shiftKey",n)&&r.activeItems.length){for(u=r.getLastActive(),i=Array.prototype.indexOf.call(r.control.children,u),a=Array.prototype.indexOf.call(r.control.children,t),i>a&&(l=i,i=a,a=l),o=i;o<=a;o++)t=r.control.children[o],r.activeItems.indexOf(t)===-1&&r.setActiveItemClass(t);z(n)}else s==="click"&&xe(It,n)||s==="keydown"&&xe("shiftKey",n)?t.classList.contains("active")?r.removeActiveItem(t):r.setActiveItemClass(t):(r.clearActiveItems(),r.setActiveItemClass(t));r.inputState(),r.isFocused||r.focus()}}setActiveItemClass(t){const n=this,r=n.control.querySelector(".last-active");r&&Ce(r,"last-active"),ce(t,"active last-active"),n.trigger("item_select",t),n.activeItems.indexOf(t)==-1&&n.activeItems.push(t)}removeActiveItem(t){var n=this.activeItems.indexOf(t);this.activeItems.splice(n,1),Ce(t,"active")}clearActiveItems(){Ce(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,n=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,k(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),k(t,{"aria-selected":"true"}),ce(t,"active"),n&&this.scrollToOption(t)))}scrollToOption(t,n){if(!t)return;const r=this.dropdown_content,s=r.clientHeight,o=r.scrollTop||0,i=t.offsetHeight,a=t.getBoundingClientRect().top-r.getBoundingClientRect().top+o;a+i>s+o?this.scroll(a-s+i,n):a<o&&this.scroll(a,n)}scroll(t,n){const r=this.dropdown_content;n&&(r.style.scrollBehavior=n),r.scrollTop=t,r.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Ce(this.activeOption,"active"),k(this.activeOption,{"aria-selected":null})),this.activeOption=null,k(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if(t.settings.mode==="single")return;const n=t.controlChildren();n.length&&(t.inputState(),t.close(),t.activeItems=n,J(n,r=>{t.setActiveItemClass(r)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(k(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&k(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,n=t.sortField;return typeof t.sortField=="string"&&(n=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:n,nesting:t.nesting}}search(t){var n,r,s=this,o=this.getSearchOptions();if(s.settings.score&&(r=s.settings.score.call(s,t),typeof r!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==s.lastQuery?(s.lastQuery=t,n=s.sifter.search(t,Object.assign(o,{score:r})),s.currentResults=n):n=Object.assign({},s.currentResults),s.settings.hideSelected&&(n.items=n.items.filter(i=>{let a=ge(i.id);return!(a&&s.items.indexOf(a)!==-1)})),n}refreshOptions(t=!0){var n,r,s,o,i,a,l,u,c,f;const h={},E=[];var d=this,m=d.inputValue();const _=m===d.lastQuery||m==""&&d.lastQuery==null;var I=d.search(m),p=null,g=d.settings.shouldOpen||!1,R=d.dropdown_content;_&&(p=d.activeOption,p&&(c=p.closest("[data-group]"))),o=I.items.length,typeof d.settings.maxOptions=="number"&&(o=Math.min(o,d.settings.maxOptions)),o>0&&(g=!0);const A=(D,T)=>{let y=h[D];if(y!==void 0){let w=E[y];if(w!==void 0)return[y,w.fragment]}let M=document.createDocumentFragment();return y=E.length,E.push({fragment:M,order:T,optgroup:D}),[y,M]};for(n=0;n<o;n++){let D=I.items[n];if(!D)continue;let T=D.id,y=d.options[T];if(y===void 0)continue;let M=Pt(T),w=d.getOption(M,!0);for(d.settings.hideSelected||w.classList.toggle("selected",d.items.includes(M)),i=y[d.settings.optgroupField]||"",a=Array.isArray(i)?i:[i],r=0,s=a&&a.length;r<s;r++){i=a[r];let P=y.$order,U=d.optgroups[i];U===void 0?i="":P=U.$order;const[b,B]=A(i,P);r>0&&(w=w.cloneNode(!0),k(w,{id:y.$id+"-clone-"+r,"aria-selected":null}),w.classList.add("ts-cloned"),Ce(w,"active"),d.activeOption&&d.activeOption.dataset.value==T&&c&&c.dataset.group===i.toString()&&(p=w)),B.appendChild(w),i!=""&&(h[i]=b)}}d.settings.lockOptgroupOrder&&E.sort((D,T)=>D.order-T.order),l=document.createDocumentFragment(),J(E,D=>{let T=D.fragment,y=D.optgroup;if(!T||!T.children.length)return;let M=d.optgroups[y];if(M!==void 0){let w=document.createDocumentFragment(),P=d.render("optgroup_header",M);Ge(w,P),Ge(w,T);let U=d.render("optgroup",{group:M,options:w});Ge(l,U)}else Ge(l,T)}),R.innerHTML="",Ge(R,l),d.settings.highlight&&(Wa(R),I.query.length&&I.tokens.length&&J(I.tokens,D=>{qa(R,D.regex)}));var C=D=>{let T=d.render(D,{input:m});return T&&(g=!0,R.insertBefore(T,R.firstChild)),T};if(d.loading?C("loading"):d.settings.shouldLoad.call(d,m)?I.items.length===0&&C("no_results"):C("not_loading"),u=d.canCreate(m),u&&(f=C("option_create")),d.hasOptions=I.items.length>0||u,g){if(I.items.length>0){if(!p&&d.settings.mode==="single"&&d.items[0]!=null&&(p=d.getOption(d.items[0])),!R.contains(p)){let D=0;f&&!d.settings.addPrecedence&&(D=1),p=d.selectable()[D]}}else f&&(p=f);t&&!d.isOpen&&(d.open(),d.scrollToOption(p,"auto")),d.setActiveOption(p)}else d.clearActiveOption(),t&&d.isOpen&&d.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,n=!1){const r=this;if(Array.isArray(t))return r.addOptions(t,n),!1;const s=ge(t[r.settings.valueField]);return s===null||r.options.hasOwnProperty(s)?!1:(t.$order=t.$order||++r.order,t.$id=r.inputId+"-opt-"+t.$order,r.options[s]=t,r.lastQuery=null,n&&(r.userOptions[s]=n,r.trigger("option_add",s,t)),s)}addOptions(t,n=!1){J(t,r=>{this.addOption(r,n)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var n=ge(t[this.settings.optgroupValueField]);return n===null?!1:(t.$order=t.$order||++this.order,this.optgroups[n]=t,n)}addOptionGroup(t,n){var r;n[this.settings.optgroupValueField]=t,(r=this.registerOptionGroup(n))&&this.trigger("optgroup_add",r,n)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,n){const r=this;var s,o;const i=ge(t),a=ge(n[r.settings.valueField]);if(i===null)return;const l=r.options[i];if(l==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const u=r.getOption(i),c=r.getItem(i);if(n.$order=n.$order||l.$order,delete r.options[i],r.uncacheValue(a),r.options[a]=n,u){if(r.dropdown_content.contains(u)){const f=r._render("option",n);Ln(u,f),r.activeOption===u&&r.setActiveOption(f)}u.remove()}c&&(o=r.items.indexOf(i),o!==-1&&r.items.splice(o,1,a),s=r._render("item",n),c.classList.contains("active")&&ce(s,"active"),Ln(c,s)),r.lastQuery=null}removeOption(t,n){const r=this;t=Pt(t),r.uncacheValue(t),delete r.userOptions[t],delete r.options[t],r.lastQuery=null,r.trigger("option_remove",t),r.removeItem(t,n)}clearOptions(t){const n=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const r={};J(this.options,(s,o)=>{n(s,o)&&(r[o]=s)}),this.options=this.sifter.items=r,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,n){return this.items.indexOf(n)>=0}getOption(t,n=!1){const r=ge(t);if(r===null)return null;const s=this.options[r];if(s!=null){if(s.$div)return s.$div;if(n)return this._render("option",s)}return null}getAdjacent(t,n,r="option"){var s=this,o;if(!t)return null;r=="item"?o=s.controlChildren():o=s.dropdown_content.querySelectorAll("[data-selectable]");for(let i=0;i<o.length;i++)if(o[i]==t)return n>0?o[i+1]:o[i-1];return null}getItem(t){if(typeof t=="object")return t;var n=ge(t);return n!==null?this.control.querySelector(`[data-value="${Ar(n)}"]`):null}addItems(t,n){var r=this,s=Array.isArray(t)?t:[t];s=s.filter(i=>r.items.indexOf(i)===-1);const o=s[s.length-1];s.forEach(i=>{r.isPending=i!==o,r.addItem(i,n)})}addItem(t,n){var r=n?[]:["change","dropdown_close"];Sr(this,r,()=>{var s,o;const i=this,a=i.settings.mode,l=ge(t);if(!(l&&i.items.indexOf(l)!==-1&&(a==="single"&&i.close(),a==="single"||!i.settings.duplicates))&&!(l===null||!i.options.hasOwnProperty(l))&&(a==="single"&&i.clear(n),!(a==="multi"&&i.isFull()))){if(s=i._render("item",i.options[l]),i.control.contains(s)&&(s=s.cloneNode(!0)),o=i.isFull(),i.items.splice(i.caretPos,0,l),i.insertAtCaret(s),i.isSetup){if(!i.isPending&&i.settings.hideSelected){let u=i.getOption(l),c=i.getAdjacent(u,1);c&&i.setActiveOption(c)}!i.isPending&&!i.settings.closeAfterSelect&&i.refreshOptions(i.isFocused&&a!=="single"),i.settings.closeAfterSelect!=!1&&i.isFull()?i.close():i.isPending||i.positionDropdown(),i.trigger("item_add",l,s),i.isPending||i.updateOriginalInput({silent:n})}(!i.isPending||!o&&i.isFull())&&(i.inputState(),i.refreshState())}})}removeItem(t=null,n){const r=this;if(t=r.getItem(t),!t)return;var s,o;const i=t.dataset.value;s=wr(t),t.remove(),t.classList.contains("active")&&(o=r.activeItems.indexOf(t),r.activeItems.splice(o,1),Ce(t,"active")),r.items.splice(s,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(i)&&r.removeOption(i,n),s<r.caretPos&&r.setCaret(r.caretPos-1),r.updateOriginalInput({silent:n}),r.refreshState(),r.positionDropdown(),r.trigger("item_remove",i,t)}createItem(t=null,n=()=>{}){arguments.length===3&&(n=arguments[2]),typeof n!="function"&&(n=()=>{});var r=this,s=r.caretPos,o;if(t=t||r.inputValue(),!r.canCreate(t))return n(),!1;r.lock();var i=!1,a=l=>{if(r.unlock(),!l||typeof l!="object")return n();var u=ge(l[r.settings.valueField]);if(typeof u!="string")return n();r.setTextboxValue(),r.addOption(l,!0),r.setCaret(s),r.addItem(u),n(l),i=!0};return typeof r.settings.create=="function"?o=r.settings.create.call(this,t,a):o={[r.settings.labelField]:t,[r.settings.valueField]:t},i||a(o),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const n=t.isFull(),r=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const s=t.wrapper.classList;s.toggle("focus",t.isFocused),s.toggle("disabled",t.isDisabled),s.toggle("readonly",t.isReadOnly),s.toggle("required",t.isRequired),s.toggle("invalid",!t.isValid),s.toggle("locked",r),s.toggle("full",n),s.toggle("input-active",t.isFocused&&!t.isInputHidden),s.toggle("dropdown-active",t.isOpen),s.toggle("has-options",za(t.options)),s.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const n=this;var r,s;const o=n.input.querySelector('option[value=""]');if(n.is_select_tag){let u=function(c,f,h){return c||(c=Re('<option value="'+hn(f)+'">'+hn(h)+"</option>")),c!=o&&n.input.append(c),a.push(c),(c!=o||l>0)&&(c.selected=!0),c};var i=u;const a=[],l=n.input.querySelectorAll("option:checked").length;n.input.querySelectorAll("option:checked").forEach(c=>{c.selected=!1}),n.items.length==0&&n.settings.mode=="single"?u(o,"",""):n.items.forEach(c=>{if(r=n.options[c],s=r[n.settings.labelField]||"",a.includes(r.$option)){const f=n.input.querySelector(`option[value="${Ar(c)}"]:not(:checked)`);u(f,c,s)}else r.$option=u(r.$option,c,s)})}else n.input.value=n.getValue();n.isSetup&&(t.silent||n.trigger("change",n.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,k(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),_t(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),_t(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var n=this,r=n.isOpen;t&&(n.setTextboxValue(),n.settings.mode==="single"&&n.items.length&&n.inputState()),n.isOpen=!1,k(n.focus_node,{"aria-expanded":"false"}),_t(n.dropdown,{display:"none"}),n.settings.hideSelected&&n.clearActiveOption(),n.refreshState(),r&&n.trigger("dropdown_close",n.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,n=t.getBoundingClientRect(),r=t.offsetHeight+n.top+window.scrollY,s=n.left+window.scrollX;_t(this.dropdown,{width:n.width+"px",top:r+"px",left:s+"px"})}}clear(t){var n=this;if(n.items.length){var r=n.controlChildren();J(r,s=>{n.removeItem(s,!0)}),n.inputState(),t||n.updateOriginalInput(),n.trigger("clear")}}insertAtCaret(t){const n=this,r=n.caretPos,s=n.control;s.insertBefore(t,s.children[r]||null),n.setCaret(r+1)}deleteSelection(t){var n,r,s,o,i=this;n=t&&t.keyCode===Dr?-1:1,r=$a(i.control_input);const a=[];if(i.activeItems.length)o=vr(i.activeItems,n),s=wr(o),n>0&&s++,J(i.activeItems,l=>a.push(l));else if((i.isFocused||i.settings.mode==="single")&&i.items.length){const l=i.controlChildren();let u;n<0&&r.start===0&&r.length===0?u=l[i.caretPos-1]:n>0&&r.start===i.inputValue().length&&(u=l[i.caretPos]),u!==void 0&&a.push(u)}if(!i.shouldDelete(a,t))return!1;for(z(t,!0),typeof s<"u"&&i.setCaret(s);a.length;)i.removeItem(a.pop());return i.inputState(),i.positionDropdown(),i.refreshOptions(!1),!0}shouldDelete(t,n){const r=t.map(s=>s.dataset.value);return!(!r.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(r,n)===!1)}advanceSelection(t,n){var r,s,o=this;o.rtl&&(t*=-1),!o.inputValue().length&&(xe(It,n)||xe("shiftKey",n)?(r=o.getLastActive(t),r?r.classList.contains("active")?s=o.getAdjacent(r,t,"item"):s=r:t>0?s=o.control_input.nextElementSibling:s=o.control_input.previousElementSibling,s&&(s.classList.contains("active")&&o.removeActiveItem(r),o.setActiveItemClass(s))):o.moveCaret(t))}moveCaret(t){}getLastActive(t){let n=this.control.querySelector(".last-active");if(n)return n;var r=this.control.querySelectorAll(".active");if(r)return vr(r,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,n=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=n.innerHTML,t.input.tabIndex=n.tabIndex,Ce(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,n){var r,s;const o=this;if(typeof this.settings.render[t]!="function"||(s=o.settings.render[t].call(this,n,hn),!s))return null;if(s=Re(s),t==="option"||t==="option_create"?n[o.settings.disabledField]?k(s,{"aria-disabled":"true"}):k(s,{"data-selectable":""}):t==="optgroup"&&(r=n.group[o.settings.optgroupValueField],k(s,{"data-group":r}),n.group[o.settings.disabledField]&&k(s,{"data-disabled":""})),t==="option"||t==="item"){const i=Pt(n[o.settings.valueField]);k(s,{"data-value":i}),t==="item"?(ce(s,o.settings.itemClass),k(s,{"data-ts-item":""})):(ce(s,o.settings.optionClass),k(s,{role:"option",id:n.$id}),n.$div=s,o.options[i]=n)}return s}_render(t,n){const r=this.render(t,n);if(r==null)throw"HTMLElement expected";return r}clearCache(){J(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){const n=this.getOption(t);n&&n.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,n,r){var s=this,o=s[n];s[n]=function(){var i,a;return t==="after"&&(i=o.apply(s,arguments)),a=r.apply(s,arguments),t==="instead"?a:(t==="before"&&(i=o.apply(s,arguments)),i)}}}const nl=(e,t,n,r)=>{e.addEventListener(t,n,r)};function rl(){nl(this.input,"change",()=>{this.sync()})}const sl=e=>typeof e>"u"||e===null?null:il(e),il=e=>typeof e=="boolean"?e?"1":"0":e+"",Mr=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},ol=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(al(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},al=e=>typeof e=="string"&&e.indexOf("<")>-1;function ll(e){var t=this,n=t.onOptionSelect;t.settings.hideSelected=!1;const r=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},e);var s=function(a,l){l?(a.checked=!0,r.uncheckedClassNames&&a.classList.remove(...r.uncheckedClassNames),r.checkedClassNames&&a.classList.add(...r.checkedClassNames)):(a.checked=!1,r.checkedClassNames&&a.classList.remove(...r.checkedClassNames),r.uncheckedClassNames&&a.classList.add(...r.uncheckedClassNames))},o=function(a){setTimeout(()=>{var l=a.querySelector("input."+r.className);l instanceof HTMLInputElement&&s(l,a.classList.contains("selected"))},1)};t.hook("after","setupTemplates",()=>{var i=t.settings.render.option;t.settings.render.option=(a,l)=>{var u=ol(i.call(t,a,l)),c=document.createElement("input");r.className&&c.classList.add(r.className),c.addEventListener("click",function(h){Mr(h)}),c.type="checkbox";const f=sl(a[t.settings.valueField]);return s(c,!!(f&&t.items.indexOf(f)>-1)),u.prepend(c),u}}),t.on("item_remove",i=>{var a=t.getOption(i);a&&(a.classList.remove("selected"),o(a))}),t.on("item_add",i=>{var a=t.getOption(i);a&&o(a)}),t.hook("instead","onOptionSelect",(i,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),t.removeItem(a.dataset.value),t.refreshOptions(),Mr(i,!0);return}n.call(t,i,a),o(a)})}const cl=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(ul(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},ul=e=>typeof e=="string"&&e.indexOf("<")>-1;function dl(e){const t=this,n=Object.assign({className:"clear-button",title:"Clear All",html:r=>`<div class="${r.className}" title="${r.title}">&#10799;</div>`},e);t.on("initialize",()=>{var r=cl(n.html(n));r.addEventListener("click",s=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),s.preventDefault(),s.stopPropagation())}),t.control.appendChild(r)})}const fl=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},je=(e,t,n,r)=>{e.addEventListener(t,n,r)},pl=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},hl=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(ml(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},ml=e=>typeof e=="string"&&e.indexOf("<")>-1,El=(e,t)=>{pl(t,(n,r)=>{n==null?e.removeAttribute(r):e.setAttribute(r,""+n)})},gl=(e,t)=>{var n;(n=e.parentNode)==null||n.insertBefore(t,e.nextSibling)},_l=(e,t)=>{var n;(n=e.parentNode)==null||n.insertBefore(t,e)},Il=(e,t)=>{do{var n;if(t=(n=t)==null?void 0:n.previousElementSibling,e==t)return!0}while(t&&t.previousElementSibling);return!1};function Tl(){var e=this;if(e.settings.mode!=="multi")return;var t=e.lock,n=e.unlock;let r=!0,s;e.hook("after","setupTemplates",()=>{var o=e.settings.render.item;e.settings.render.item=(i,a)=>{const l=hl(o.call(e,i,a));El(l,{draggable:"true"});const u=m=>{r||fl(m),m.stopPropagation()},c=m=>{s=l,setTimeout(()=>{l.classList.add("ts-dragging")},0)},f=m=>{m.preventDefault(),l.classList.add("ts-drag-over"),E(l,s)},h=()=>{l.classList.remove("ts-drag-over")},E=(m,_)=>{_!==void 0&&(Il(_,l)?gl(m,_):_l(m,_))},d=()=>{var m;document.querySelectorAll(".ts-drag-over").forEach(I=>I.classList.remove("ts-drag-over")),(m=s)==null||m.classList.remove("ts-dragging"),s=void 0;var _=[];e.control.querySelectorAll("[data-value]").forEach(I=>{if(I.dataset.value){let p=I.dataset.value;p&&_.push(p)}}),e.setValue(_)};return je(l,"mousedown",u),je(l,"dragstart",c),je(l,"dragenter",f),je(l,"dragover",f),je(l,"dragleave",h),je(l,"dragend",d),l}}),e.hook("instead","lock",()=>(r=!1,t.call(e))),e.hook("instead","unlock",()=>(r=!0,n.call(e)))}const Rl=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},Ol=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(yl(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},yl=e=>typeof e=="string"&&e.indexOf("<")>-1;function Sl(e){const t=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:r=>'<div class="'+r.headerClass+'"><div class="'+r.titleRowClass+'"><span class="'+r.labelClass+'">'+r.title+'</span><a class="'+r.closeClass+'">&times;</a></div></div>'},e);t.on("initialize",()=>{var r=Ol(n.html(n)),s=r.querySelector("."+n.closeClass);s&&s.addEventListener("click",o=>{Rl(o,!0),t.close()}),t.dropdown.insertBefore(r,t.dropdown.firstChild)})}const Al=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},vl=(e,...t)=>{var n=wl(t);e=Dl(e),e.map(r=>{n.map(s=>{r.classList.remove(s)})})},wl=e=>{var t=[];return Al(e,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(t=t.concat(n))}),t.filter(Boolean)},Dl=e=>(Array.isArray(e)||(e=[e]),e),bl=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var n=0;e=e.previousElementSibling;)e.matches(t)&&n++;return n};function Ll(){var e=this;e.hook("instead","setCaret",t=>{e.settings.mode==="single"||!e.control.contains(e.control_input)?t=e.items.length:(t=Math.max(0,Math.min(e.items.length,t)),t!=e.caretPos&&!e.isPending&&e.controlChildren().forEach((n,r)=>{r<t?e.control_input.insertAdjacentElement("beforebegin",n):e.control.appendChild(n)})),e.caretPos=t}),e.hook("instead","moveCaret",t=>{if(!e.isFocused)return;const n=e.getLastActive(t);if(n){const r=bl(n);e.setCaret(t>0?r+1:r),e.setActiveItem(),vl(n,"last-active")}else e.setCaret(e.caretPos+t)})}const Cl=27,Pl=9,Ml=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},Nl=(e,t,n,r)=>{e.addEventListener(t,n,r)},Fl=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},Nr=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(xl(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},xl=e=>typeof e=="string"&&e.indexOf("<")>-1,Gl=(e,...t)=>{var n=Bl(t);e=Ul(e),e.map(r=>{n.map(s=>{r.classList.add(s)})})},Bl=e=>{var t=[];return Fl(e,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(t=t.concat(n))}),t.filter(Boolean)},Ul=e=>(Array.isArray(e)||(e=[e]),e);function Vl(){const e=this;e.settings.shouldOpen=!0,e.hook("before","setup",()=>{e.focus_node=e.control,Gl(e.control_input,"dropdown-input");const t=Nr('<div class="dropdown-input-wrap">');t.append(e.control_input),e.dropdown.insertBefore(t,e.dropdown.firstChild);const n=Nr('<input class="items-placeholder" tabindex="-1" />');n.placeholder=e.settings.placeholder||"",e.control.append(n)}),e.on("initialize",()=>{e.control_input.addEventListener("keydown",n=>{switch(n.keyCode){case Cl:e.isOpen&&(Ml(n,!0),e.close()),e.clearActiveItems();return;case Pl:e.focus_node.tabIndex=-1;break}return e.onKeyDown.call(e,n)}),e.on("blur",()=>{e.focus_node.tabIndex=e.isDisabled?-1:e.tabIndex}),e.on("dropdown_open",()=>{e.control_input.focus()});const t=e.onBlur;e.hook("instead","onBlur",n=>{if(!(n&&n.relatedTarget==e.control_input))return t.call(e)}),Nl(e.control_input,"blur",()=>e.onBlur()),e.hook("before","close",()=>{e.isOpen&&e.focus_node.focus({preventScroll:!0})})})}const Tt=(e,t,n,r)=>{e.addEventListener(t,n,r)};function Hl(){var e=this;e.on("initialize",()=>{var t=document.createElement("span"),n=e.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",e.wrapper.appendChild(t);var r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of r)t.style[o]=n.style[o];var s=()=>{t.textContent=n.value,n.style.width=t.clientWidth+"px"};s(),e.on("update item_add item_remove",s),Tt(n,"input",s),Tt(n,"keyup",s),Tt(n,"blur",s),Tt(n,"update",s)})}function $l(){var e=this,t=e.deleteSelection;this.hook("instead","deleteSelection",n=>e.activeItems.length?t.call(e,n):!1)}function kl(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const Fr=37,zl=39,ql=(e,t,n)=>{for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}},Wl=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var n=0;e=e.previousElementSibling;)e.matches(t)&&n++;return n};function Yl(){var e=this,t=e.onKeyDown;e.hook("instead","onKeyDown",n=>{var r,s,o,i;if(!e.isOpen||!(n.keyCode===Fr||n.keyCode===zl))return t.call(e,n);e.ignoreHover=!0,i=ql(e.activeOption,"[data-group]"),r=Wl(e.activeOption,"[data-selectable]"),i&&(n.keyCode===Fr?i=i.previousSibling:i=i.nextSibling,i&&(o=i.querySelectorAll("[data-selectable]"),s=o[Math.min(o.length-1,r)],s&&e.setActiveOption(s)))})}const jl=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),xr=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},Gr=(e,t,n,r)=>{e.addEventListener(t,n,r)},Br=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(Xl(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},Xl=e=>typeof e=="string"&&e.indexOf("<")>-1;function Kl(e){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=this;if(t.append){var r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+jl(t.title)+'">'+t.label+"</a>";n.hook("after","setupTemplates",()=>{var s=n.settings.render.item;n.settings.render.item=(o,i)=>{var a=Br(s.call(n,o,i)),l=Br(r);return a.appendChild(l),Gr(l,"mousedown",u=>{xr(u,!0)}),Gr(l,"click",u=>{n.isLocked||(xr(u,!0),!n.isLocked&&n.shouldDelete([a],u)&&(n.removeItem(a),n.refreshOptions(!1),n.inputState()))}),a}})}}function Ql(e){const t=this,n=Object.assign({text:r=>r[t.settings.labelField]},e);t.on("item_remove",function(r){if(t.isFocused&&t.control_input.value.trim()===""){var s=t.options[r];s&&t.setTextboxValue(n.text.call(t,s))}})}const Zl=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},Jl=(e,...t)=>{var n=ec(t);e=tc(e),e.map(r=>{n.map(s=>{r.classList.add(s)})})},ec=e=>{var t=[];return Zl(e,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(t=t.concat(n))}),t.filter(Boolean)},tc=e=>(Array.isArray(e)||(e=[e]),e);function nc(){const e=this,t=e.canLoad,n=e.clearActiveOption,r=e.loadCallback;var s={},o,i=!1,a,l=[];if(e.settings.shouldLoadMore||(e.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(e.activeOption){var h=e.selectable(),E=Array.from(h).indexOf(e.activeOption);if(E>=h.length-2)return!0}return!1}),!e.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";e.settings.sortField=[{field:"$order"},{field:"$score"}];const u=f=>typeof e.settings.maxOptions=="number"&&o.children.length>=e.settings.maxOptions?!1:!!(f in s&&s[f]),c=(f,h)=>e.items.indexOf(h)>=0||l.indexOf(h)>=0;e.setNextUrl=(f,h)=>{s[f]=h},e.getUrl=f=>{if(f in s){const h=s[f];return s[f]=!1,h}return e.clearPagination(),e.settings.firstUrl.call(e,f)},e.clearPagination=()=>{s={}},e.hook("instead","clearActiveOption",()=>{if(!i)return n.call(e)}),e.hook("instead","canLoad",f=>f in s?u(f):t.call(e,f)),e.hook("instead","loadCallback",(f,h)=>{if(!i)e.clearOptions(c);else if(a){const E=f[0];E!==void 0&&(a.dataset.value=E[e.settings.valueField])}r.call(e,f,h),i=!1}),e.hook("after","refreshOptions",()=>{const f=e.lastValue;var h;u(f)?(h=e.render("loading_more",{query:f}),h&&(h.setAttribute("data-selectable",""),a=h)):f in s&&!o.querySelector(".no-results")&&(h=e.render("no_more_results",{query:f})),h&&(Jl(h,e.settings.optionClass),o.append(h))}),e.on("initialize",()=>{l=Object.keys(e.options),o=e.dropdown_content,e.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},e.settings.render),o.addEventListener("scroll",()=>{e.settings.shouldLoadMore.call(e)&&u(e.lastValue)&&(i||(i=!0,e.load.call(e,e.lastValue)))})})}se.define("change_listener",rl);se.define("checkbox_options",ll);se.define("clear_button",dl);se.define("drag_drop",Tl);se.define("dropdown_header",Sl);se.define("caret_position",Ll);se.define("dropdown_input",Vl);se.define("input_autogrow",Hl);se.define("no_backspace_delete",$l);se.define("no_active_items",kl);se.define("optgroup_columns",Yl);se.define("remove_button",Kl);se.define("restore_on_backspace",Ql);se.define("virtual_scroll",nc);/*!
 * FilePond 4.32.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const rc=e=>e instanceof HTMLElement,sc=(e,t=[],n=[])=>{const r={...e},s=[],o=[],i=()=>({...r}),a=()=>{const d=[...s];return s.length=0,d},l=()=>{const d=[...o];o.length=0,d.forEach(({type:m,data:_})=>{u(m,_)})},u=(d,m,_)=>{if(_&&!document.hidden){o.push({type:d,data:m});return}E[d]&&E[d](m),s.push({type:d,data:m})},c=(d,...m)=>h[d]?h[d](...m):null,f={getState:i,processActionQueue:a,processDispatchQueue:l,dispatch:u,query:c};let h={};t.forEach(d=>{h={...d(r),...h}});let E={};return n.forEach(d=>{E={...d(u,c,r),...E}}),f},ic=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},q=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},Me=e=>{const t={};return q(e,n=>{ic(t,n,e[n])}),t},Q=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},oc="http://www.w3.org/2000/svg",ac=["svg","path"],Ur=e=>ac.includes(e),Vt=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const r=Ur(e)?document.createElementNS(oc,e):document.createElement(e);return t&&(Ur(e)?Q(r,"class",t):r.className=t),q(n,(s,o)=>{Q(r,s,o)}),r},lc=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},cc=(e,t)=>(n,r)=>(typeof r<"u"?t.splice(r,0,n):t.push(n),n),uc=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),dc=(()=>typeof window<"u"&&typeof window.document<"u")(),ri=()=>dc,fc=ri()?Vt("svg"):{},pc="children"in fc?e=>e.children.length:e=>e.childNodes.length,si=(e,t,n,r)=>{const s=n[0]||e.left,o=n[1]||e.top,i=s+e.width,a=o+e.height*(r[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:s,top:o,right:i,bottom:a}};return t.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{Vr(l.inner,{...u.inner}),Vr(l.outer,{...u.outer})}),Hr(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,Hr(l.outer),l},Vr=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},Hr=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Be=e=>typeof e=="number",hc=(e,t,n,r=.001)=>Math.abs(e-t)<r&&Math.abs(n)<r,mc=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let r=null,s=null,o=0,i=!1;const u=Me({interpolate:(c,f)=>{if(i)return;if(!(Be(r)&&Be(s))){i=!0,o=0;return}const h=-(s-r)*e;o+=h/n,s+=o,o*=t,hc(s,r,o)||f?(s=r,o=0,i=!0,u.onupdate(s),u.oncomplete(s)):u.onupdate(s)},target:{set:c=>{if(Be(c)&&!Be(s)&&(s=c),r===null&&(r=c,s=c),r=c,s===r||typeof r>"u"){i=!0,o=0,u.onupdate(s),u.oncomplete(s);return}i=!1},get:()=>r},resting:{get:()=>i},onupdate:c=>{},oncomplete:c=>{}});return u},Ec=e=>e<.5?2*e*e:-1+(4-2*e)*e,gc=({duration:e=500,easing:t=Ec,delay:n=0}={})=>{let r=null,s,o,i=!0,a=!1,l=null;const c=Me({interpolate:(f,h)=>{i||l===null||(r===null&&(r=f),!(f-r<n)&&(s=f-r-n,s>=e||h?(s=1,o=a?0:1,c.onupdate(o*l),c.oncomplete(o*l),i=!0):(o=s/e,c.onupdate((s>=0?t(a?1-o:o):0)*l))))},target:{get:()=>a?0:l,set:f=>{if(l===null){l=f,c.onupdate(f),c.oncomplete(f);return}f<l?(l=1,a=!0):(a=!1,l=f),i=!1,r=null}},resting:{get:()=>i},onupdate:f=>{},oncomplete:f=>{}});return c},$r={spring:mc,tween:gc},_c=(e,t,n)=>{const r=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,s=typeof r=="string"?r:r.type,o=typeof r=="object"?{...r}:{};return $r[s]?$r[s](o):null},Qn=(e,t,n,r=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(s=>{e.forEach(o=>{let i=o,a=()=>n[o],l=u=>n[o]=u;typeof o=="object"&&(i=o.key,a=o.getter||a,l=o.setter||l),!(s[i]&&!r)&&(s[i]={get:a,set:l})})})},Ic=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r})=>{const s={...t},o=[];return q(e,(i,a)=>{const l=_c(a);if(!l)return;l.onupdate=c=>{t[i]=c},l.target=s[i],Qn([{key:i,setter:c=>{l.target!==c&&(l.target=c)},getter:()=>t[i]}],[n,r],t,!0),o.push(l)}),{write:i=>{let a=document.hidden,l=!0;return o.forEach(u=>{u.resting||(l=!1),u.interpolate(i,a)}),l},destroy:()=>{}}},Tc=e=>(t,n)=>{e.addEventListener(t,n)},Rc=e=>(t,n)=>{e.removeEventListener(t,n)},Oc=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,viewState:s,view:o})=>{const i=[],a=Tc(o.element),l=Rc(o.element);return r.on=(u,c)=>{i.push({type:u,fn:c}),a(u,c)},r.off=(u,c)=>{i.splice(i.findIndex(f=>f.type===u&&f.fn===c),1),l(u,c)},{write:()=>!0,destroy:()=>{i.forEach(u=>{l(u.type,u.fn)})}}},yc=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{Qn(e,n,t)},ne=e=>e!=null,Sc={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Ac=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,view:s})=>{const o={...t},i={};Qn(e,[n,r],t);const a=()=>[t.translateX||0,t.translateY||0],l=()=>[t.scaleX||0,t.scaleY||0],u=()=>s.rect?si(s.rect,s.childViews,a(),l()):null;return n.rect={get:u},r.rect={get:u},e.forEach(c=>{t[c]=typeof o[c]>"u"?Sc[c]:o[c]}),{write:()=>{if(vc(i,t))return wc(s.element,t),Object.assign(i,{...t}),!0},destroy:()=>{}}},vc=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},wc=(e,{opacity:t,perspective:n,translateX:r,translateY:s,scaleX:o,scaleY:i,rotateX:a,rotateY:l,rotateZ:u,originX:c,originY:f,width:h,height:E})=>{let d="",m="";(ne(c)||ne(f))&&(m+=`transform-origin: ${c||0}px ${f||0}px;`),ne(n)&&(d+=`perspective(${n}px) `),(ne(r)||ne(s))&&(d+=`translate3d(${r||0}px, ${s||0}px, 0) `),(ne(o)||ne(i))&&(d+=`scale3d(${ne(o)?o:1}, ${ne(i)?i:1}, 1) `),ne(u)&&(d+=`rotateZ(${u}rad) `),ne(a)&&(d+=`rotateX(${a}rad) `),ne(l)&&(d+=`rotateY(${l}rad) `),d.length&&(m+=`transform:${d};`),ne(t)&&(m+=`opacity:${t};`,t===0&&(m+="visibility:hidden;"),t<1&&(m+="pointer-events:none;")),ne(E)&&(m+=`height:${E}px;`),ne(h)&&(m+=`width:${h}px;`);const _=e.elementCurrentStyle||"";(m.length!==_.length||m!==_)&&(e.style.cssText=m,e.elementCurrentStyle=m)},Dc={styles:Ac,listeners:Oc,animations:Ic,apis:yc},kr=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),X=({tag:e="div",name:t=null,attributes:n={},read:r=()=>{},write:s=()=>{},create:o=()=>{},destroy:i=()=>{},filterFrameActionsForChild:a=(E,d)=>d,didCreateView:l=()=>{},didWriteView:u=()=>{},ignoreRect:c=!1,ignoreRectUpdate:f=!1,mixins:h=[]}={})=>(E,d={})=>{const m=Vt(e,`filepond--${t}`,n),_=window.getComputedStyle(m,null),I=kr();let p=null,g=!1;const R=[],A=[],C={},D={},T=[s],y=[r],M=[i],w=()=>m,P=()=>R.concat(),U=()=>C,b=V=>(ee,ve)=>ee(V,ve),B=()=>p||(p=si(I,R,[0,0],[1,1]),p),v=()=>_,L=()=>{p=null,R.forEach(ve=>ve._read()),!(f&&I.width&&I.height)&&kr(I,m,_);const ee={root:Ee,props:d,rect:I};y.forEach(ve=>ve(ee))},N=(V,ee,ve)=>{let Ye=ee.length===0;return T.forEach(oe=>{oe({props:d,root:Ee,actions:ee,timestamp:V,shouldOptimize:ve})===!1&&(Ye=!1)}),A.forEach(oe=>{oe.write(V)===!1&&(Ye=!1)}),R.filter(oe=>!!oe.element.parentNode).forEach(oe=>{oe._write(V,a(oe,ee),ve)||(Ye=!1)}),R.forEach((oe,Et)=>{oe.element.parentNode||(Ee.appendChild(oe.element,Et),oe._read(),oe._write(V,a(oe,ee),ve),Ye=!1)}),g=Ye,u({props:d,root:Ee,actions:ee,timestamp:V}),Ye},F=()=>{A.forEach(V=>V.destroy()),M.forEach(V=>{V({root:Ee,props:d})}),R.forEach(V=>V._destroy())},$={element:{get:w},style:{get:v},childViews:{get:P}},G={...$,rect:{get:B},ref:{get:U},is:V=>t===V,appendChild:lc(m),createChildView:b(E),linkView:V=>(R.push(V),V),unlinkView:V=>{R.splice(R.indexOf(V),1)},appendChildView:cc(m,R),removeChildView:uc(m,R),registerWriter:V=>T.push(V),registerReader:V=>y.push(V),registerDestroyer:V=>M.push(V),invalidateLayout:()=>m.layoutCalculated=!1,dispatch:E.dispatch,query:E.query},Ne={element:{get:w},childViews:{get:P},rect:{get:B},resting:{get:()=>g},isRectIgnored:()=>c,_read:L,_write:N,_destroy:F},rt={...$,rect:{get:()=>I}};Object.keys(h).sort((V,ee)=>V==="styles"?1:ee==="styles"?-1:0).forEach(V=>{const ee=Dc[V]({mixinConfig:h[V],viewProps:d,viewState:D,viewInternalAPI:G,viewExternalAPI:Ne,view:Me(rt)});ee&&A.push(ee)});const Ee=Me(G);o({root:Ee,props:d});const on=pc(m);return R.forEach((V,ee)=>{Ee.appendChild(V.element,on+ee)}),l(Ee),Me(Ne)},bc=(e,t,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(t);return}window[r]={readers:[e],writers:[t]};const s=window[r],o=1e3/n;let i=null,a=null,l=null,u=null;const c=()=>{document.hidden?(l=()=>window.setTimeout(()=>f(performance.now()),o),u=()=>window.clearTimeout(a)):(l=()=>window.requestAnimationFrame(f),u=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{u&&u(),c(),f(performance.now())});const f=h=>{a=l(f),i||(i=h);const E=h-i;E<=o||(i=h-E%o,s.readers.forEach(d=>d()),s.writers.forEach(d=>d(h)))};return c(),f(performance.now()),{pause:()=>{u(a)}}},ie=(e,t)=>({root:n,props:r,actions:s=[],timestamp:o,shouldOptimize:i})=>{s.filter(a=>e[a.type]).forEach(a=>e[a.type]({root:n,props:r,action:a.data,timestamp:o,shouldOptimize:i})),t&&t({root:n,props:r,actions:s,timestamp:o,shouldOptimize:i})},zr=(e,t)=>t.parentNode.insertBefore(e,t),qr=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),Zt=e=>Array.isArray(e),De=e=>e==null,Lc=e=>e.trim(),Jt=e=>""+e,Cc=(e,t=",")=>De(e)?[]:Zt(e)?e:Jt(e).split(t).map(Lc).filter(n=>n.length),ii=e=>typeof e=="boolean",oi=e=>ii(e)?e:e==="true",re=e=>typeof e=="string",ai=e=>Be(e)?e:re(e)?Jt(e).replace(/[a-z]+/gi,""):0,Mt=e=>parseInt(ai(e),10),Wr=e=>parseFloat(ai(e)),nt=e=>Be(e)&&isFinite(e)&&Math.floor(e)===e,Yr=(e,t=1e3)=>{if(nt(e))return e;let n=Jt(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Mt(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Mt(n)*t):Mt(n)},Ue=e=>typeof e=="function",Pc=e=>{let t=self,n=e.split("."),r=null;for(;r=n.shift();)if(t=t[r],!t)return null;return t},jr={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Mc=e=>{const t={};return t.url=re(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},q(jr,n=>{t[n]=Nc(n,e[n],jr[n],t.timeout,t.headers)}),t.process=e.process||re(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},Nc=(e,t,n,r,s)=>{if(t===null)return null;if(typeof t=="function")return t;const o={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:s,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(re(t))return o.url=t,o;if(Object.assign(o,t),re(o.headers)){const i=o.headers.split(/:(.+)/);o.headers={header:i[0],value:i[1]}}return o.withCredentials=oi(o.withCredentials),o},Fc=e=>Mc(e),xc=e=>e===null,Z=e=>typeof e=="object"&&e!==null,Gc=e=>Z(e)&&re(e.url)&&Z(e.process)&&Z(e.revert)&&Z(e.restore)&&Z(e.fetch),Cn=e=>Zt(e)?"array":xc(e)?"null":nt(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Gc(e)?"api":typeof e,Bc=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Uc={array:Cc,boolean:oi,int:e=>Cn(e)==="bytes"?Yr(e):Mt(e),number:Wr,float:Wr,bytes:Yr,string:e=>Ue(e)?e:Jt(e),function:e=>Pc(e),serverapi:Fc,object:e=>{try{return JSON.parse(Bc(e))}catch{return null}}},Vc=(e,t)=>Uc[t](e),li=(e,t,n)=>{if(e===t)return e;let r=Cn(e);if(r!==n){const s=Vc(e,n);if(r=Cn(s),s===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=s}return e},Hc=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:r=>{n=li(r,e,t)}}},$c=e=>{const t={};return q(e,n=>{const r=e[n];t[n]=Hc(r[0],r[1])}),Me(t)},kc=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:$c(e)}),en=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),zc=(e,t)=>{const n={};return q(t,r=>{n[r]={get:()=>e.getState().options[r],set:s=>{e.dispatch(`SET_${en(r,"_").toUpperCase()}`,{value:s})}}}),n},qc=e=>(t,n,r)=>{const s={};return q(e,o=>{const i=en(o,"_").toUpperCase();s[`SET_${i}`]=a=>{try{r.options[o]=a.value}catch{}t(`DID_SET_${i}`,{value:r.options[o]})}}),s},Wc=e=>t=>{const n={};return q(e,r=>{n[`GET_${en(r,"_").toUpperCase()}`]=s=>t.options[r]}),n},he={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Zn=()=>Math.random().toString(36).substring(2,11),Jn=(e,t)=>e.splice(t,1),Yc=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},tn=()=>{const e=[],t=(r,s)=>{Jn(e,e.findIndex(o=>o.event===r&&(o.cb===s||!s)))},n=(r,s,o)=>{e.filter(i=>i.event===r).map(i=>i.cb).forEach(i=>Yc(()=>i(...s),o))};return{fireSync:(r,...s)=>{n(r,s,!0)},fire:(r,...s)=>{n(r,s,!1)},on:(r,s)=>{e.push({event:r,cb:s})},onOnce:(r,s)=>{e.push({event:r,cb:(...o)=>{t(r,s),s(...o)}})},off:t}},ci=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},jc=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],ae=e=>{const t={};return ci(e,t,jc),t},Xc=e=>{e.forEach((t,n)=>{t.released&&Jn(e,n)})},x={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},K={INPUT:1,LIMBO:2,LOCAL:3},ui=e=>/[^0-9]+/.exec(e),di=()=>ui(1.1.toLocaleString())[0],Kc=()=>{const e=di(),t=1e3.toLocaleString(),n=1e3.toString();return t!==n?ui(t)[0]:e==="."?",":"."},S={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},er=[],_e=(e,t,n)=>new Promise((r,s)=>{const o=er.filter(a=>a.key===e).map(a=>a.cb);if(o.length===0){r(t);return}const i=o.shift();o.reduce((a,l)=>a.then(u=>l(u,n)),i(t,n)).then(a=>r(a)).catch(a=>s(a))}),qe=(e,t,n)=>er.filter(r=>r.key===e).map(r=>r.cb(t,n)),Qc=(e,t)=>er.push({key:e,cb:t}),Zc=e=>Object.assign(Xe,e),Ht=()=>({...Xe}),Jc=e=>{q(e,(t,n)=>{Xe[t]&&(Xe[t][0]=li(n,Xe[t][0],Xe[t][1]))})},Xe={id:[null,S.STRING],name:["filepond",S.STRING],disabled:[!1,S.BOOLEAN],className:[null,S.STRING],required:[!1,S.BOOLEAN],captureMethod:[null,S.STRING],allowSyncAcceptAttribute:[!0,S.BOOLEAN],allowDrop:[!0,S.BOOLEAN],allowBrowse:[!0,S.BOOLEAN],allowPaste:[!0,S.BOOLEAN],allowMultiple:[!1,S.BOOLEAN],allowReplace:[!0,S.BOOLEAN],allowRevert:[!0,S.BOOLEAN],allowRemove:[!0,S.BOOLEAN],allowProcess:[!0,S.BOOLEAN],allowReorder:[!1,S.BOOLEAN],allowDirectoriesOnly:[!1,S.BOOLEAN],storeAsFile:[!1,S.BOOLEAN],forceRevert:[!1,S.BOOLEAN],maxFiles:[null,S.INT],checkValidity:[!1,S.BOOLEAN],itemInsertLocationFreedom:[!0,S.BOOLEAN],itemInsertLocation:["before",S.STRING],itemInsertInterval:[75,S.INT],dropOnPage:[!1,S.BOOLEAN],dropOnElement:[!0,S.BOOLEAN],dropValidation:[!1,S.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],S.ARRAY],instantUpload:[!0,S.BOOLEAN],maxParallelUploads:[2,S.INT],allowMinimumUploadDuration:[!0,S.BOOLEAN],chunkUploads:[!1,S.BOOLEAN],chunkForce:[!1,S.BOOLEAN],chunkSize:[5e6,S.INT],chunkRetryDelays:[[500,1e3,3e3],S.ARRAY],server:[null,S.SERVER_API],fileSizeBase:[1e3,S.INT],labelFileSizeBytes:["bytes",S.STRING],labelFileSizeKilobytes:["KB",S.STRING],labelFileSizeMegabytes:["MB",S.STRING],labelFileSizeGigabytes:["GB",S.STRING],labelDecimalSeparator:[di(),S.STRING],labelThousandsSeparator:[Kc(),S.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',S.STRING],labelInvalidField:["Field contains invalid files",S.STRING],labelFileWaitingForSize:["Waiting for size",S.STRING],labelFileSizeNotAvailable:["Size not available",S.STRING],labelFileCountSingular:["file in list",S.STRING],labelFileCountPlural:["files in list",S.STRING],labelFileLoading:["Loading",S.STRING],labelFileAdded:["Added",S.STRING],labelFileLoadError:["Error during load",S.STRING],labelFileRemoved:["Removed",S.STRING],labelFileRemoveError:["Error during remove",S.STRING],labelFileProcessing:["Uploading",S.STRING],labelFileProcessingComplete:["Upload complete",S.STRING],labelFileProcessingAborted:["Upload cancelled",S.STRING],labelFileProcessingError:["Error during upload",S.STRING],labelFileProcessingRevertError:["Error during revert",S.STRING],labelTapToCancel:["tap to cancel",S.STRING],labelTapToRetry:["tap to retry",S.STRING],labelTapToUndo:["tap to undo",S.STRING],labelButtonRemoveItem:["Remove",S.STRING],labelButtonAbortItemLoad:["Abort",S.STRING],labelButtonRetryItemLoad:["Retry",S.STRING],labelButtonAbortItemProcessing:["Cancel",S.STRING],labelButtonUndoItemProcessing:["Undo",S.STRING],labelButtonRetryItemProcessing:["Retry",S.STRING],labelButtonProcessItem:["Upload",S.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',S.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],oninit:[null,S.FUNCTION],onwarning:[null,S.FUNCTION],onerror:[null,S.FUNCTION],onactivatefile:[null,S.FUNCTION],oninitfile:[null,S.FUNCTION],onaddfilestart:[null,S.FUNCTION],onaddfileprogress:[null,S.FUNCTION],onaddfile:[null,S.FUNCTION],onprocessfilestart:[null,S.FUNCTION],onprocessfileprogress:[null,S.FUNCTION],onprocessfileabort:[null,S.FUNCTION],onprocessfilerevert:[null,S.FUNCTION],onprocessfile:[null,S.FUNCTION],onprocessfiles:[null,S.FUNCTION],onremovefile:[null,S.FUNCTION],onpreparefile:[null,S.FUNCTION],onupdatefiles:[null,S.FUNCTION],onreorderfiles:[null,S.FUNCTION],beforeDropFile:[null,S.FUNCTION],beforeAddFile:[null,S.FUNCTION],beforeRemoveFile:[null,S.FUNCTION],beforePrepareFile:[null,S.FUNCTION],stylePanelLayout:[null,S.STRING],stylePanelAspectRatio:[null,S.STRING],styleItemPanelAspectRatio:[null,S.STRING],styleButtonRemoveItemPosition:["left",S.STRING],styleButtonProcessItemPosition:["right",S.STRING],styleLoadIndicatorPosition:["right",S.STRING],styleProgressIndicatorPosition:["right",S.STRING],styleButtonRemoveItemAlign:[!1,S.BOOLEAN],files:[[],S.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],S.ARRAY]},Ve=(e,t)=>De(t)?e[0]||null:nt(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),fi=e=>{if(De(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Ie=e=>e.filter(t=>!t.archived),pi={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Rt=null;const eu=()=>{if(Rt===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Rt=t.files.length===1}catch{Rt=!1}return Rt},tu=[x.LOAD_ERROR,x.PROCESSING_ERROR,x.PROCESSING_REVERT_ERROR],nu=[x.LOADING,x.PROCESSING,x.PROCESSING_QUEUED,x.INIT],ru=[x.PROCESSING_COMPLETE],su=e=>tu.includes(e.status),iu=e=>nu.includes(e.status),ou=e=>ru.includes(e.status),Xr=e=>Z(e.options.server)&&(Z(e.options.server.process)||Ue(e.options.server.process)),au=e=>({GET_STATUS:()=>{const t=Ie(e.items),{EMPTY:n,ERROR:r,BUSY:s,IDLE:o,READY:i}=pi;return t.length===0?n:t.some(su)?r:t.some(iu)?s:t.some(ou)?i:o},GET_ITEM:t=>Ve(e.items,t),GET_ACTIVE_ITEM:t=>Ve(Ie(e.items),t),GET_ACTIVE_ITEMS:()=>Ie(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=Ve(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=Ve(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:fi(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>Ie(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>Ie(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&eu()&&!Xr(e),IS_ASYNC:()=>Xr(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),lu=e=>{const t=Ie(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},hi=(e,t,n)=>Math.max(Math.min(n,e),t),cu=(e,t,n)=>e.splice(t,0,n),uu=(e,t,n)=>De(t)?null:typeof n>"u"?(e.push(t),t):(n=hi(n,0,e.length),cu(e,n,t),t),Pn=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),mt=e=>`${e}`.split("/").pop().split("?").shift(),nn=e=>e.split(".").pop(),du=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},it=(e,t="")=>(t+e).slice(-t.length),mi=(e=new Date)=>`${e.getFullYear()}-${it(e.getMonth()+1,"00")}-${it(e.getDate(),"00")}_${it(e.getHours(),"00")}-${it(e.getMinutes(),"00")}-${it(e.getSeconds(),"00")}`,et=(e,t,n=null,r=null)=>{const s=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return s.lastModifiedDate=new Date,e._relativePath&&(s._relativePath=e._relativePath),re(t)||(t=mi()),t&&r===null&&nn(t)?s.name=t:(r=r||du(s.type),s.name=t+(r?"."+r:"")),s},fu=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Ei=(e,t)=>{const n=fu();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},pu=(e,t)=>{const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return Ei(n,t)},gi=e=>(/^data:(.+);/.exec(e)||[])[1]||null,hu=e=>e.split(",")[1].replace(/\s/g,""),mu=e=>atob(hu(e)),Eu=e=>{const t=gi(e),n=mu(e);return pu(n,t)},gu=(e,t,n)=>et(Eu(e),t,null,n),_u=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},Iu=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Tu=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,tr=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let r of n){const s=_u(r);if(s){t.name=s;continue}const o=Iu(r);if(o){t.size=o;continue}const i=Tu(r);if(i){t.source=i;continue}}return t},Ru=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,r=()=>{t.request&&t.request.abort&&t.request.abort()},s=()=>{const a=t.source;i.fire("init",a),a instanceof File?i.fire("load",a):a instanceof Blob?i.fire("load",et(a,a.name)):Pn(a)?i.fire("load",gu(a)):o(a)},o=a=>{if(!e){i.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(a,l=>{t.duration=Date.now()-t.timestamp,t.complete=!0,l instanceof Blob&&(l=et(l,l.name||mt(a))),i.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{i.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,u,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!l){t.progress=null;return}t.progress=u/c,i.fire("progress",t.progress)},()=>{i.fire("abort")},l=>{const u=tr(typeof l=="string"?l:l.headers);i.fire("meta",{size:t.size||u.size,filename:u.name,source:u.source})})},i={...tn(),setSource:a=>t.source=a,getProgress:n,abort:r,load:s};return i},Kr=e=>/GET|HEAD/.test(e),He=(e,t,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{s=!0,i.abort()}};let s=!1,o=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),Kr(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const i=new XMLHttpRequest,a=Kr(n.method)?i:i.upload;return a.onprogress=l=>{s||r.onprogress(l.lengthComputable,l.loaded,l.total)},i.onreadystatechange=()=>{i.readyState<2||i.readyState===4&&i.status===0||o||(o=!0,r.onheaders(i))},i.onload=()=>{i.status>=200&&i.status<300?r.onload(i):r.onerror(i)},i.onerror=()=>r.onerror(i),i.onabort=()=>{s=!0,r.onabort()},i.ontimeout=()=>r.ontimeout(i),i.open(n.method,t,!0),nt(n.timeout)&&(i.timeout=n.timeout),Object.keys(n.headers).forEach(l=>{const u=unescape(encodeURIComponent(n.headers[l]));i.setRequestHeader(l,u)}),n.responseType&&(i.responseType=n.responseType),n.withCredentials&&(i.withCredentials=!0),i.send(e),r},W=(e,t,n,r)=>({type:e,code:t,body:n,headers:r}),$e=e=>t=>{e(W("error",0,"Timeout",t.getAllResponseHeaders()))},Qr=e=>/\?/.test(e),lt=(...e)=>{let t="";return e.forEach(n=>{t+=Qr(t)&&Qr(n)?n.replace(/\?/,"&"):n}),t},_n=(e="",t)=>{if(typeof t=="function")return t;if(!t||!re(t.url))return null;const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,o,i,a,l,u)=>{const c=He(s,lt(e,t.url),{...t,responseType:"blob"});return c.onload=f=>{const h=f.getAllResponseHeaders(),E=tr(h).name||mt(s);o(W("load",f.status,t.method==="HEAD"?null:et(n(f.response),E),h))},c.onerror=f=>{i(W("error",f.status,r(f.response)||f.statusText,f.getAllResponseHeaders()))},c.onheaders=f=>{u(W("headers",f.status,null,f.getAllResponseHeaders()))},c.ontimeout=$e(i),c.onprogress=a,c.onabort=l,c}},de={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Ou=(e,t,n,r,s,o,i,a,l,u,c)=>{const f=[],{chunkTransferId:h,chunkServer:E,chunkSize:d,chunkRetryDelays:m}=c,_={serverId:h,aborted:!1},I=t.ondata||(b=>b),p=t.onload||((b,B)=>B==="HEAD"?b.getResponseHeader("Upload-Offset"):b.response),g=t.onerror||(b=>null),R=b=>{const B=new FormData;Z(s)&&B.append(n,JSON.stringify(s));const v=typeof t.headers=="function"?t.headers(r,s):{...t.headers,"Upload-Length":r.size},L={...t,headers:v},N=He(I(B),lt(e,t.url),L);N.onload=F=>b(p(F,L.method)),N.onerror=F=>i(W("error",F.status,g(F.response)||F.statusText,F.getAllResponseHeaders())),N.ontimeout=$e(i)},A=b=>{const B=lt(e,E.url,_.serverId),L={headers:typeof t.headers=="function"?t.headers(_.serverId):{...t.headers},method:"HEAD"},N=He(null,B,L);N.onload=F=>b(p(F,L.method)),N.onerror=F=>i(W("error",F.status,g(F.response)||F.statusText,F.getAllResponseHeaders())),N.ontimeout=$e(i)},C=Math.floor(r.size/d);for(let b=0;b<=C;b++){const B=b*d,v=r.slice(B,B+d,"application/offset+octet-stream");f[b]={index:b,size:v.size,offset:B,data:v,file:r,progress:0,retries:[...m],status:de.QUEUED,error:null,request:null,timeout:null}}const D=()=>o(_.serverId),T=b=>b.status===de.QUEUED||b.status===de.ERROR,y=b=>{if(_.aborted)return;if(b=b||f.find(T),!b){f.every(G=>G.status===de.COMPLETE)&&D();return}b.status=de.PROCESSING,b.progress=null;const B=E.ondata||(G=>G),v=E.onerror||(G=>null),L=E.onload||(()=>{}),N=lt(e,E.url,_.serverId),F=typeof E.headers=="function"?E.headers(b):{...E.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":b.offset,"Upload-Length":r.size,"Upload-Name":r.name},$=b.request=He(B(b.data),N,{...E,headers:F});$.onload=G=>{L(G,b.index,f.length),b.status=de.COMPLETE,b.request=null,P()},$.onprogress=(G,Ne,rt)=>{b.progress=G?Ne:null,w()},$.onerror=G=>{b.status=de.ERROR,b.request=null,b.error=v(G.response)||G.statusText,M(b)||i(W("error",G.status,v(G.response)||G.statusText,G.getAllResponseHeaders()))},$.ontimeout=G=>{b.status=de.ERROR,b.request=null,M(b)||$e(i)(G)},$.onabort=()=>{b.status=de.QUEUED,b.request=null,l()}},M=b=>b.retries.length===0?!1:(b.status=de.WAITING,clearTimeout(b.timeout),b.timeout=setTimeout(()=>{y(b)},b.retries.shift()),!0),w=()=>{const b=f.reduce((v,L)=>v===null||L.progress===null?null:v+L.progress,0);if(b===null)return a(!1,0,0);const B=f.reduce((v,L)=>v+L.size,0);a(!0,b,B)},P=()=>{f.filter(B=>B.status===de.PROCESSING).length>=1||y()},U=()=>{f.forEach(b=>{clearTimeout(b.timeout),b.request&&b.request.abort()})};return _.serverId?A(b=>{_.aborted||(f.filter(B=>B.offset<b).forEach(B=>{B.status=de.COMPLETE,B.progress=B.size}),P())}):R(b=>{_.aborted||(u(b),_.serverId=b,P())}),{abort:()=>{_.aborted=!0,U()}}},yu=(e,t,n,r)=>(s,o,i,a,l,u,c)=>{if(!s)return;const f=r.chunkUploads,h=f&&s.size>r.chunkSize,E=f&&(h||r.chunkForce);if(s instanceof Blob&&E)return Ou(e,t,n,s,o,i,a,l,u,c,r);const d=t.ondata||(A=>A),m=t.onload||(A=>A),_=t.onerror||(A=>null),I=typeof t.headers=="function"?t.headers(s,o)||{}:{...t.headers},p={...t,headers:I};var g=new FormData;Z(o)&&g.append(n,JSON.stringify(o)),(s instanceof Blob?[{name:null,file:s}]:s).forEach(A=>{g.append(n,A.file,A.name===null?A.file.name:`${A.name}${A.file.name}`)});const R=He(d(g),lt(e,t.url),p);return R.onload=A=>{i(W("load",A.status,m(A.response),A.getAllResponseHeaders()))},R.onerror=A=>{a(W("error",A.status,_(A.response)||A.statusText,A.getAllResponseHeaders()))},R.ontimeout=$e(a),R.onprogress=l,R.onabort=u,R},Su=(e="",t,n,r)=>typeof t=="function"?(...s)=>t(n,...s,r):!t||!re(t.url)?null:yu(e,t,n,r),ot=(e="",t)=>{if(typeof t=="function")return t;if(!t||!re(t.url))return(s,o)=>o();const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,o,i)=>{const a=He(s,e+t.url,t);return a.onload=l=>{o(W("load",l.status,n(l.response),l.getAllResponseHeaders()))},a.onerror=l=>{i(W("error",l.status,r(l.response)||l.statusText,l.getAllResponseHeaders()))},a.ontimeout=$e(i),a}},_i=(e=0,t=1)=>e+Math.random()*(t-e),Au=(e,t=1e3,n=0,r=25,s=250)=>{let o=null;const i=Date.now(),a=()=>{let l=Date.now()-i,u=_i(r,s);l+u>t&&(u=l+u-t);let c=l/t;if(c>=1||document.hidden){e(1);return}e(c),o=setTimeout(a,u)};return t>0&&a(),{clear:()=>{clearTimeout(o)}}},vu=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=t,s=(c,f)=>{const h=()=>{n.duration===0||n.progress===null||u.fire("progress",u.getProgress())},E=()=>{n.complete=!0,u.fire("load-perceived",n.response.body)};u.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=Au(d=>{n.perceivedProgress=d,n.perceivedDuration=Date.now()-n.timestamp,h(),n.response&&n.perceivedProgress===1&&!n.complete&&E()},r?_i(750,1500):0),n.request=e(c,f,d=>{n.response=Z(d)?d:{type:"load",code:200,body:`${d}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,u.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&E()},d=>{n.perceivedPerformanceUpdater.clear(),u.fire("error",Z(d)?d:{type:"error",code:0,body:`${d}`})},(d,m,_)=>{n.duration=Date.now()-n.timestamp,n.progress=d?m/_:null,h()},()=>{n.perceivedPerformanceUpdater.clear(),u.fire("abort",n.response?n.response.body:null)},d=>{u.fire("transfer",d)})},o=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},i=()=>{o(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},a=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,l=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,u={...tn(),process:s,abort:o,getProgress:a,getDuration:l,reset:i};return u},Ii=e=>e.substring(0,e.lastIndexOf("."))||e,wu=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||Pn(e)?t[0]=e.name||mi():Pn(e)?(t[1]=e.length,t[2]=gi(e)):re(e)&&(t[0]=mt(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},ke=e=>!!(e instanceof File||e instanceof Blob&&e.name),Ti=e=>{if(!Z(e))return e;const t=Zt(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];t[n]=r&&Z(r)?Ti(r):r}return t},Du=(e=null,t=null,n=null)=>{const r=Zn(),s={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?x.PROCESSING_COMPLETE:x.INIT,activeLoader:null,activeProcessor:null};let o=null;const i={},a=T=>s.status=T,l=(T,...y)=>{s.released||s.frozen||C.fire(T,...y)},u=()=>nn(s.file.name),c=()=>s.file.type,f=()=>s.file.size,h=()=>s.file,E=(T,y,M)=>{if(s.source=T,C.fireSync("init"),s.file){C.fireSync("load-skip");return}s.file=wu(T),y.on("init",()=>{l("load-init")}),y.on("meta",w=>{s.file.size=w.size,s.file.filename=w.filename,w.source&&(e=K.LIMBO,s.serverFileReference=w.source,s.status=x.PROCESSING_COMPLETE),l("load-meta")}),y.on("progress",w=>{a(x.LOADING),l("load-progress",w)}),y.on("error",w=>{a(x.LOAD_ERROR),l("load-request-error",w)}),y.on("abort",()=>{a(x.INIT),l("load-abort")}),y.on("load",w=>{s.activeLoader=null;const P=b=>{s.file=ke(b)?b:s.file,e===K.LIMBO&&s.serverFileReference?a(x.PROCESSING_COMPLETE):a(x.IDLE),l("load")},U=b=>{s.file=w,l("load-meta"),a(x.LOAD_ERROR),l("load-file-error",b)};if(s.serverFileReference){P(w);return}M(w,P,U)}),y.setSource(T),s.activeLoader=y,y.load()},d=()=>{s.activeLoader&&s.activeLoader.load()},m=()=>{if(s.activeLoader){s.activeLoader.abort();return}a(x.INIT),l("load-abort")},_=(T,y)=>{if(s.processingAborted){s.processingAborted=!1;return}if(a(x.PROCESSING),o=null,!(s.file instanceof Blob)){C.on("load",()=>{_(T,y)});return}T.on("load",P=>{s.transferId=null,s.serverFileReference=P}),T.on("transfer",P=>{s.transferId=P}),T.on("load-perceived",P=>{s.activeProcessor=null,s.transferId=null,s.serverFileReference=P,a(x.PROCESSING_COMPLETE),l("process-complete",P)}),T.on("start",()=>{l("process-start")}),T.on("error",P=>{s.activeProcessor=null,a(x.PROCESSING_ERROR),l("process-error",P)}),T.on("abort",P=>{s.activeProcessor=null,s.serverFileReference=P,a(x.IDLE),l("process-abort"),o&&o()}),T.on("progress",P=>{l("process-progress",P)});const M=P=>{s.archived||T.process(P,{...i})},w=console.error;y(s.file,M,w),s.activeProcessor=T},I=()=>{s.processingAborted=!1,a(x.PROCESSING_QUEUED)},p=()=>new Promise(T=>{if(!s.activeProcessor){s.processingAborted=!0,a(x.IDLE),l("process-abort"),T();return}o=()=>{T()},s.activeProcessor.abort()}),g=(T,y)=>new Promise((M,w)=>{const P=s.serverFileReference!==null?s.serverFileReference:s.transferId;if(P===null){M();return}T(P,()=>{s.serverFileReference=null,s.transferId=null,M()},U=>{if(!y){M();return}a(x.PROCESSING_REVERT_ERROR),l("process-revert-error"),w(U)}),a(x.IDLE),l("process-revert")}),R=(T,y,M)=>{const w=T.split("."),P=w[0],U=w.pop();let b=i;w.forEach(B=>b=b[B]),JSON.stringify(b[U])!==JSON.stringify(y)&&(b[U]=y,l("metadata-update",{key:P,value:i[P],silent:M}))},C={id:{get:()=>r},origin:{get:()=>e,set:T=>e=T},serverId:{get:()=>s.serverFileReference},transferId:{get:()=>s.transferId},status:{get:()=>s.status},filename:{get:()=>s.file.name},filenameWithoutExtension:{get:()=>Ii(s.file.name)},fileExtension:{get:u},fileType:{get:c},fileSize:{get:f},file:{get:h},relativePath:{get:()=>s.file._relativePath},source:{get:()=>s.source},getMetadata:T=>Ti(T?i[T]:i),setMetadata:(T,y,M)=>{if(Z(T)){const w=T;return Object.keys(w).forEach(P=>{R(P,w[P],y)}),T}return R(T,y,M),y},extend:(T,y)=>D[T]=y,abortLoad:m,retryLoad:d,requestProcessing:I,abortProcessing:p,load:E,process:_,revert:g,...tn(),freeze:()=>s.frozen=!0,release:()=>s.released=!0,released:{get:()=>s.released},archive:()=>s.archived=!0,archived:{get:()=>s.archived},setFile:T=>s.file=T},D=Me(C);return D},bu=(e,t)=>De(t)?0:re(t)?e.findIndex(n=>n.id===t):-1,Zr=(e,t)=>{const n=bu(e,t);if(!(n<0))return e[n]||null},Jr=(e,t,n,r,s,o)=>{const i=He(null,e,{method:"GET",responseType:"blob"});return i.onload=a=>{const l=a.getAllResponseHeaders(),u=tr(l).name||mt(e);t(W("load",a.status,et(a.response,u),l))},i.onerror=a=>{n(W("error",a.status,a.statusText,a.getAllResponseHeaders()))},i.onheaders=a=>{o(W("headers",a.status,null,a.getAllResponseHeaders()))},i.ontimeout=$e(n),i.onprogress=r,i.onabort=s,i},es=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Lu=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&es(location.href)!==es(e),Ot=e=>(...t)=>Ue(e)?e(...t):e,Cu=e=>!ke(e.file),In=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:Ie(t.items)})},0)},ts=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const r=e(...t);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),Tn=(e,t)=>{e.items.sort((n,r)=>t(ae(n),ae(r)))},fe=(e,t)=>({query:n,success:r=()=>{},failure:s=()=>{},...o}={})=>{const i=Ve(e.items,n);if(!i){s({error:W("error",0,"Item not found"),file:null});return}t(i,r,s,o||{})},Pu=(e,t,n)=>({ABORT_ALL:()=>{Ie(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const s=r.map(i=>({source:i.source?i.source:i,options:i.options}));let o=Ie(n.items);o.forEach(i=>{s.find(a=>a.source===i.source||a.source===i.file)||e("REMOVE_ITEM",{query:i,remove:!1})}),o=Ie(n.items),s.forEach((i,a)=>{o.find(l=>l.source===i.source||l.file===i.source)||e("ADD_ITEM",{...i,interactionMethod:he.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:r,action:s,change:o})=>{o.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const i=Zr(n.items,r);if(!t("IS_ASYNC")){_e("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:t,action:s,change:o}).then(c=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(c=f(i,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:i,success:h=>{e("DID_PREPARE_OUTPUT",{id:r,file:h})}},!0)});return}i.origin===K.LOCAL&&e("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.source});const a=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},l=c=>{i.revert(ot(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c?a:()=>{}).catch(()=>{})},u=c=>{i.abortProcessing().then(c?a:()=>{})};if(i.status===x.PROCESSING_COMPLETE)return l(n.options.instantUpload);if(i.status===x.PROCESSING)return u(n.options.instantUpload);n.options.instantUpload&&a()},0))},MOVE_ITEM:({query:r,index:s})=>{const o=Ve(n.items,r);if(!o)return;const i=n.items.indexOf(o);s=hi(s,0,n.items.length-1),i!==s&&n.items.splice(s,0,n.items.splice(i,1)[0])},SORT:({compare:r})=>{Tn(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:s,interactionMethod:o,success:i=()=>{},failure:a=()=>{}})=>{let l=s;if(s===-1||typeof s>"u"){const E=t("GET_ITEM_INSERT_LOCATION"),d=t("GET_TOTAL_ITEMS");l=E==="before"?0:d}const u=t("GET_IGNORED_FILES"),c=E=>ke(E)?!u.includes(E.name.toLowerCase()):!De(E),h=r.filter(c).map(E=>new Promise((d,m)=>{e("ADD_ITEM",{interactionMethod:o,source:E.source||E,success:d,failure:m,index:l++,options:E.options||{}})}));Promise.all(h).then(i).catch(a)},ADD_ITEM:({source:r,index:s=-1,interactionMethod:o,success:i=()=>{},failure:a=()=>{},options:l={}})=>{if(De(r)){a({error:W("error",0,"No source"),file:null});return}if(ke(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!lu(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const p=W("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:p}),a({error:p,file:null});return}const I=Ie(n.items)[0];if(I.status===x.PROCESSING_COMPLETE||I.status===x.PROCESSING_REVERT_ERROR){const p=t("GET_FORCE_REVERT");if(I.revert(ot(n.options.server.url,n.options.server.revert),p).then(()=>{p&&e("ADD_ITEM",{source:r,index:s,interactionMethod:o,success:i,failure:a,options:l})}).catch(()=>{}),p)return}e("REMOVE_ITEM",{query:I.id})}const u=l.type==="local"?K.LOCAL:l.type==="limbo"?K.LIMBO:K.INPUT,c=Du(u,u===K.INPUT?null:r,l.file);Object.keys(l.metadata||{}).forEach(I=>{c.setMetadata(I,l.metadata[I])}),qe("DID_CREATE_ITEM",c,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(s=f==="before"?-1:n.items.length),uu(n.items,c,s),Ue(f)&&r&&Tn(n,f);const h=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:h})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:h})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:h})}),c.on("load-progress",I=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:h,progress:I})}),c.on("load-request-error",I=>{const p=Ot(n.options.labelFileLoadError)(I);if(I.code>=400&&I.code<500){e("DID_THROW_ITEM_INVALID",{id:h,error:I,status:{main:p,sub:`${I.code} (${I.body})`}}),a({error:I,file:ae(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:h,error:I,status:{main:p,sub:n.options.labelTapToRetry}})}),c.on("load-file-error",I=>{e("DID_THROW_ITEM_INVALID",{id:h,error:I.status,status:I.status}),a({error:I.status,file:ae(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:h})}),c.on("load-skip",()=>{c.on("metadata-update",I=>{ke(c.file)&&e("DID_UPDATE_ITEM_METADATA",{id:h,change:I})}),e("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:r,success:i}})}),c.on("load",()=>{const I=p=>{if(!p){e("REMOVE_ITEM",{query:h});return}c.on("metadata-update",g=>{e("DID_UPDATE_ITEM_METADATA",{id:h,change:g})}),_e("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(g=>{const R=t("GET_BEFORE_PREPARE_FILE");R&&(g=R(c,g));const A=()=>{e("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:r,success:i}}),In(e,n)};if(g){e("REQUEST_PREPARE_OUTPUT",{query:h,item:c,success:C=>{e("DID_PREPARE_OUTPUT",{id:h,file:C}),A()}},!0);return}A()})};_e("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{ts(t("GET_BEFORE_ADD_FILE"),ae(c)).then(I)}).catch(p=>{if(!p||!p.error||!p.status)return I(!1);e("DID_THROW_ITEM_INVALID",{id:h,error:p.error,status:p.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:h})}),c.on("process-progress",I=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:h,progress:I})}),c.on("process-error",I=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:h,error:I,status:{main:Ot(n.options.labelFileProcessingError)(I),sub:n.options.labelTapToRetry}})}),c.on("process-revert-error",I=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:h,error:I,status:{main:Ot(n.options.labelFileProcessingRevertError)(I),sub:n.options.labelTapToRetry}})}),c.on("process-complete",I=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:h,error:null,serverFileReference:I}),e("DID_DEFINE_VALUE",{id:h,value:I})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:h})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:h}),e("DID_DEFINE_VALUE",{id:h,value:null})}),e("DID_ADD_ITEM",{id:h,index:s,interactionMethod:o}),In(e,n);const{url:E,load:d,restore:m,fetch:_}=n.options.server||{};c.load(r,Ru(u===K.INPUT?re(r)&&Lu(r)&&_?_n(E,_):Jr:u===K.LIMBO?_n(E,m):_n(E,d)),(I,p,g)=>{_e("LOAD_FILE",I,{query:t}).then(p).catch(g)})},REQUEST_PREPARE_OUTPUT:({item:r,success:s,failure:o=()=>{}})=>{const i={error:W("error",0,"Item not found"),file:null};if(r.archived)return o(i);_e("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(a=>{_e("COMPLETE_PREPARE_OUTPUT",a,{query:t,item:r}).then(l=>{if(r.archived)return o(i);s(l)})})},COMPLETE_LOAD_ITEM:({item:r,data:s})=>{const{success:o,source:i}=s,a=t("GET_ITEM_INSERT_LOCATION");if(Ue(a)&&i&&Tn(n,a),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===K.INPUT?null:i}),o(ae(r)),r.origin===K.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===K.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:i}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||i});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:fe(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:fe(n,(r,s,o)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:i=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:i}),s({file:r,output:i})},failure:o},!0)}),REQUEST_ITEM_PROCESSING:fe(n,(r,s,o)=>{if(!(r.status===x.IDLE||r.status===x.PROCESSING_ERROR)){const a=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:s,failure:o}),l=()=>document.hidden?a():setTimeout(a,32);r.status===x.PROCESSING_COMPLETE||r.status===x.PROCESSING_REVERT_ERROR?r.revert(ot(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(()=>{}):r.status===x.PROCESSING&&r.abortProcessing().then(l);return}r.status!==x.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:s,failure:o},!0))}),PROCESS_ITEM:fe(n,(r,s,o)=>{const i=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",x.PROCESSING).length===i){n.processingQueue.push({id:r.id,success:s,failure:o});return}if(r.status===x.PROCESSING)return;const l=()=>{const c=n.processingQueue.shift();if(!c)return;const{id:f,success:h,failure:E}=c,d=Ve(n.items,f);if(!d||d.archived){l();return}e("PROCESS_ITEM",{query:f,success:h,failure:E},!0)};r.onOnce("process-complete",()=>{s(ae(r)),l();const c=n.options.server;if(n.options.instantUpload&&r.origin===K.LOCAL&&Ue(c.remove)){const E=()=>{};r.origin=K.LIMBO,n.options.server.remove(r.source,E,E)}t("GET_ITEMS_BY_STATUS",x.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",c=>{o({error:c,file:ae(r)}),l()});const u=n.options;r.process(vu(Su(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,f,h)=>{_e("PREPARE_OUTPUT",c,{query:t,item:r}).then(E=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:E}),f(E)}).catch(h)})}),RETRY_ITEM_PROCESSING:fe(n,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:fe(n,r=>{ts(t("GET_BEFORE_REMOVE_FILE"),ae(r)).then(s=>{s&&e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:fe(n,r=>{r.release()}),REMOVE_ITEM:fe(n,(r,s,o,i)=>{const a=()=>{const u=r.id;Zr(n.items,u).archive(),e("DID_REMOVE_ITEM",{error:null,id:u,item:r}),In(e,n),s(ae(r))},l=n.options.server;r.origin===K.LOCAL&&l&&Ue(l.remove)&&i.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),l.remove(r.source,()=>a(),u=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:W("error",0,u,null),status:{main:Ot(n.options.labelFileRemoveError)(u),sub:n.options.labelTapToRetry}})})):((i.revert&&r.origin!==K.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(ot(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:fe(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:fe(n,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:fe(n,r=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const s=a=>{a&&e("REVERT_ITEM_PROCESSING",{query:r})},o=t("GET_BEFORE_REMOVE_FILE");if(!o)return s(!0);const i=o(ae(r));if(i==null)return s(!0);if(typeof i=="boolean")return s(i);typeof i.then=="function"&&i.then(s)}),REVERT_ITEM_PROCESSING:fe(n,r=>{r.revert(ot(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||Cu(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const s=Object.keys(r),o=Mu.filter(a=>s.includes(a));[...o,...Object.keys(r).filter(a=>!o.includes(a))].forEach(a=>{e(`SET_${en(a,"_").toUpperCase()}`,{value:r[a]})})}}),Mu=["server"],nr=e=>e,be=e=>document.createElement(e),Y=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},ns=(e,t,n,r)=>{const s=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}},Nu=(e,t,n,r,s,o)=>{const i=ns(e,t,n,s),a=ns(e,t,n,r);return["M",i.x,i.y,"A",n,n,0,o,0,a.x,a.y].join(" ")},Fu=(e,t,n,r,s)=>{let o=1;return s>r&&s-r<=.5&&(o=0),r>s&&r-s>=.5&&(o=0),Nu(e,t,n,Math.min(.9999,r)*360,Math.min(.9999,s)*360,o)},xu=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=Vt("svg");e.ref.path=Vt("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},Gu=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(Q(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let s=0,o=0;t.spin?(s=0,o=.5):(s=0,o=t.progress);const i=Fu(r,r,r-n,s,o);Q(e.ref.path,"d",i),Q(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},rs=X({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:xu,write:Gu,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Bu=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},Uu=({root:e,props:t})=>{const{isDisabled:n}=t,r=e.query("GET_DISABLED")||t.opacity===0;r&&!n?(t.isDisabled=!0,Q(e.element,"disabled","disabled")):!r&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},Ri=X({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Bu,write:Uu}),Oi=(e,t=".",n=1e3,r={})=>{const{labelBytes:s="bytes",labelKilobytes:o="KB",labelMegabytes:i="MB",labelGigabytes:a="GB"}=r;e=Math.round(Math.abs(e));const l=n,u=n*n,c=n*n*n;return e<l?`${e} ${s}`:e<u?`${Math.floor(e/l)} ${o}`:e<c?`${ss(e/u,1,t)} ${i}`:`${ss(e/c,2,t)} ${a}`},ss=(e,t,n)=>e.toFixed(t).split(".").filter(r=>r!=="0").join(n),Vu=({root:e,props:t})=>{const n=be("span");n.className="filepond--file-info-main",Q(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const r=be("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,Y(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Y(n,nr(e.query("GET_ITEM_NAME",t.id)))},Mn=({root:e,props:t})=>{Y(e.ref.fileSize,Oi(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),Y(e.ref.fileName,nr(e.query("GET_ITEM_NAME",t.id)))},is=({root:e,props:t})=>{if(nt(e.query("GET_ITEM_SIZE",t.id))){Mn({root:e,props:t});return}Y(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Hu=X({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:ie({DID_LOAD_ITEM:Mn,DID_UPDATE_ITEM_META:Mn,DID_THROW_ITEM_LOAD_ERROR:is,DID_THROW_ITEM_INVALID:is}),didCreateView:e=>{qe("CREATE_VIEW",{...e,view:e})},create:Vu,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),yi=e=>Math.round(e*100),$u=({root:e})=>{const t=be("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=be("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,Si({root:e,action:{progress:null}})},Si=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${yi(t.progress)}%`;Y(e.ref.main,n),Y(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},ku=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${yi(t.progress)}%`;Y(e.ref.main,n),Y(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},zu=({root:e})=>{Y(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),Y(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},qu=({root:e})=>{Y(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Y(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},Wu=({root:e})=>{Y(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Y(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},os=({root:e})=>{Y(e.ref.main,""),Y(e.ref.sub,"")},at=({root:e,action:t})=>{Y(e.ref.main,t.status.main),Y(e.ref.sub,t.status.sub)},Yu=X({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:ie({DID_LOAD_ITEM:os,DID_REVERT_ITEM_PROCESSING:os,DID_REQUEST_ITEM_PROCESSING:zu,DID_ABORT_ITEM_PROCESSING:qu,DID_COMPLETE_ITEM_PROCESSING:Wu,DID_UPDATE_ITEM_PROCESS_PROGRESS:ku,DID_UPDATE_ITEM_LOAD_PROGRESS:Si,DID_THROW_ITEM_LOAD_ERROR:at,DID_THROW_ITEM_INVALID:at,DID_THROW_ITEM_PROCESSING_ERROR:at,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:at,DID_THROW_ITEM_REMOVE_ERROR:at}),didCreateView:e=>{qe("CREATE_VIEW",{...e,view:e})},create:$u,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Nn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Fn=[];q(Nn,e=>{Fn.push(e)});const ue=e=>{if(xn(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},ju=e=>e.ref.buttonAbortItemLoad.rect.element.width,yt=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Xu=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),Ku=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Qu=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),xn=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Zu={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Ku},processProgressIndicator:{opacity:0,align:Qu},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},as={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ue},status:{translateX:ue}},Rn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Ke={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ue},status:{translateX:ue,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ue},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:xn},info:{translateX:ue},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:xn},buttonRemoveItem:{opacity:1},info:{translateX:ue},status:{opacity:1,translateX:ue}},DID_LOAD_ITEM:as,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ue},status:{translateX:ue}},DID_START_ITEM_PROCESSING:Rn,DID_REQUEST_ITEM_PROCESSING:Rn,DID_UPDATE_ITEM_PROCESS_PROGRESS:Rn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ue}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ue},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:as},Ju=X({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),ed=({root:e,props:t})=>{const n=Object.keys(Nn).reduce((d,m)=>(d[m]={...Nn[m]},d),{}),{id:r}=t,s=e.query("GET_ALLOW_REVERT"),o=e.query("GET_ALLOW_REMOVE"),i=e.query("GET_ALLOW_PROCESS"),a=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),u=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;l?i&&!s?c=d=>!/RevertItemProcessing/.test(d):!i&&s?c=d=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(d):!i&&!s&&(c=d=>!/Process/.test(d)):c=d=>!/Process/.test(d);const f=c?Fn.filter(c):Fn.concat();if(a&&s&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!s){const d=Ke.DID_COMPLETE_ITEM_PROCESSING;d.info.translateX=Xu,d.info.translateY=yt,d.status.translateY=yt,d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!i&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(d=>{Ke[d].status.translateY=yt}),Ke.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=ju),u&&s){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const d=Ke.DID_COMPLETE_ITEM_PROCESSING;d.info.translateX=ue,d.status.translateY=yt,d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}o||(n.RemoveItem.disabled=!0),q(n,(d,m)=>{const _=e.createChildView(Ri,{label:e.query(m.label),icon:e.query(m.icon),opacity:0});f.includes(d)&&e.appendChildView(_),m.disabled&&(_.element.setAttribute("disabled","disabled"),_.element.setAttribute("hidden","hidden")),_.element.dataset.align=e.query(`GET_STYLE_${m.align}`),_.element.classList.add(m.className),_.on("click",I=>{I.stopPropagation(),!m.disabled&&e.dispatch(m.action,{query:r})}),e.ref[`button${d}`]=_}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(Ju)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(Hu,{id:r})),e.ref.status=e.appendChildView(e.createChildView(Yu,{id:r}));const h=e.appendChildView(e.createChildView(rs,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=h;const E=e.appendChildView(e.createChildView(rs,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));E.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=E,e.ref.activeStyles=[]},td=({root:e,actions:t,props:n})=>{nd({root:e,actions:t,props:n});let r=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>Ke[s.type]);if(r){e.ref.activeStyles=[];const s=Ke[r.type];q(Zu,(o,i)=>{const a=e.ref[o];q(i,(l,u)=>{const c=s[o]&&typeof s[o][l]<"u"?s[o][l]:u;e.ref.activeStyles.push({control:a,key:l,value:c})})})}e.ref.activeStyles.forEach(({control:s,key:o,value:i})=>{s[o]=typeof i=="function"?i(e):i})},nd=ie({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),rd=X({create:ed,write:td,didCreateView:e=>{qe("CREATE_VIEW",{...e,view:e})},name:"file"}),sd=({root:e,props:t})=>{e.ref.fileName=be("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(rd,{id:t.id})),e.ref.data=!1},id=({root:e,props:t})=>{Y(e.ref.fileName,nr(e.query("GET_ITEM_NAME",t.id)))},od=X({create:sd,ignoreRect:!0,write:ie({DID_LOAD_ITEM:id}),didCreateView:e=>{qe("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),ls={type:"spring",damping:.6,mass:7},ad=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:ls},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:ls},styles:["translateY"]}}].forEach(n=>{ld(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},ld=(e,t,n)=>{const r=X({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),s=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(s)},cd=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=ii(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,r=e.ref.bottom.rect.element,s=Math.max(n.height+r.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(s-n.height-r.height)/100,e.ref.bottom.translateY=s-r.height},Ai=X({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:cd,create:ad,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),ud=e=>{const t=e.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>t.indexOf(r.id)}},cs={type:"spring",stiffness:.75,damping:.45,mass:10},us="spring",ds={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},dd=({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(od,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Ai,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let s=!1;const o={x:r.pageX,y:r.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const i=ud(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:i});const a=f=>{if(!f.isPrimary)return;f.stopPropagation(),f.preventDefault(),t.dragOffset={x:f.pageX-o.x,y:f.pageY-o.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!s&&(s=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:i})},l=f=>{f.isPrimary&&(t.dragOffset={x:f.pageX-o.x,y:f.pageY-o.y},c())},u=()=>{c()},c=()=>{document.removeEventListener("pointercancel",u),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:i}),s&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",u),document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",n)},fd=ie({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),pd=ie({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let s=t.concat().filter(i=>/^DID_/.test(i.type)).reverse().find(i=>ds[i.type]);s&&s.type!==n.currentState&&(n.currentState=s.type,e.element.dataset.filepondItemState=ds[n.currentState]||"");const o=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");o?r||(e.height=e.rect.element.width*o):(fd({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),hd=X({create:dd,write:pd,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:us,scaleY:us,translateX:cs,translateY:cs,opacity:{type:"tween",duration:150}}}});var rr=(e,t)=>Math.max(1,Math.floor((e+1)/t));const sr=(e,t,n)=>{if(!n)return;const r=e.rect.element.width,s=t.length;let o=null;if(s===0||n.top<t[0].rect.element.top)return-1;const a=t[0].rect.element,l=a.marginLeft+a.marginRight,u=a.width+l,c=rr(r,u);if(c===1){for(let E=0;E<s;E++){const d=t[E],m=d.rect.outer.top+d.rect.element.height*.5;if(n.top<m)return E}return s}const f=a.marginTop+a.marginBottom,h=a.height+f;for(let E=0;E<s;E++){const d=E%c,m=Math.floor(E/c),_=d*u,I=m*h,p=I-a.marginTop,g=_+u,R=I+h+a.marginBottom;if(n.top<R&&n.top>p){if(n.left<g)return E;E!==s-1?o=E:o=null}}return o!==null?o:s},St={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},md=({root:e})=>{Q(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Ed=({root:e,action:t})=>{const{id:n,index:r,interactionMethod:s}=t;e.ref.addIndex=r;const o=Date.now();let i=o,a=1;if(s!==he.NONE){a=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),u=o-e.ref.lastItemSpanwDate;i=u<l?o+(l-u):o}e.ref.lastItemSpanwDate=i,e.appendChildView(e.createChildView(hd,{spawnDate:i,id:n,opacity:a,interactionMethod:s}),r)},fs=(e,t,n,r=0,s=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&gd(e,t,n,r,s),e.scaleX=1,e.scaleY=1,e.opacity=1))},gd=(e,t,n,r,s)=>{e.interactionMethod===he.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===he.DROP?(e.translateX=null,e.translateX=t-r*20,e.translateY=null,e.translateY=n-s*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===he.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===he.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},_d=({root:e,action:t})=>{const{id:n}=t,r=e.childViews.find(s=>s.id===n);r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},On=e=>e.rect.element.height+e.rect.element.marginBottom+e.rect.element.marginTop,Id=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Td=({root:e,action:t})=>{const{id:n,dragState:r}=t,s=e.query("GET_ITEM",{id:n}),o=e.childViews.find(_=>_.id===n),i=e.childViews.length,a=r.getItemIndex(s);if(!o)return;const l={x:o.dragOrigin.x+o.dragOffset.x+o.dragCenter.x,y:o.dragOrigin.y+o.dragOffset.y+o.dragCenter.y},u=On(o),c=Id(o);let f=Math.floor(e.rect.outer.width/c);f>i&&(f=i);const h=Math.floor(i/f+1);St.setHeight=u*h,St.setWidth=c*f;var E={y:Math.floor(l.y/u),x:Math.floor(l.x/c),getGridIndex:function(){return l.y>St.getHeight||l.y<0||l.x>St.getWidth||l.x<0?a:this.y*f+this.x},getColIndex:function(){const I=e.query("GET_ACTIVE_ITEMS"),p=e.childViews.filter(w=>w.rect.element.height),g=I.map(w=>p.find(P=>P.id===w.id)),R=g.findIndex(w=>w===o),A=On(o),C=g.length;let D=C,T=0,y=0,M=0;for(let w=0;w<C;w++)if(T=On(g[w]),M=y,y=M+T,l.y<y){if(R>w){if(l.y<M+A){D=w;break}continue}D=w;break}return D}};const d=f>1?E.getGridIndex():E.getColIndex();e.dispatch("MOVE_ITEM",{query:o,index:d});const m=r.getIndex();if(m===void 0||m!==d){if(r.setIndex(d),m===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:a,target:d})}},Rd=ie({DID_ADD_ITEM:Ed,DID_REMOVE_ITEM:_d,DID_DRAG_ITEM:Td}),Od=({root:e,props:t,actions:n,shouldOptimize:r})=>{Rd({root:e,props:t,actions:n});const{dragCoordinates:s}=t,o=e.rect.element.width,i=e.childViews.filter(g=>g.rect.element.height),a=e.query("GET_ACTIVE_ITEMS").map(g=>i.find(R=>R.id===g.id)).filter(g=>g),l=s?sr(e,a,s):null,u=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,f=0,h=0;if(a.length===0)return;const E=a[0].rect.element,d=E.marginTop+E.marginBottom,m=E.marginLeft+E.marginRight,_=E.width+m,I=E.height+d,p=rr(o,_);if(p===1){let g=0,R=0;a.forEach((A,C)=>{if(l){let y=C-l;y===-2?R=-d*.25:y===-1?R=-d*.75:y===0?R=d*.75:y===1?R=d*.25:R=0}r&&(A.translateX=null,A.translateY=null),A.markedForRemoval||fs(A,0,g+R);let T=(A.rect.element.height+d)*(A.markedForRemoval?A.opacity:1);g+=T})}else{let g=0,R=0;a.forEach((A,C)=>{C===l&&(c=1),C===u&&(h+=1),A.markedForRemoval&&A.opacity<.5&&(f-=1);const D=C+h+c+f,T=D%p,y=Math.floor(D/p),M=T*_,w=y*I,P=Math.sign(M-g),U=Math.sign(w-R);g=M,R=w,!A.markedForRemoval&&(r&&(A.translateX=null,A.translateY=null),fs(A,M,w,P,U))})}},yd=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),Sd=X({create:md,write:Od,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:yd,mixins:{apis:["dragCoordinates"]}}),Ad=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Sd)),t.dragCoordinates=null,t.overflowing=!1},vd=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},wd=({props:e})=>{e.dragCoordinates=null},Dd=ie({DID_DRAG:vd,DID_END_DRAG:wd}),bd=({root:e,props:t,actions:n})=>{if(Dd({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},Ld=X({create:Ad,write:bd,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Te=(e,t,n,r="")=>{n?Q(e,t,r):e.removeAttribute(t)},Cd=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=be("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},Pd=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,Q(e.element,"name",e.query("GET_NAME")),Q(e.element,"aria-controls",`filepond--assistant-${t.id}`),Q(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),vi({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),wi({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Di({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Gn({root:e}),bi({root:e,action:{value:e.query("GET_REQUIRED")}}),Li({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(s=>(s._relativePath=s.webkitRelativePath,s));setTimeout(()=>{t.onload(r),Cd(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},vi=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Te(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},wi=({root:e,action:t})=>{Te(e.element,"multiple",t.value)},Di=({root:e,action:t})=>{Te(e.element,"webkitdirectory",t.value)},Gn=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),r=t||!n;Te(e.element,"disabled",r)},bi=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&Te(e.element,"required",!0):Te(e.element,"required",!1)},Li=({root:e,action:t})=>{Te(e.element,"capture",!!t.value,t.value===!0?"":t.value)},ps=({root:e})=>{const{element:t}=e;if(e.query("GET_TOTAL_ITEMS")>0){Te(t,"required",!1),Te(t,"name",!1);const n=e.query("GET_ACTIVE_ITEMS");let r=!1;for(let s=0;s<n.length;s++)n[s].status===x.LOAD_ERROR&&(r=!0);e.element.setCustomValidity(r?e.query("GET_LABEL_INVALID_FIELD"):"")}else Te(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&Te(t,"required",!0)},Md=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Nd=X({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Pd,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:ie({DID_LOAD_ITEM:ps,DID_REMOVE_ITEM:ps,DID_THROW_ITEM_INVALID:Md,DID_SET_DISABLED:Gn,DID_SET_ALLOW_BROWSE:Gn,DID_SET_ALLOW_DIRECTORIES_ONLY:Di,DID_SET_ALLOW_MULTIPLE:wi,DID_SET_ACCEPTED_FILE_TYPES:vi,DID_SET_CAPTURE_METHOD:Li,DID_SET_REQUIRED:bi})}),hs={ENTER:13,SPACE:32},Fd=({root:e,props:t})=>{const n=be("label");Q(n,"for",`filepond--browser-${t.id}`),Q(n,"id",`filepond--drop-label-${t.id}`),e.ref.handleKeyDown=r=>{(r.keyCode===hs.ENTER||r.keyCode===hs.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===n||n.contains(r.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Ci(n,t.caption),e.appendChild(n),e.ref.label=n},Ci=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&Q(n,"tabindex","0"),t},xd=X({name:"drop-label",ignoreRect:!0,create:Fd,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:ie({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Ci(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Gd=X({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Bd=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Gd,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},Ud=({root:e,action:t})=>{if(!e.ref.blob){Bd({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},Vd=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},Hd=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},$d=({root:e,props:t,actions:n})=>{kd({root:e,props:t,actions:n});const{blob:r}=e.ref;n.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},kd=ie({DID_DRAG:Ud,DID_DROP:Hd,DID_END_DRAG:Vd}),zd=X({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:$d}),Pi=(e,t)=>{try{const n=new DataTransfer;t.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),e.files=n.files}catch{return!1}return!0},qd=({root:e})=>{e.ref.fields={};const t=document.createElement("legend");t.textContent="Files",e.element.appendChild(t)},rn=(e,t)=>e.ref.fields[t],ir=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},ms=({root:e})=>ir(e),Wd=({root:e,action:t})=>{const s=!(e.query("GET_ITEM",t.id).origin===K.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),o=be("input");o.type=s?"file":"hidden",o.name=e.query("GET_NAME"),e.ref.fields[t.id]=o,ir(e)},Yd=({root:e,action:t})=>{const n=rn(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",t.id);Pi(n,[r.file])},jd=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=rn(e,t.id);n&&Pi(n,[t.file])},0)},Xd=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},Kd=({root:e,action:t})=>{const n=rn(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},Qd=({root:e,action:t})=>{const n=rn(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.type!="file"&&(n.value=t.value),ir(e))},Zd=ie({DID_SET_DISABLED:Xd,DID_ADD_ITEM:Wd,DID_LOAD_ITEM:Yd,DID_REMOVE_ITEM:Kd,DID_DEFINE_VALUE:Qd,DID_PREPARE_OUTPUT:jd,DID_REORDER_ITEMS:ms,DID_SORT_ITEMS:ms}),Jd=X({tag:"fieldset",name:"data",create:qd,write:Zd,ignoreRect:!0}),ef=e=>"getRootNode"in e?e.getRootNode():document,tf=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],nf=["css","csv","html","txt"],rf={zip:"zip|compressed",epub:"application/epub+zip"},Mi=(e="")=>(e=e.toLowerCase(),tf.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):nf.includes(e)?"text/"+e:rf[e]||""),or=e=>new Promise((t,n)=>{const r=ff(e);if(r.length&&!sf(e))return t(r);of(e).then(t)}),sf=e=>e.files?e.files.length>0:!1,of=e=>new Promise((t,n)=>{const r=(e.items?Array.from(e.items):[]).filter(s=>af(s)).map(s=>lf(s));if(!r.length){t(e.files?Array.from(e.files):[]);return}Promise.all(r).then(s=>{const o=[];s.forEach(i=>{o.push.apply(o,i)}),t(o.filter(i=>i).map(i=>(i._relativePath||(i._relativePath=i.webkitRelativePath),i)))}).catch(console.error)}),af=e=>{if(Ni(e)){const t=ar(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},lf=e=>new Promise((t,n)=>{if(df(e)){cf(ar(e)).then(t).catch(n);return}t([e.getAsFile()])}),cf=e=>new Promise((t,n)=>{const r=[];let s=0,o=0;const i=()=>{o===0&&s===0&&t(r)},a=l=>{s++;const u=l.createReader(),c=()=>{u.readEntries(f=>{if(f.length===0){s--,i();return}f.forEach(h=>{h.isDirectory?a(h):(o++,h.file(E=>{const d=uf(E);h.fullPath&&(d._relativePath=h.fullPath),r.push(d),o--,i()}))}),c()},n)};c()};a(e)}),uf=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,r=Mi(nn(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=n,e.lastModifiedDate=t),e},df=e=>Ni(e)&&(ar(e)||{}).isDirectory,Ni=e=>"webkitGetAsEntry"in e,ar=e=>e.webkitGetAsEntry(),ff=e=>{let t=[];try{if(t=hf(e),t.length)return t;t=pf(e)}catch{}return t},pf=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},hf=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},$t=[],ze=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),mf=(e,t,n)=>{const r=Ef(t),s={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return s.destroy=r.addListener(s),s},Ef=e=>{const t=$t.find(r=>r.element===e);if(t)return t;const n=gf(e);return $t.push(n),n},gf=e=>{const t=[],n={dragenter:If,dragover:Tf,dragleave:Of,drop:Rf},r={};q(n,(o,i)=>{r[o]=i(e,t),e.addEventListener(o,r[o],!1)});const s={element:e,addListener:o=>(t.push(o),()=>{t.splice(t.indexOf(o),1),t.length===0&&($t.splice($t.indexOf(s),1),q(n,i=>{e.removeEventListener(i,r[i],!1)}))})};return s},_f=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),lr=(e,t)=>{const n=ef(t),r=_f(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)};let Fi=null;const At=(e,t)=>{try{e.dropEffect=t}catch{}},If=(e,t)=>n=>{n.preventDefault(),Fi=n.target,t.forEach(r=>{const{element:s,onenter:o}=r;lr(n,s)&&(r.state="enter",o(ze(n)))})},Tf=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;or(r).then(s=>{let o=!1;t.some(i=>{const{filterElement:a,element:l,onenter:u,onexit:c,ondrag:f,allowdrop:h}=i;At(r,"copy");const E=h(s);if(!E){At(r,"none");return}if(lr(n,l)){if(o=!0,i.state===null){i.state="enter",u(ze(n));return}if(i.state="over",a&&!E){At(r,"none");return}f(ze(n))}else a&&!o&&At(r,"none"),i.state&&(i.state=null,c(ze(n)))})})},Rf=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;or(r).then(s=>{t.forEach(o=>{const{filterElement:i,element:a,ondrop:l,onexit:u,allowdrop:c}=o;if(o.state=null,!(i&&!lr(n,a))){if(!c(s))return u(ze(n));l(ze(n),s)}})})},Of=(e,t)=>n=>{Fi===n.target&&t.forEach(r=>{const{onexit:s}=r;r.state=null,s(ze(n))})},yf=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:s,filterItems:o=c=>c}=n,i=mf(e,r?document.documentElement:e,s);let a="",l="";i.allowdrop=c=>t(o(c)),i.ondrop=(c,f)=>{const h=o(f);if(!t(h)){u.ondragend(c);return}l="drag-drop",u.onload(h,c)},i.ondrag=c=>{u.ondrag(c)},i.onenter=c=>{l="drag-over",u.ondragstart(c)},i.onexit=c=>{l="drag-exit",u.ondragend(c)};const u={updateHopperState:()=>{a!==l&&(e.dataset.hopperState=l,a=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{i.destroy()}};return u};let Bn=!1;const Ze=[],xi=e=>{const t=document.activeElement;if(t&&(/textarea|input/i.test(t.nodeName)||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")==="")){let r=!1,s=t;for(;s!==document.body;){if(s.classList.contains("filepond--root")){r=!0;break}s=s.parentNode}if(!r)return}or(e.clipboardData).then(r=>{r.length&&Ze.forEach(s=>s(r))})},Sf=e=>{Ze.includes(e)||(Ze.push(e),!Bn&&(Bn=!0,document.addEventListener("paste",xi)))},Af=e=>{Jn(Ze,Ze.indexOf(e)),Ze.length===0&&(document.removeEventListener("paste",xi),Bn=!1)},vf=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{Af(e)},onload:()=>{}};return Sf(e),t},wf=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,Q(e.element,"role","alert"),Q(e.element,"aria-live","polite"),Q(e.element,"aria-relevant","additions")};let Es=null,gs=null;const yn=[],sn=(e,t)=>{e.element.textContent=t},Df=e=>{e.element.textContent=""},Gi=(e,t,n)=>{const r=e.query("GET_TOTAL_ITEMS");sn(e,`${n} ${t}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(gs),gs=setTimeout(()=>{Df(e)},1500)},Bi=e=>e.element.parentNode.contains(document.activeElement),bf=({root:e,action:t})=>{if(!Bi(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);yn.push(n.filename),clearTimeout(Es),Es=setTimeout(()=>{Gi(e,yn.join(", "),e.query("GET_LABEL_FILE_ADDED")),yn.length=0},750)},Lf=({root:e,action:t})=>{if(!Bi(e))return;const n=t.item;Gi(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},Cf=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");sn(e,`${r} ${s}`)},_s=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");sn(e,`${r} ${s}`)},vt=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;sn(e,`${t.status.main} ${r} ${t.status.sub}`)},Pf=X({create:wf,ignoreRect:!0,ignoreRectUpdate:!0,write:ie({DID_LOAD_ITEM:bf,DID_REMOVE_ITEM:Lf,DID_COMPLETE_ITEM_PROCESSING:Cf,DID_ABORT_ITEM_PROCESSING:_s,DID_REVERT_ITEM_PROCESSING:_s,DID_THROW_ITEM_REMOVE_ERROR:vt,DID_THROW_ITEM_LOAD_ERROR:vt,DID_THROW_ITEM_INVALID:vt,DID_THROW_ITEM_PROCESSING_ERROR:vt}),tag:"span",name:"assistant"}),Ui=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),Vi=(e,t=16,n=!0)=>{let r=Date.now(),s=null;return(...o)=>{clearTimeout(s);const i=Date.now()-r,a=()=>{r=Date.now(),e(...o)};i<t?n||(s=setTimeout(a,t-i)):a()}},Mf=1e6,kt=e=>e.preventDefault(),Nf=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(xd,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Ld,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Ai,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Pf,{...t})),e.ref.data=e.appendChildView(e.createChildView(Jd,{...t})),e.ref.measure=be("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!De(l.value)).map(({name:l,value:u})=>{e.element.dataset[l]=u}),e.ref.widthPrevious=null,e.ref.widthUpdated=Vi(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const s=window.matchMedia("(pointer: fine) and (hover: hover)").matches,o="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&o&&!s&&(e.element.addEventListener("touchmove",kt,{passive:!1}),e.element.addEventListener("gesturestart",kt));const i=e.query("GET_CREDITS");if(i.length===2){const l=document.createElement("a");l.className="filepond--credits",l.href=i[0],l.tabIndex=-1,l.target="_blank",l.rel="noopener noreferrer nofollow",l.textContent=i[1],e.element.appendChild(l),e.ref.credits=l}},Ff=({root:e,props:t,actions:n})=>{if(Vf({root:e,props:t,actions:n}),n.filter(C=>/^DID_SET_STYLE_/.test(C.type)).filter(C=>!De(C.data.value)).map(({type:C,data:D})=>{const T=Ui(C.substring(8).toLowerCase(),"_");e.element.dataset[T]=D.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=Bf(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:s,label:o,list:i,panel:a}=e.ref;s&&s.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),f=u?e.query("GET_MAX_FILES")||Mf:1,h=c===f,E=n.find(C=>C.type==="DID_ADD_ITEM");if(h&&E){const C=E.data.interactionMethod;o.opacity=0,u?o.translateY=-40:C===he.API?o.translateX=40:C===he.BROWSE?o.translateY=40:o.translateY=30}else h||(o.opacity=1,o.translateX=0,o.translateY=0);const d=xf(e),m=Gf(e),_=o.rect.element.height,I=!u||h?0:_,p=h?i.rect.element.marginTop:0,g=c===0?0:i.rect.element.marginBottom,R=I+p+m.visual+g,A=I+p+m.bounds+g;if(i.translateY=Math.max(0,I-i.rect.element.marginTop)-d.top,l){const C=e.rect.element.width,D=C*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const T=e.ref.updateHistory;T.push(C);const y=2;if(T.length>y*2){const w=T.length,P=w-10;let U=0;for(let b=w;b>=P;b--)if(T[b]===T[b-2]&&U++,U>=y)return}a.scalable=!1,a.height=D;const M=D-I-(g-d.bottom)-(h?p:0);m.visual>M?i.overflow=M:i.overflow=null,e.height=D}else if(r.fixedHeight){a.scalable=!1;const C=r.fixedHeight-I-(g-d.bottom)-(h?p:0);m.visual>C?i.overflow=C:i.overflow=null}else if(r.cappedHeight){const C=R>=r.cappedHeight,D=Math.min(r.cappedHeight,R);a.scalable=!0,a.height=C?D:D-d.top-d.bottom;const T=D-I-(g-d.bottom)-(h?p:0);R>r.cappedHeight&&m.visual>T?i.overflow=T:i.overflow=null,e.height=Math.min(r.cappedHeight,A-d.top-d.bottom)}else{const C=c>0?d.top+d.bottom:0;a.scalable=!0,a.height=Math.max(_,R-C),e.height=Math.max(_,A-C)}e.ref.credits&&a.heightCurrent&&(e.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},xf=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Gf=e=>{let t=0,n=0;const r=e.ref.list,s=r.childViews[0],o=s.childViews.filter(p=>p.rect.element.height),i=e.query("GET_ACTIVE_ITEMS").map(p=>o.find(g=>g.id===p.id)).filter(p=>p);if(i.length===0)return{visual:t,bounds:n};const a=s.rect.element.width,l=sr(s,i,r.dragCoordinates),u=i[0].rect.element,c=u.marginTop+u.marginBottom,f=u.marginLeft+u.marginRight,h=u.width+f,E=u.height+c,d=typeof l<"u"&&l>=0?1:0,m=i.find(p=>p.markedForRemoval&&p.opacity<.45)?-1:0,_=i.length+d+m,I=rr(a,h);return I===1?i.forEach(p=>{const g=p.rect.element.height+c;n+=g,t+=g*p.opacity}):(n=Math.ceil(_/I)*E,t=n),{visual:t,bounds:n}},Bf=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},cr=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),s=e.query("GET_TOTAL_ITEMS");let o=e.query("GET_MAX_FILES");const i=t.length;return!r&&i>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:W("warning",0,"Max files")}),!0):(o=r?o:1,!r&&n?!1:nt(o)&&s+i>o?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:W("warning",0,"Max files")}),!0):!1)},Uf=(e,t,n)=>{const r=e.childViews[0];return sr(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Is=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){const s=yf(e.element,o=>{const i=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?o.every(l=>qe("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(u=>u===!0)&&i(l)):!0},{filterItems:o=>{const i=e.query("GET_IGNORED_FILES");return o.filter(a=>ke(a)?!i.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});s.onload=(o,i)=>{const l=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(c=>l.find(f=>f.id===c.id)).filter(c=>c);_e("ADD_ITEMS",o,{dispatch:e.dispatch}).then(c=>{if(cr(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:Uf(e.ref.list,u,i),interactionMethod:he.DROP})}),e.dispatch("DID_DROP",{position:i}),e.dispatch("DID_END_DRAG",{position:i})},s.ondragstart=o=>{e.dispatch("DID_START_DRAG",{position:o})},s.ondrag=Vi(o=>{e.dispatch("DID_DRAG",{position:o})}),s.ondragend=o=>{e.dispatch("DID_END_DRAG",{position:o})},e.ref.hopper=s,e.ref.drip=e.appendChildView(e.createChildView(zd))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Ts=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),s=n&&!r;s&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Nd,{...t,onload:o=>{_e("ADD_ITEMS",o,{dispatch:e.dispatch}).then(i=>{if(cr(e,i))return!1;e.dispatch("ADD_ITEMS",{items:i,index:-1,interactionMethod:he.BROWSE})})}}),0):!s&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Rs=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=vf(),e.ref.paster.onload=s=>{_e("ADD_ITEMS",s,{dispatch:e.dispatch}).then(o=>{if(cr(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:he.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},Vf=ie({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Ts(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Is(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Rs(e)},DID_SET_DISABLED:({root:e,props:t})=>{Is(e),Rs(e),Ts(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),Hf=X({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Nf,write:Ff,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",kt),e.element.removeEventListener("gesturestart",kt)},mixins:{styles:["height"]}}),$f=(e={})=>{let t=null;const n=Ht(),r=sc(kc(n),[au,Wc(n)],[Pu,qc(n)]);r.dispatch("SET_OPTIONS",{options:e});const s=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",s);let o=null,i=!1,a=!1,l=null,u=null;const c=()=>{i||(i=!0),clearTimeout(o),o=setTimeout(()=>{i=!1,l=null,u=null,a&&(a=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const f=Hf(r,{id:Zn()});let h=!1,E=!1;const d={_read:()=>{i&&(u=window.innerWidth,l||(l=u),!a&&u!==l&&(r.dispatch("DID_START_RESIZE"),a=!0)),E&&h&&(h=f.element.offsetParent===null),!h&&(f._read(),E=f.rect.element.hidden)},_write:v=>{const L=r.processActionQueue().filter(N=>!/^SET_/.test(N.type));h&&!L.length||(p(L),h=f._write(v,L,a),Xc(r.query("GET_ITEMS")),h&&r.processDispatchQueue())}},m=v=>L=>{const N={type:v};if(!L)return N;if(L.hasOwnProperty("error")&&(N.error=L.error?{...L.error}:null),L.status&&(N.status={...L.status}),L.file&&(N.output=L.file),L.source)N.file=L.source;else if(L.item||L.id){const F=L.item?L.item:r.query("GET_ITEM",L.id);N.file=F?ae(F):null}return L.items&&(N.items=L.items.map(ae)),/progress/.test(v)&&(N.progress=L.progress),L.hasOwnProperty("origin")&&L.hasOwnProperty("target")&&(N.origin=L.origin,N.target=L.target),N},_={DID_DESTROY:m("destroy"),DID_INIT:m("init"),DID_THROW_MAX_FILES:m("warning"),DID_INIT_ITEM:m("initfile"),DID_START_ITEM_LOAD:m("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:m("addfileprogress"),DID_LOAD_ITEM:m("addfile"),DID_THROW_ITEM_INVALID:[m("error"),m("addfile")],DID_THROW_ITEM_LOAD_ERROR:[m("error"),m("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[m("error"),m("removefile")],DID_PREPARE_OUTPUT:m("preparefile"),DID_START_ITEM_PROCESSING:m("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:m("processfileprogress"),DID_ABORT_ITEM_PROCESSING:m("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:m("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:m("processfiles"),DID_REVERT_ITEM_PROCESSING:m("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[m("error"),m("processfile")],DID_REMOVE_ITEM:m("removefile"),DID_UPDATE_ITEMS:m("updatefiles"),DID_ACTIVATE_ITEM:m("activatefile"),DID_REORDER_ITEMS:m("reorderfiles")},I=v=>{const L={pond:B,...v};delete L.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${v.type}`,{detail:L,bubbles:!0,cancelable:!0,composed:!0}));const N=[];v.hasOwnProperty("error")&&N.push(v.error),v.hasOwnProperty("file")&&N.push(v.file);const F=["type","error","file"];Object.keys(v).filter(G=>!F.includes(G)).forEach(G=>N.push(v[G])),B.fire(v.type,...N);const $=r.query(`GET_ON${v.type.toUpperCase()}`);$&&$(...N)},p=v=>{v.length&&v.filter(L=>_[L.type]).forEach(L=>{const N=_[L.type];(Array.isArray(N)?N:[N]).forEach(F=>{L.type==="DID_INIT_ITEM"?I(F(L.data)):setTimeout(()=>{I(F(L.data))},0)})})},g=v=>r.dispatch("SET_OPTIONS",{options:v}),R=v=>r.query("GET_ACTIVE_ITEM",v),A=v=>new Promise((L,N)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:v,success:F=>{L(F)},failure:F=>{N(F)}})}),C=(v,L={})=>new Promise((N,F)=>{y([{source:v,options:L}],{index:L.index}).then($=>N($&&$[0])).catch(F)}),D=v=>v.file&&v.id,T=(v,L)=>(typeof v=="object"&&!D(v)&&!L&&(L=v,v=void 0),r.dispatch("REMOVE_ITEM",{...L,query:v}),r.query("GET_ACTIVE_ITEM",v)===null),y=(...v)=>new Promise((L,N)=>{const F=[],$={};if(Zt(v[0]))F.push.apply(F,v[0]),Object.assign($,v[1]||{});else{const G=v[v.length-1];typeof G=="object"&&!(G instanceof Blob)&&Object.assign($,v.pop()),F.push(...v)}r.dispatch("ADD_ITEMS",{items:F,index:$.index,interactionMethod:he.API,success:L,failure:N})}),M=()=>r.query("GET_ACTIVE_ITEMS"),w=v=>new Promise((L,N)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:v,success:F=>{L(F)},failure:F=>{N(F)}})}),P=(...v)=>{const L=Array.isArray(v[0])?v[0]:v,N=L.length?L:M();return Promise.all(N.map(A))},U=(...v)=>{const L=Array.isArray(v[0])?v[0]:v;if(!L.length){const N=M().filter(F=>!(F.status===x.IDLE&&F.origin===K.LOCAL)&&F.status!==x.PROCESSING&&F.status!==x.PROCESSING_COMPLETE&&F.status!==x.PROCESSING_REVERT_ERROR);return Promise.all(N.map(w))}return Promise.all(L.map(w))},b=(...v)=>{const L=Array.isArray(v[0])?v[0]:v;let N;typeof L[L.length-1]=="object"?N=L.pop():Array.isArray(v[0])&&(N=v[1]);const F=M();return L.length?L.map(G=>Be(G)?F[G]?F[G].id:null:G).filter(G=>G).map(G=>T(G,N)):Promise.all(F.map(G=>T(G,N)))},B={...tn(),...d,...zc(r,n),setOptions:g,addFile:C,addFiles:y,getFile:R,processFile:w,prepareFile:A,removeFile:T,moveFile:(v,L)=>r.dispatch("MOVE_ITEM",{query:v,index:L}),getFiles:M,processFiles:U,removeFiles:b,prepareFiles:P,sort:v=>r.dispatch("SORT",{compare:v}),browse:()=>{var v=f.element.querySelector("input[type=file]");v&&v.click()},destroy:()=>{B.fire("destroy",f.element),r.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",s),r.dispatch("DID_DESTROY")},insertBefore:v=>zr(f.element,v),insertAfter:v=>qr(f.element,v),appendTo:v=>v.appendChild(f.element),replaceElement:v=>{zr(f.element,v),v.parentNode.removeChild(v),t=v},restoreElement:()=>{t&&(qr(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:v=>f.element===v||t===v,element:{get:()=>f.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),Me(B)},Hi=(e={})=>{const t={};return q(Ht(),(r,s)=>{t[r]=s[0]}),$f({...t,...e})},kf=e=>e.charAt(0).toLowerCase()+e.slice(1),zf=e=>Ui(e.replace(/^data-/,"")),$i=(e,t)=>{q(t,(n,r)=>{q(e,(s,o)=>{const i=new RegExp(n);if(!i.test(s)||(delete e[s],r===!1))return;if(re(r)){e[r]=o;return}const l=r.group;Z(r)&&!e[l]&&(e[l]={}),e[l][kf(s.replace(i,""))]=o}),r.mapping&&$i(e[r.group],r.mapping)})},qf=(e,t={})=>{const n=[];q(e.attributes,s=>{n.push(e.attributes[s])});const r=n.filter(s=>s.name).reduce((s,o)=>{const i=Q(e,o.name);return s[zf(o.name)]=i===o.name?!0:i,s},{});return $i(r,t),r},Wf=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};qe("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...t},s=qf(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(s).forEach(i=>{Z(s[i])?(Z(r[i])||(r[i]={}),Object.assign(r[i],s[i])):r[i]=s[i]}),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(i=>({source:i.value,options:{type:i.dataset.type}})));const o=Hi(r);return e.files&&Array.from(e.files).forEach(i=>{o.addFile(i)}),o.replaceElement(e),o},Yf=(...e)=>rc(e[0])?Wf(...e):Hi(...e),jf=["fire","_read","_write"],Os=e=>{const t={};return ci(e,t,jf),t},Xf=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>t[r]),Kf=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:(s,o)=>{},post:(s,o,i)=>{const a=Zn();r.onmessage=l=>{l.data.id===a&&o(l.data.message)},r.postMessage({id:a,message:s},i)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},Qf=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=s=>{n(s)},r.src=e}),ki=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},Zf=e=>ki(e,e.name),ys=[],Jf=e=>{if(ys.includes(e))return;ys.push(e);const t=e({addFilter:Qc,utils:{Type:S,forin:q,isString:re,isFile:ke,toNaturalFileSize:Oi,replaceInString:Xf,getExtensionFromFilename:nn,getFilenameWithoutExtension:Ii,guesstimateMimeType:Mi,getFileFromBlob:et,getFilenameFromURL:mt,createRoute:ie,createWorker:Kf,createView:X,createItemAPI:ae,loadImage:Qf,copyFile:Zf,renameFile:ki,createBlob:Ei,applyFilterChain:_e,text:Y,getNumericAspectRatioFromString:fi},views:{fileActionButton:Ri}});Zc(t.options)},ep=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",tp=()=>"Promise"in window,np=()=>"slice"in Blob.prototype,rp=()=>"URL"in window&&"createObjectURL"in window.URL,sp=()=>"visibilityState"in document,ip=()=>"performance"in window,op=()=>"supports"in(window.CSS||{}),ap=()=>/MSIE|Trident/.test(window.navigator.userAgent),Un=(()=>{const e=ri()&&!ep()&&sp()&&tp()&&np()&&rp()&&ip()&&(op()||ap());return()=>e})(),Pe={apps:[]},lp="filepond",We=()=>{};let zi={},qi={},Wi={},Vn={},Nt=We,Ft=We,Hn=We,$n=We,zt=We,kn=We,qt=We;if(Un()){bc(()=>{Pe.apps.forEach(n=>n._read())},n=>{Pe.apps.forEach(r=>r._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Un,create:Nt,destroy:Ft,parse:Hn,find:$n,registerPlugin:zt,setOptions:qt}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>q(Ht(),(n,r)=>{Vn[n]=r[1]});zi={...pi},Wi={...K},qi={...x},Vn={},t(),Nt=(...n)=>{const r=Yf(...n);return r.on("destroy",Ft),Pe.apps.push(r),Os(r)},Ft=n=>{const r=Pe.apps.findIndex(s=>s.isAttachedTo(n));return r>=0?(Pe.apps.splice(r,1)[0].restoreElement(),!0):!1},Hn=n=>Array.from(n.querySelectorAll(`.${lp}`)).filter(o=>!Pe.apps.find(i=>i.isAttachedTo(o))).map(o=>Nt(o)),$n=n=>{const r=Pe.apps.find(s=>s.isAttachedTo(n));return r?Os(r):null},zt=(...n)=>{n.forEach(Jf),t()},kn=()=>{const n={};return q(Ht(),(r,s)=>{n[r]=s[0]}),n},qt=n=>(Z(n)&&(Pe.apps.forEach(r=>{r.setOptions(n)}),Jc(n)),kn())}const cp=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return Wi},get FileStatus(){return qi},get OptionTypes(){return Vn},get Status(){return zi},get create(){return Nt},get destroy(){return Ft},get find(){return $n},get getOptions(){return kn},get parse(){return Hn},get registerPlugin(){return zt},get setOptions(){return qt},supported:Un},Symbol.toStringTag,{value:"Module"}));/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const up=e=>/^image/.test(e.type),Ss=(e,t)=>ft(e.x*t,e.y*t),As=(e,t)=>ft(e.x+t.x,e.y+t.y),dp=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:ft(e.x/t,e.y/t)},wt=(e,t,n)=>{const r=Math.cos(t),s=Math.sin(t),o=ft(e.x-n.x,e.y-n.y);return ft(n.x+r*o.x-s*o.y,n.y+s*o.x+r*o.y)},ft=(e=0,t=0)=>({x:e,y:t}),le=(e,t,n=1,r)=>{if(typeof e=="string")return parseFloat(e)*n;if(typeof e=="number")return e*(r?t[r]:Math.min(t.width,t.height))},fp=(e,t,n)=>{const r=e.borderStyle||e.lineStyle||"solid",s=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",i=le(e.borderWidth||e.lineWidth,t,n),a=e.lineCap||"round",l=e.lineJoin||"round",u=typeof r=="string"?"":r.map(f=>le(f,t,n)).join(","),c=e.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":l,"stroke-width":i||0,"stroke-dasharray":u,stroke:o,fill:s,opacity:c}},pe=e=>e!=null,pp=(e,t,n=1)=>{let r=le(e.x,t,n,"width")||le(e.left,t,n,"width"),s=le(e.y,t,n,"height")||le(e.top,t,n,"height"),o=le(e.width,t,n,"width"),i=le(e.height,t,n,"height"),a=le(e.right,t,n,"width"),l=le(e.bottom,t,n,"height");return pe(s)||(pe(i)&&pe(l)?s=t.height-i-l:s=l),pe(r)||(pe(o)&&pe(a)?r=t.width-o-a:r=a),pe(o)||(pe(r)&&pe(a)?o=t.width-r-a:o=0),pe(i)||(pe(s)&&pe(l)?i=t.height-s-l:i=0),{x:r||0,y:s||0,width:o||0,height:i||0}},hp=e=>e.map((t,n)=>`${n===0?"M":"L"} ${t.x} ${t.y}`).join(" "),Se=(e,t)=>Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),mp="http://www.w3.org/2000/svg",Qe=(e,t)=>{const n=document.createElementNS(mp,e);return t&&Se(n,t),n},Ep=e=>Se(e,{...e.rect,...e.styles}),gp=e=>{const t=e.rect.x+e.rect.width*.5,n=e.rect.y+e.rect.height*.5,r=e.rect.width*.5,s=e.rect.height*.5;return Se(e,{cx:t,cy:n,rx:r,ry:s,...e.styles})},_p={contain:"xMidYMid meet",cover:"xMidYMid slice"},Ip=(e,t)=>{Se(e,{...e.rect,...e.styles,preserveAspectRatio:_p[t.fit]||"none"})},Tp={left:"start",center:"middle",right:"end"},Rp=(e,t,n,r)=>{const s=le(t.fontSize,n,r),o=t.fontFamily||"sans-serif",i=t.fontWeight||"normal",a=Tp[t.textAlign]||"start";Se(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":i,"font-size":s,"font-family":o,"text-anchor":a}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},Op=(e,t,n,r)=>{Se(e,{...e.rect,...e.styles,fill:"none"});const s=e.childNodes[0],o=e.childNodes[1],i=e.childNodes[2],a=e.rect,l={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(Se(s,{x1:a.x,y1:a.y,x2:l.x,y2:l.y}),!t.lineDecoration)return;o.style.display="none",i.style.display="none";const u=dp({x:l.x-a.x,y:l.y-a.y}),c=le(.05,n,r);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const f=Ss(u,c),h=As(a,f),E=wt(a,2,h),d=wt(a,-2,h);Se(o,{style:"display:block;",d:`M${E.x},${E.y} L${a.x},${a.y} L${d.x},${d.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const f=Ss(u,-c),h=As(l,f),E=wt(l,2,h),d=wt(l,-2,h);Se(i,{style:"display:block;",d:`M${E.x},${E.y} L${l.x},${l.y} L${d.x},${d.y}`})}},yp=(e,t,n,r)=>{Se(e,{...e.styles,fill:"none",d:hp(t.points.map(s=>({x:le(s.x,n,r,"width"),y:le(s.y,n,r,"height")})))})},Dt=e=>t=>Qe(e,{id:t.id}),Sp=e=>{const t=Qe("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},Ap=e=>{const t=Qe("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=Qe("line");t.appendChild(n);const r=Qe("path");t.appendChild(r);const s=Qe("path");return t.appendChild(s),t},vp={image:Sp,rect:Dt("rect"),ellipse:Dt("ellipse"),text:Dt("text"),path:Dt("path"),line:Ap},wp={rect:Ep,ellipse:gp,image:Ip,text:Rp,path:yp,line:Op},Dp=(e,t)=>vp[e](t),bp=(e,t,n,r,s)=>{t!=="path"&&(e.rect=pp(n,r,s)),e.styles=fp(n,r,s),wp[t](e,n,r,s)},Lp=["x","y","left","top","right","bottom","width","height"],Cp=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,Pp=e=>{const[t,n]=e,r=n.points?{}:Lp.reduce((s,o)=>(s[o]=Cp(n[o]),s),{});return[t,{zIndex:0,...n,...r}]},Mp=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,Np=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:t,props:n})=>{if(!n.dirty)return;const{crop:r,resize:s,markup:o}=n,i=n.width,a=n.height;let l=r.width,u=r.height;if(s){const{size:E}=s;let d=E&&E.width,m=E&&E.height;const _=s.mode,I=s.upscale;d&&!m&&(m=d),m&&!d&&(d=m);const p=l<d&&u<m;if(!p||p&&I){let g=d/l,R=m/u;if(_==="force")l=d,u=m;else{let A;_==="cover"?A=Math.max(g,R):_==="contain"&&(A=Math.min(g,R)),l=l*A,u=u*A}}}const c={width:i,height:a};t.element.setAttribute("width",c.width),t.element.setAttribute("height",c.height);const f=Math.min(i/l,a/u);t.element.innerHTML="";const h=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");o.filter(h).map(Pp).sort(Mp).forEach(E=>{const[d,m]=E,_=Dp(d,m);bp(_,d,m,c,f),t.element.appendChild(_)})}}),ct=(e,t)=>({x:e,y:t}),Fp=(e,t)=>e.x*t.x+e.y*t.y,vs=(e,t)=>ct(e.x-t.x,e.y-t.y),xp=(e,t)=>Fp(vs(e,t),vs(e,t)),ws=(e,t)=>Math.sqrt(xp(e,t)),Ds=(e,t)=>{const n=e,r=1.5707963267948966,s=t,o=1.5707963267948966-t,i=Math.sin(r),a=Math.sin(s),l=Math.sin(o),u=Math.cos(o),c=n/i,f=c*a,h=c*l;return ct(u*f,u*h)},Gp=(e,t)=>{const n=e.width,r=e.height,s=Ds(n,t),o=Ds(r,t),i=ct(e.x+Math.abs(s.x),e.y-Math.abs(s.y)),a=ct(e.x+e.width+Math.abs(o.y),e.y+Math.abs(o.x)),l=ct(e.x-Math.abs(o.y),e.y+e.height-Math.abs(o.x));return{width:ws(i,a),height:ws(i,l)}},Bp=(e,t,n=1)=>{const r=e.height/e.width;let s=1,o=t,i=1,a=r;a>o&&(a=o,i=a/r);const l=Math.max(s/i,o/a),u=e.width/(n*l*i),c=u*t;return{width:u,height:c}},Yi=(e,t,n,r)=>{const s=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,i=s*2*e.width,a=o*2*e.height,l=Gp(t,n);return Math.max(l.width/i,l.height/a)},ji=(e,t)=>{let n=e.width,r=n*t;r>e.height&&(r=e.height,n=r/t);const s=(e.width-n)*.5,o=(e.height-r)*.5;return{x:s,y:o,width:n,height:r}},Up=(e,t={})=>{let{zoom:n,rotation:r,center:s,aspectRatio:o}=t;o||(o=e.height/e.width);const i=Bp(e,o,n),a={x:i.width*.5,y:i.height*.5},l={x:0,y:0,width:i.width,height:i.height,center:a},u=typeof t.scaleToFit>"u"||t.scaleToFit,c=Yi(e,ji(l,o),r,u?s:{x:.5,y:.5}),f=n*c;return{widthFloat:i.width/f,heightFloat:i.height/f,width:Math.round(i.width/f),height:Math.round(i.height/f)}},Oe={type:"spring",stiffness:.5,damping:.45,mass:10},Vp=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:t,props:n})=>{t.appendChild(n.image)}}),Hp=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Oe,originY:Oe,scaleX:Oe,scaleY:Oe,translateX:Oe,translateY:Oe,rotateZ:Oe}},create:({root:t,props:n})=>{n.width=n.image.width,n.height=n.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(Vp(e),{image:n.image}))},write:({root:t,props:n})=>{const{flip:r}=n.crop,{bitmap:s}=t.ref;s.scaleX=r.horizontal?-1:1,s.scaleY=r.vertical?-1:1}}),$p=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:t,props:n}){n.background&&(t.element.style.backgroundColor=n.background)},create:({root:t,props:n})=>{t.ref.image=t.appendChildView(t.createChildView(Hp(e),Object.assign({},n))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(Np(e),Object.assign({},n))))},t.ref.destroyMarkup=()=>{t.ref.markup&&(t.removeChildView(t.ref.markup),t.ref.markup=null)};const r=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");r!==null&&(r==="grid"?t.element.dataset.transparencyIndicator=r:t.element.dataset.transparencyIndicator="color")},write:({root:t,props:n,shouldOptimize:r})=>{const{crop:s,markup:o,resize:i,dirty:a,width:l,height:u}=n;t.ref.image.crop=s;const c={x:0,y:0,width:l,height:u,center:{x:l*.5,y:u*.5}},f={width:t.ref.image.width,height:t.ref.image.height},h={x:s.center.x*f.width,y:s.center.y*f.height},E={x:c.center.x-f.width*s.center.x,y:c.center.y-f.height*s.center.y},d=Math.PI*2+s.rotation%(Math.PI*2),m=s.aspectRatio||f.height/f.width,_=typeof s.scaleToFit>"u"||s.scaleToFit,I=Yi(f,ji(c,m),d,_?s.center:{x:.5,y:.5}),p=s.zoom*I;o&&o.length?(t.ref.createMarkup(),t.ref.markup.width=l,t.ref.markup.height=u,t.ref.markup.resize=i,t.ref.markup.dirty=a,t.ref.markup.markup=o,t.ref.markup.crop=Up(f,s)):t.ref.markup&&t.ref.destroyMarkup();const g=t.ref.image;if(r){g.originX=null,g.originY=null,g.translateX=null,g.translateY=null,g.rotateZ=null,g.scaleX=null,g.scaleY=null;return}g.originX=h.x,g.originY=h.y,g.translateX=E.x,g.translateY=E.y,g.rotateZ=d,g.scaleX=p,g.scaleY=p}}),kp=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Oe,scaleY:Oe,translateY:Oe,opacity:{type:"tween",duration:400}}},create:({root:t,props:n})=>{t.ref.clip=t.appendChildView(t.createChildView($p(e),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:({root:t,props:n,shouldOptimize:r})=>{const{clip:s}=t.ref,{image:o,crop:i,markup:a,resize:l,dirty:u}=n;if(s.crop=i,s.markup=a,s.resize=l,s.dirty=u,s.opacity=r?0:1,r||t.rect.element.hidden)return;const c=o.height/o.width;let f=i.aspectRatio||c;const h=t.rect.inner.width,E=t.rect.inner.height;let d=t.query("GET_IMAGE_PREVIEW_HEIGHT");const m=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),_=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),I=t.query("GET_PANEL_ASPECT_RATIO"),p=t.query("GET_ALLOW_MULTIPLE");I&&!p&&(d=h*I,f=I);let g=d!==null?d:Math.max(m,Math.min(h*f,_)),R=g/f;R>h&&(R=h,g=R*f),g>E&&(g=E,R=E/f),s.width=R,s.height=g}});let zp=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,bs=0;const qp=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:t,props:n})=>{let r=zp;if(document.querySelector("base")){const s=new URL(window.location.href.replace(window.location.hash,"")).href;r=r.replace(/url\(\#/g,"url("+s+"#")}bs++,t.element.classList.add(`filepond--image-preview-overlay-${n.status}`),t.element.innerHTML=r.replace(/__UID__/g,bs)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Wp=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(t=>{self.postMessage({id:e.data.id,message:t},[t])})}},Yp=function(){self.onmessage=e=>{const t=e.data.message.imageData,n=e.data.message.colorMatrix,r=t.data,s=r.length,o=n[0],i=n[1],a=n[2],l=n[3],u=n[4],c=n[5],f=n[6],h=n[7],E=n[8],d=n[9],m=n[10],_=n[11],I=n[12],p=n[13],g=n[14],R=n[15],A=n[16],C=n[17],D=n[18],T=n[19];let y=0,M=0,w=0,P=0,U=0;for(;y<s;y+=4)M=r[y]/255,w=r[y+1]/255,P=r[y+2]/255,U=r[y+3]/255,r[y]=Math.max(0,Math.min((M*o+w*i+P*a+U*l+u)*255,255)),r[y+1]=Math.max(0,Math.min((M*c+w*f+P*h+U*E+d)*255,255)),r[y+2]=Math.max(0,Math.min((M*m+w*_+P*I+U*p+g)*255,255)),r[y+3]=Math.max(0,Math.min((M*R+w*A+P*C+U*D+T)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},jp=(e,t)=>{let n=new Image;n.onload=()=>{const r=n.naturalWidth,s=n.naturalHeight;n=null,t(r,s)},n.src=e},Xp={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},Kp=(e,t,n,r)=>{r!==-1&&e.transform.apply(e,Xp[r](t,n))},Qp=(e,t,n,r)=>{t=Math.round(t),n=Math.round(n);const s=document.createElement("canvas");s.width=t,s.height=n;const o=s.getContext("2d");return r>=5&&r<=8&&([t,n]=[n,t]),Kp(o,t,n,r),o.drawImage(e,0,0,t,n),s},Xi=e=>/^image/.test(e.type)&&!/svg/.test(e.type),Zp=10,Jp=10,eh=e=>{const t=Math.min(Zp/e.width,Jp/e.height),n=document.createElement("canvas"),r=n.getContext("2d"),s=n.width=Math.ceil(e.width*t),o=n.height=Math.ceil(e.height*t);r.drawImage(e,0,0,s,o);let i=null;try{i=r.getImageData(0,0,s,o).data}catch{return null}const a=i.length;let l=0,u=0,c=0,f=0;for(;f<a;f+=4)l+=i[f]*i[f],u+=i[f+1]*i[f+1],c+=i[f+2]*i[f+2];return l=Sn(l,a),u=Sn(u,a),c=Sn(c,a),{r:l,g:u,b:c}},Sn=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),th=(e,t)=>(t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t),nh=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},rh=e=>new Promise((t,n)=>{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{t(r)},r.onerror=s=>{n(s)},r.src=e}),sh=e=>{const t=qp(e),n=kp(e),{createWorker:r}=e.utils,s=(p,g,R)=>new Promise(A=>{p.ref.imageData||(p.ref.imageData=R.getContext("2d").getImageData(0,0,R.width,R.height));const C=nh(p.ref.imageData);if(!g||g.length!==20)return R.getContext("2d").putImageData(C,0,0),A();const D=r(Yp);D.post({imageData:C,colorMatrix:g},T=>{R.getContext("2d").putImageData(T,0,0),D.terminate(),A()},[C.data.buffer])}),o=(p,g)=>{p.removeChildView(g),g.image.width=1,g.image.height=1,g._destroy()},i=({root:p})=>{const g=p.ref.images.shift();return g.opacity=0,g.translateY=-15,p.ref.imageViewBin.push(g),g},a=({root:p,props:g,image:R})=>{const A=g.id,C=p.query("GET_ITEM",{id:A});if(!C)return;const D=C.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},T=p.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let y,M,w=!1;p.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(y=C.getMetadata("markup")||[],M=C.getMetadata("resize"),w=!0);const P=p.appendChildView(p.createChildView(n,{id:A,image:R,crop:D,resize:M,markup:y,dirty:w,background:T,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),p.childViews.length);p.ref.images.push(P),P.opacity=1,P.scaleX=1,P.scaleY=1,P.translateY=0,setTimeout(()=>{p.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:A})},250)},l=({root:p,props:g})=>{const R=p.query("GET_ITEM",{id:g.id});if(!R)return;const A=p.ref.images[p.ref.images.length-1];A.crop=R.getMetadata("crop"),A.background=p.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),p.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(A.dirty=!0,A.resize=R.getMetadata("resize"),A.markup=R.getMetadata("markup"))},u=({root:p,props:g,action:R})=>{if(!/crop|filter|markup|resize/.test(R.change.key)||!p.ref.images.length)return;const A=p.query("GET_ITEM",{id:g.id});if(A){if(/filter/.test(R.change.key)){const C=p.ref.images[p.ref.images.length-1];s(p,R.change.value,C.image);return}if(/crop|markup|resize/.test(R.change.key)){const C=A.getMetadata("crop"),D=p.ref.images[p.ref.images.length-1];if(C&&C.aspectRatio&&D.crop&&D.crop.aspectRatio&&Math.abs(C.aspectRatio-D.crop.aspectRatio)>1e-5){const T=i({root:p});a({root:p,props:g,image:th(T.image)})}else l({root:p,props:g})}}},c=p=>{const R=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),A=R?parseInt(R[1]):null;return A!==null&&A<=58?!1:"createImageBitmap"in window&&Xi(p)},f=({root:p,props:g})=>{const{id:R}=g,A=p.query("GET_ITEM",R);if(!A)return;const C=URL.createObjectURL(A.file);jp(C,(D,T)=>{p.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:R,width:D,height:T})})},h=({root:p,props:g})=>{const{id:R}=g,A=p.query("GET_ITEM",R);if(!A)return;const C=URL.createObjectURL(A.file),D=()=>{rh(C).then(T)},T=y=>{URL.revokeObjectURL(C);const w=(A.getMetadata("exif")||{}).orientation||-1;let{width:P,height:U}=y;if(!P||!U)return;w>=5&&w<=8&&([P,U]=[U,P]);const b=Math.max(1,window.devicePixelRatio*.75),v=p.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*b,L=U/P,N=p.rect.element.width,F=p.rect.element.height;let $=N,G=$*L;L>1?($=Math.min(P,N*v),G=$*L):(G=Math.min(U,F*v),$=G/L);const Ne=Qp(y,$,G,w),rt=()=>{const on=p.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?eh(data):null;A.setMetadata("color",on,!0),"close"in y&&y.close(),p.ref.overlayShadow.opacity=1,a({root:p,props:g,image:Ne})},Ee=A.getMetadata("filter");Ee?s(p,Ee,Ne).then(rt):rt()};if(c(A.file)){const y=r(Wp);y.post({file:A.file},M=>{if(y.terminate(),!M){D();return}T(M)})}else D()},E=({root:p})=>{const g=p.ref.images[p.ref.images.length-1];g.translateY=0,g.scaleX=1,g.scaleY=1,g.opacity=1},d=({root:p})=>{p.ref.overlayShadow.opacity=1,p.ref.overlayError.opacity=0,p.ref.overlaySuccess.opacity=0},m=({root:p})=>{p.ref.overlayShadow.opacity=.25,p.ref.overlayError.opacity=1},_=({root:p})=>{p.ref.overlayShadow.opacity=.25,p.ref.overlaySuccess.opacity=1},I=({root:p})=>{p.ref.images=[],p.ref.imageData=null,p.ref.imageViewBin=[],p.ref.overlayShadow=p.appendChildView(p.createChildView(t,{opacity:0,status:"idle"})),p.ref.overlaySuccess=p.appendChildView(p.createChildView(t,{opacity:0,status:"success"})),p.ref.overlayError=p.appendChildView(p.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:I,styles:["height"],apis:["height"],destroy:({root:p})=>{p.ref.images.forEach(g=>{g.image.width=1,g.image.height=1})},didWriteView:({root:p})=>{p.ref.images.forEach(g=>{g.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:E,DID_IMAGE_PREVIEW_CONTAINER_CREATE:f,DID_FINISH_CALCULATE_PREVIEWSIZE:h,DID_UPDATE_ITEM_METADATA:u,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:_,DID_START_ITEM_PROCESSING:d,DID_REVERT_ITEM_PROCESSING:d},({root:p})=>{const g=p.ref.imageViewBin.filter(R=>R.opacity===0);p.ref.imageViewBin=p.ref.imageViewBin.filter(R=>R.opacity>0),g.forEach(R=>o(p,R)),g.length=0})})},Ki=e=>{const{addFilter:t,utils:n}=e,{Type:r,createRoute:s,isFile:o}=n,i=sh(e);return t("CREATE_VIEW",a=>{const{is:l,view:u,query:c}=a;if(!l("file")||!c("GET_ALLOW_IMAGE_PREVIEW"))return;const f=({root:_,props:I})=>{const{id:p}=I,g=c("GET_ITEM",p);if(!g||!o(g.file)||g.archived)return;const R=g.file;if(!up(R)||!c("GET_IMAGE_PREVIEW_FILTER_ITEM")(g))return;const A="createImageBitmap"in(window||{}),C=c("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!A&&C&&R.size>C)return;_.ref.imagePreview=u.appendChildView(u.createChildView(i,{id:p}));const D=_.query("GET_IMAGE_PREVIEW_HEIGHT");D&&_.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:g.id,height:D});const T=!A&&R.size>c("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");_.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:p},T)},h=(_,I)=>{if(!_.ref.imagePreview)return;let{id:p}=I;const g=_.query("GET_ITEM",{id:p});if(!g)return;const R=_.query("GET_PANEL_ASPECT_RATIO"),A=_.query("GET_ITEM_PANEL_ASPECT_RATIO"),C=_.query("GET_IMAGE_PREVIEW_HEIGHT");if(R||A||C)return;let{imageWidth:D,imageHeight:T}=_.ref;if(!D||!T)return;const y=_.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),M=_.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),P=(g.getMetadata("exif")||{}).orientation||-1;if(P>=5&&P<=8&&([D,T]=[T,D]),!Xi(g.file)||_.query("GET_IMAGE_PREVIEW_UPSCALE")){const N=2048/D;D*=N,T*=N}const U=T/D,b=(g.getMetadata("crop")||{}).aspectRatio||U;let B=Math.max(y,Math.min(T,M));const v=_.rect.element.width,L=Math.min(v*b,B);_.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:g.id,height:L})},E=({root:_})=>{_.ref.shouldRescale=!0},d=({root:_,action:I})=>{I.change.key==="crop"&&(_.ref.shouldRescale=!0)},m=({root:_,action:I})=>{_.ref.imageWidth=I.width,_.ref.imageHeight=I.height,_.ref.shouldRescale=!0,_.ref.shouldDrawPreview=!0,_.dispatch("KICK")};u.registerWriter(s({DID_RESIZE_ROOT:E,DID_STOP_RESIZE:E,DID_LOAD_ITEM:f,DID_IMAGE_PREVIEW_CALCULATE_SIZE:m,DID_UPDATE_ITEM_METADATA:d},({root:_,props:I})=>{_.ref.imagePreview&&(_.rect.element.hidden||(_.ref.shouldRescale&&(h(_,I),_.ref.shouldRescale=!1),_.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{_.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:I.id})})}),_.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewFilterItem:[()=>!0,r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[!1,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[!1,r.BOOLEAN],imagePreviewMarkupShow:[!0,r.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,r.FUNCTION]}}},ih=typeof window<"u"&&typeof window.document<"u";ih&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Ki}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Qi=({addFilter:e,utils:t})=>{const{Type:n,replaceInString:r,toNaturalFileSize:s}=t;return e("ALLOW_HOPPER_ITEM",(o,{query:i})=>{if(!i("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const a=i("GET_MAX_FILE_SIZE");if(a!==null&&o.size>a)return!1;const l=i("GET_MIN_FILE_SIZE");return!(l!==null&&o.size<l)}),e("LOAD_FILE",(o,{query:i})=>new Promise((a,l)=>{if(!i("GET_ALLOW_FILE_SIZE_VALIDATION"))return a(o);const u=i("GET_FILE_VALIDATE_SIZE_FILTER");if(u&&!u(o))return a(o);const c=i("GET_MAX_FILE_SIZE");if(c!==null&&o.size>c){l({status:{main:i("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:r(i("GET_LABEL_MAX_FILE_SIZE"),{filesize:s(c,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});return}const f=i("GET_MIN_FILE_SIZE");if(f!==null&&o.size<f){l({status:{main:i("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:r(i("GET_LABEL_MIN_FILE_SIZE"),{filesize:s(f,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});return}const h=i("GET_MAX_TOTAL_FILE_SIZE");if(h!==null&&i("GET_ACTIVE_ITEMS").reduce((d,m)=>d+m.fileSize,0)>h){l({status:{main:i("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:r(i("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:s(h,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});return}a(o)})),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],minFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],fileValidateSizeFilter:[null,n.FUNCTION],labelMinFileSizeExceeded:["File is too small",n.STRING],labelMinFileSize:["Minimum file size is {filesize}",n.STRING],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}},oh=typeof window<"u"&&typeof window.document<"u";oh&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Qi}));const ah={labelIdle:'Arrastra y suelta tus archivos o <span class = "filepond--label-action"> Examina <span>',labelInvalidField:"El campo contiene archivos inválidos",labelFileWaitingForSize:"Esperando tamaño",labelFileSizeNotAvailable:"Tamaño no disponible",labelFileLoading:"Cargando",labelFileLoadError:"Error durante la carga",labelFileProcessing:"Subiendo",labelFileProcessingComplete:"Subida completa",labelFileProcessingAborted:"Subida cancelada",labelFileProcessingError:"Error durante la subida",labelFileProcessingRevertError:"Error durante la reversión",labelFileRemoveError:"Error durante la eliminación",labelTapToCancel:"toca para cancelar",labelTapToRetry:"tocar para reintentar",labelTapToUndo:"tocar para deshacer",labelButtonRemoveItem:"Eliminar",labelButtonAbortItemLoad:"Cancelar",labelButtonRetryItemLoad:"Reintentar",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Deshacer",labelButtonRetryItemProcessing:"Reintentar",labelButtonProcessItem:"Subir",labelMaxFileSizeExceeded:"El archivo es demasiado grande",labelMaxFileSize:"El tamaño máximo del archivo es {filesize}",labelMaxTotalFileSizeExceeded:"Tamaño total máximo excedido",labelMaxTotalFileSize:"El tamaño total máximo del archivo es {filesize}",labelFileTypeNotAllowed:"Archivo de tipo inválido",fileValidateTypeLabelExpectedTypes:"Espera {allButLastType} o {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagen no soportada",imageValidateSizeLabelImageSizeTooSmall:"La imagen es demasiado pequeña",imageValidateSizeLabelImageSizeTooBig:"La imagen es demasiado grande",imageValidateSizeLabelExpectedMinSize:"El tamaño mínimo es {minWidth} x {minHeight}",imageValidateSizeLabelExpectedMaxSize:"El tamaño máximo es {maxWidth} x {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La resolución es demasiado baja",imageValidateSizeLabelImageResolutionTooHigh:"La resolución es demasiado alta",imageValidateSizeLabelExpectedMinResolution:"La resolución mínima es {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La resolución máxima es {maxResolution}"};/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Zi=({addFilter:e,utils:t})=>{const{Type:n,isString:r,replaceInString:s,guesstimateMimeType:o,getExtensionFromFilename:i,getFilenameFromURL:a}=t,l=(E,d)=>{const m=(/^[^/]+/.exec(E)||[]).pop(),_=d.slice(0,-2);return m===_},u=(E,d)=>E.some(m=>/\*$/.test(m)?l(d,m):m===d),c=E=>{let d="";if(r(E)){const m=a(E),_=i(m);_&&(d=o(_))}else d=E.type;return d},f=(E,d,m)=>{if(d.length===0)return!0;const _=c(E);return m?new Promise((I,p)=>{m(E,_).then(g=>{u(d,g)?I():p()}).catch(p)}):u(d,_)},h=E=>d=>E[d]===null?!1:E[d]||d;return e("SET_ATTRIBUTE_TO_OPTION_MAP",E=>Object.assign(E,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(E,{query:d})=>d("GET_ALLOW_FILE_TYPE_VALIDATION")?f(E,d("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(E,{query:d})=>new Promise((m,_)=>{if(!d("GET_ALLOW_FILE_TYPE_VALIDATION")){m(E);return}const I=d("GET_ACCEPTED_FILE_TYPES"),p=d("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),g=f(E,I,p),R=()=>{const A=I.map(h(d("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(D=>D!==!1),C=A.filter((D,T)=>A.indexOf(D)===T);_({status:{main:d("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:s(d("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:C.join(", "),allButLastType:C.slice(0,-1).join(", "),lastType:C[C.length-1]})}})};if(typeof g=="boolean")return g?m(E):R();g.then(()=>{m(E)}).catch(R)})),{options:{allowFileTypeValidation:[!0,n.BOOLEAN],acceptedFileTypes:[[],n.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",n.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",n.STRING],fileValidateTypeLabelExpectedTypesMap:[{},n.OBJECT],fileValidateTypeDetectType:[null,n.FUNCTION]}}},lh=typeof window<"u"&&typeof window.document<"u";lh&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Zi}));window.axios=ga;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.TomSelect=se;zt(Ki,Qi,Zi);qt(ah);window.FilePond=cp;
