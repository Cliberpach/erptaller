var uo=Object.defineProperty;var fo=(t,e,i)=>e in t?uo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Ve=(t,e,i)=>(fo(t,typeof e!="symbol"?e+"":e,i),i);function Vn(t,e){return function(){return t.apply(e,arguments)}}const{toString:ho}=Object.prototype,{getPrototypeOf:Qi}=Object,ei=(t=>e=>{const i=ho.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ae=t=>(t=t.toLowerCase(),e=>ei(e)===t),ti=t=>e=>typeof e===t,{isArray:ot}=Array,mt=ti("undefined");function po(t){return t!==null&&!mt(t)&&t.constructor!==null&&!mt(t.constructor)&&Ie(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Un=Ae("ArrayBuffer");function go(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Un(t.buffer),e}const mo=ti("string"),Ie=ti("function"),$n=ti("number"),ii=t=>t!==null&&typeof t=="object",Eo=t=>t===!0||t===!1,Nt=t=>{if(ei(t)!=="object")return!1;const e=Qi(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Io=Ae("Date"),_o=Ae("File"),To=Ae("Blob"),yo=Ae("FileList"),vo=t=>ii(t)&&Ie(t.pipe),bo=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ie(t.append)&&((e=ei(t))==="formdata"||e==="object"&&Ie(t.toString)&&t.toString()==="[object FormData]"))},So=Ae("URLSearchParams"),Oo=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _t(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),ot(t))for(s=0,n=t.length;s<n;s++)e.call(null,t[s],s,t);else{const o=i?Object.getOwnPropertyNames(t):Object.keys(t),r=o.length;let a;for(s=0;s<r;s++)a=o[s],e.call(null,t[a],a,t)}}function Hn(t,e){e=e.toLowerCase();const i=Object.keys(t);let s=i.length,n;for(;s-- >0;)if(n=i[s],e===n.toLowerCase())return n;return null}const kn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Wn=t=>!mt(t)&&t!==kn;function Mi(){const{caseless:t}=Wn(this)&&this||{},e={},i=(s,n)=>{const o=t&&Hn(e,n)||n;Nt(e[o])&&Nt(s)?e[o]=Mi(e[o],s):Nt(s)?e[o]=Mi({},s):ot(s)?e[o]=s.slice():e[o]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&_t(arguments[s],i);return e}const wo=(t,e,i,{allOwnKeys:s}={})=>(_t(e,(n,o)=>{i&&Ie(n)?t[o]=Vn(n,i):t[o]=n},{allOwnKeys:s}),t),Ro=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ao=(t,e,i,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},Co=(t,e,i,s)=>{let n,o,r;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)r=n[o],(!s||s(r,t,e))&&!a[r]&&(e[r]=t[r],a[r]=!0);t=i!==!1&&Qi(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},Do=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const s=t.indexOf(e,i);return s!==-1&&s===i},Lo=t=>{if(!t)return null;if(ot(t))return t;let e=t.length;if(!$n(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},Po=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Qi(Uint8Array)),Mo=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=s.next())&&!n.done;){const o=n.value;e.call(t,o[0],o[1])}},xo=(t,e)=>{let i;const s=[];for(;(i=t.exec(e))!==null;)s.push(i);return s},No=Ae("HTMLFormElement"),Fo=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,n){return s.toUpperCase()+n}),Is=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),Go=Ae("RegExp"),Yn=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),s={};_t(i,(n,o)=>{let r;(r=e(n,o,t))!==!1&&(s[o]=r||n)}),Object.defineProperties(t,s)},Bo=t=>{Yn(t,(e,i)=>{if(Ie(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=t[i];if(Ie(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},zo=(t,e)=>{const i={},s=n=>{n.forEach(o=>{i[o]=!0})};return ot(t)?s(t):s(String(t).split(e)),i},Vo=()=>{},Uo=(t,e)=>(t=+t,Number.isFinite(t)?t:e),pi="abcdefghijklmnopqrstuvwxyz",_s="0123456789",Xn={DIGIT:_s,ALPHA:pi,ALPHA_DIGIT:pi+pi.toUpperCase()+_s},$o=(t=16,e=Xn.ALPHA_DIGIT)=>{let i="";const{length:s}=e;for(;t--;)i+=e[Math.random()*s|0];return i};function Ho(t){return!!(t&&Ie(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ko=t=>{const e=new Array(10),i=(s,n)=>{if(ii(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[n]=s;const o=ot(s)?[]:{};return _t(s,(r,a)=>{const l=i(r,n+1);!mt(l)&&(o[a]=l)}),e[n]=void 0,o}}return s};return i(t,0)},Wo=Ae("AsyncFunction"),Yo=t=>t&&(ii(t)||Ie(t))&&Ie(t.then)&&Ie(t.catch),v={isArray:ot,isArrayBuffer:Un,isBuffer:po,isFormData:bo,isArrayBufferView:go,isString:mo,isNumber:$n,isBoolean:Eo,isObject:ii,isPlainObject:Nt,isUndefined:mt,isDate:Io,isFile:_o,isBlob:To,isRegExp:Go,isFunction:Ie,isStream:vo,isURLSearchParams:So,isTypedArray:Po,isFileList:yo,forEach:_t,merge:Mi,extend:wo,trim:Oo,stripBOM:Ro,inherits:Ao,toFlatObject:Co,kindOf:ei,kindOfTest:Ae,endsWith:Do,toArray:Lo,forEachEntry:Mo,matchAll:xo,isHTMLForm:No,hasOwnProperty:Is,hasOwnProp:Is,reduceDescriptors:Yn,freezeMethods:Bo,toObjectSet:zo,toCamelCase:Fo,noop:Vo,toFiniteNumber:Uo,findKey:Hn,global:kn,isContextDefined:Wn,ALPHABET:Xn,generateString:$o,isSpecCompliantForm:Ho,toJSONObject:ko,isAsyncFn:Wo,isThenable:Yo};function $(t,e,i,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),n&&(this.response=n)}v.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const qn=$.prototype,jn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{jn[t]={value:t}});Object.defineProperties($,jn);Object.defineProperty(qn,"isAxiosError",{value:!0});$.from=(t,e,i,s,n,o)=>{const r=Object.create(qn);return v.toFlatObject(t,r,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),$.call(r,t.message,e,i,s,n),r.cause=t,r.name=t.name,o&&Object.assign(r,o),r};const Xo=null;function xi(t){return v.isPlainObject(t)||v.isArray(t)}function Zn(t){return v.endsWith(t,"[]")?t.slice(0,-2):t}function Ts(t,e,i){return t?t.concat(e).map(function(n,o){return n=Zn(n),!i&&o?"["+n+"]":n}).join(i?".":""):e}function qo(t){return v.isArray(t)&&!t.some(xi)}const jo=v.toFlatObject(v,{},null,function(e){return/^is[A-Z]/.test(e)});function si(t,e,i){if(!v.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=v.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,E){return!v.isUndefined(E[m])});const s=i.metaTokens,n=i.visitor||c,o=i.dots,r=i.indexes,l=(i.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(e);if(!v.isFunction(n))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(v.isDate(f))return f.toISOString();if(!l&&v.isBlob(f))throw new $("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(f)||v.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,m,E){let _=f;if(f&&!E&&typeof f=="object"){if(v.endsWith(m,"{}"))m=s?m:m.slice(0,-2),f=JSON.stringify(f);else if(v.isArray(f)&&qo(f)||(v.isFileList(f)||v.endsWith(m,"[]"))&&(_=v.toArray(f)))return m=Zn(m),_.forEach(function(I,y){!(v.isUndefined(I)||I===null)&&e.append(r===!0?Ts([m],y,o):r===null?m:m+"[]",u(I))}),!1}return xi(f)?!0:(e.append(Ts(E,m,o),u(f)),!1)}const d=[],h=Object.assign(jo,{defaultVisitor:c,convertValue:u,isVisitable:xi});function g(f,m){if(!v.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(f),v.forEach(f,function(_,p){(!(v.isUndefined(_)||_===null)&&n.call(e,_,v.isString(p)?p.trim():p,m,h))===!0&&g(_,m?m.concat(p):[p])}),d.pop()}}if(!v.isObject(t))throw new TypeError("data must be an object");return g(t),e}function ys(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Ji(t,e){this._pairs=[],t&&si(t,this,e)}const Kn=Ji.prototype;Kn.append=function(e,i){this._pairs.push([e,i])};Kn.toString=function(e){const i=e?function(s){return e.call(this,s,ys)}:ys;return this._pairs.map(function(n){return i(n[0])+"="+i(n[1])},"").join("&")};function Zo(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qn(t,e,i){if(!e)return t;const s=i&&i.encode||Zo,n=i&&i.serialize;let o;if(n?o=n(e,i):o=v.isURLSearchParams(e)?e.toString():new Ji(e,i).toString(s),o){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ko{constructor(){this.handlers=[]}use(e,i,s){return this.handlers.push({fulfilled:e,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v.forEach(this.handlers,function(s){s!==null&&e(s)})}}const vs=Ko,Jn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qo=typeof URLSearchParams<"u"?URLSearchParams:Ji,Jo=typeof FormData<"u"?FormData:null,ea=typeof Blob<"u"?Blob:null,ta=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ia=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),we={isBrowser:!0,classes:{URLSearchParams:Qo,FormData:Jo,Blob:ea},isStandardBrowserEnv:ta,isStandardBrowserWebWorkerEnv:ia,protocols:["http","https","file","blob","url","data"]};function sa(t,e){return si(t,new we.classes.URLSearchParams,Object.assign({visitor:function(i,s,n,o){return we.isNode&&v.isBuffer(i)?(this.append(s,i.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function na(t){return v.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ra(t){const e={},i=Object.keys(t);let s;const n=i.length;let o;for(s=0;s<n;s++)o=i[s],e[o]=t[o];return e}function er(t){function e(i,s,n,o){let r=i[o++];const a=Number.isFinite(+r),l=o>=i.length;return r=!r&&v.isArray(n)?n.length:r,l?(v.hasOwnProp(n,r)?n[r]=[n[r],s]:n[r]=s,!a):((!n[r]||!v.isObject(n[r]))&&(n[r]=[]),e(i,s,n[r],o)&&v.isArray(n[r])&&(n[r]=ra(n[r])),!a)}if(v.isFormData(t)&&v.isFunction(t.entries)){const i={};return v.forEachEntry(t,(s,n)=>{e(na(s),n,i,0)}),i}return null}function oa(t,e,i){if(v.isString(t))try{return(e||JSON.parse)(t),v.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(t)}const es={transitional:Jn,adapter:["xhr","http"],transformRequest:[function(e,i){const s=i.getContentType()||"",n=s.indexOf("application/json")>-1,o=v.isObject(e);if(o&&v.isHTMLForm(e)&&(e=new FormData(e)),v.isFormData(e))return n&&n?JSON.stringify(er(e)):e;if(v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e))return e;if(v.isArrayBufferView(e))return e.buffer;if(v.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return sa(e,this.formSerializer).toString();if((a=v.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return si(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||n?(i.setContentType("application/json",!1),oa(e)):e}],transformResponse:[function(e){const i=this.transitional||es.transitional,s=i&&i.forcedJSONParsing,n=this.responseType==="json";if(e&&v.isString(e)&&(s&&!this.responseType||n)){const r=!(i&&i.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(r)throw a.name==="SyntaxError"?$.from(a,$.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],t=>{es.headers[t]={}});const ts=es,aa=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),la=t=>{const e={};let i,s,n;return t&&t.split(`
`).forEach(function(r){n=r.indexOf(":"),i=r.substring(0,n).trim().toLowerCase(),s=r.substring(n+1).trim(),!(!i||e[i]&&aa[i])&&(i==="set-cookie"?e[i]?e[i].push(s):e[i]=[s]:e[i]=e[i]?e[i]+", "+s:s)}),e},bs=Symbol("internals");function ct(t){return t&&String(t).trim().toLowerCase()}function Ft(t){return t===!1||t==null?t:v.isArray(t)?t.map(Ft):String(t)}function ca(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(t);)e[s[1]]=s[2];return e}const ua=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gi(t,e,i,s,n){if(v.isFunction(s))return s.call(this,e,i);if(n&&(e=i),!!v.isString(e)){if(v.isString(s))return e.indexOf(s)!==-1;if(v.isRegExp(s))return s.test(e)}}function da(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,s)=>i.toUpperCase()+s)}function fa(t,e){const i=v.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+i,{value:function(n,o,r){return this[s].call(this,e,n,o,r)},configurable:!0})})}class ni{constructor(e){e&&this.set(e)}set(e,i,s){const n=this;function o(a,l,u){const c=ct(l);if(!c)throw new Error("header name must be a non-empty string");const d=v.findKey(n,c);(!d||n[d]===void 0||u===!0||u===void 0&&n[d]!==!1)&&(n[d||l]=Ft(a))}const r=(a,l)=>v.forEach(a,(u,c)=>o(u,c,l));return v.isPlainObject(e)||e instanceof this.constructor?r(e,i):v.isString(e)&&(e=e.trim())&&!ua(e)?r(la(e),i):e!=null&&o(i,e,s),this}get(e,i){if(e=ct(e),e){const s=v.findKey(this,e);if(s){const n=this[s];if(!i)return n;if(i===!0)return ca(n);if(v.isFunction(i))return i.call(this,n,s);if(v.isRegExp(i))return i.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=ct(e),e){const s=v.findKey(this,e);return!!(s&&this[s]!==void 0&&(!i||gi(this,this[s],s,i)))}return!1}delete(e,i){const s=this;let n=!1;function o(r){if(r=ct(r),r){const a=v.findKey(s,r);a&&(!i||gi(s,s[a],a,i))&&(delete s[a],n=!0)}}return v.isArray(e)?e.forEach(o):o(e),n}clear(e){const i=Object.keys(this);let s=i.length,n=!1;for(;s--;){const o=i[s];(!e||gi(this,this[o],o,e,!0))&&(delete this[o],n=!0)}return n}normalize(e){const i=this,s={};return v.forEach(this,(n,o)=>{const r=v.findKey(s,o);if(r){i[r]=Ft(n),delete i[o];return}const a=e?da(o):String(o).trim();a!==o&&delete i[o],i[a]=Ft(n),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return v.forEach(this,(s,n)=>{s!=null&&s!==!1&&(i[n]=e&&v.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const s=new this(e);return i.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[bs]=this[bs]={accessors:{}}).accessors,n=this.prototype;function o(r){const a=ct(r);s[a]||(fa(n,r),s[a]=!0)}return v.isArray(e)?e.forEach(o):o(e),this}}ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(ni.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[i]=s}}});v.freezeMethods(ni);const Le=ni;function mi(t,e){const i=this||ts,s=e||i,n=Le.from(s.headers);let o=s.data;return v.forEach(t,function(a){o=a.call(i,o,n.normalize(),e?e.status:void 0)}),n.normalize(),o}function tr(t){return!!(t&&t.__CANCEL__)}function Tt(t,e,i){$.call(this,t??"canceled",$.ERR_CANCELED,e,i),this.name="CanceledError"}v.inherits(Tt,$,{__CANCEL__:!0});function ha(t,e,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):e(new $("Request failed with status code "+i.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const pa=we.isStandardBrowserEnv?function(){return{write:function(i,s,n,o,r,a){const l=[];l.push(i+"="+encodeURIComponent(s)),v.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),v.isString(o)&&l.push("path="+o),v.isString(r)&&l.push("domain="+r),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(i){const s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ga(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ma(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function ir(t,e){return t&&!ga(e)?ma(t,e):e}const Ea=we.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let s;function n(o){let r=o;return e&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=n(window.location.href),function(r){const a=v.isString(r)?n(r):r;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function Ia(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _a(t,e){t=t||10;const i=new Array(t),s=new Array(t);let n=0,o=0,r;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=s[o];r||(r=u),i[n]=l,s[n]=u;let d=o,h=0;for(;d!==n;)h+=i[d++],d=d%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),u-r<e)return;const g=c&&u-c;return g?Math.round(h*1e3/g):void 0}}function Ss(t,e){let i=0;const s=_a(50,250);return n=>{const o=n.loaded,r=n.lengthComputable?n.total:void 0,a=o-i,l=s(a),u=o<=r;i=o;const c={loaded:o,total:r,progress:r?o/r:void 0,bytes:a,rate:l||void 0,estimated:l&&r&&u?(r-o)/l:void 0,event:n};c[e?"download":"upload"]=!0,t(c)}}const Ta=typeof XMLHttpRequest<"u",ya=Ta&&function(t){return new Promise(function(i,s){let n=t.data;const o=Le.from(t.headers).normalize(),r=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let u;v.isFormData(n)&&(we.isStandardBrowserEnv||we.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?v.isString(u=o.getContentType())&&o.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(f+":"+m))}const d=ir(t.baseURL,t.url);c.open(t.method.toUpperCase(),Qn(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const f=Le.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),E={data:!r||r==="text"||r==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:t,request:c};ha(function(p){i(p),l()},function(p){s(p),l()},E),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(s(new $("Request aborted",$.ECONNABORTED,t,c)),c=null)},c.onerror=function(){s(new $("Network Error",$.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const E=t.transitional||Jn;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),s(new $(m,E.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,t,c)),c=null},we.isStandardBrowserEnv){const f=(t.withCredentials||Ea(d))&&t.xsrfCookieName&&pa.read(t.xsrfCookieName);f&&o.set(t.xsrfHeaderName,f)}n===void 0&&o.setContentType(null),"setRequestHeader"in c&&v.forEach(o.toJSON(),function(m,E){c.setRequestHeader(E,m)}),v.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),r&&r!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Ss(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Ss(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{c&&(s(!f||f.type?new Tt(null,t,c):f),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const g=Ia(d);if(g&&we.protocols.indexOf(g)===-1){s(new $("Unsupported protocol "+g+":",$.ERR_BAD_REQUEST,t));return}c.send(n||null)})},Ni={http:Xo,xhr:ya};v.forEach(Ni,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Os=t=>`- ${t}`,va=t=>v.isFunction(t)||t===null||t===!1,sr={getAdapter:t=>{t=v.isArray(t)?t:[t];const{length:e}=t;let i,s;const n={};for(let o=0;o<e;o++){i=t[o];let r;if(s=i,!va(i)&&(s=Ni[(r=String(i)).toLowerCase()],s===void 0))throw new $(`Unknown adapter '${r}'`);if(s)break;n[r||"#"+o]=s}if(!s){const o=Object.entries(n).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let r=e?o.length>1?`since :
`+o.map(Os).join(`
`):" "+Os(o[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return s},adapters:Ni};function Ei(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Tt(null,t)}function ws(t){return Ei(t),t.headers=Le.from(t.headers),t.data=mi.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sr.getAdapter(t.adapter||ts.adapter)(t).then(function(s){return Ei(t),s.data=mi.call(t,t.transformResponse,s),s.headers=Le.from(s.headers),s},function(s){return tr(s)||(Ei(t),s&&s.response&&(s.response.data=mi.call(t,t.transformResponse,s.response),s.response.headers=Le.from(s.response.headers))),Promise.reject(s)})}const Rs=t=>t instanceof Le?t.toJSON():t;function nt(t,e){e=e||{};const i={};function s(u,c,d){return v.isPlainObject(u)&&v.isPlainObject(c)?v.merge.call({caseless:d},u,c):v.isPlainObject(c)?v.merge({},c):v.isArray(c)?c.slice():c}function n(u,c,d){if(v.isUndefined(c)){if(!v.isUndefined(u))return s(void 0,u,d)}else return s(u,c,d)}function o(u,c){if(!v.isUndefined(c))return s(void 0,c)}function r(u,c){if(v.isUndefined(c)){if(!v.isUndefined(u))return s(void 0,u)}else return s(void 0,c)}function a(u,c,d){if(d in e)return s(u,c);if(d in t)return s(void 0,u)}const l={url:o,method:o,data:o,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(u,c)=>n(Rs(u),Rs(c),!0)};return v.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||n,h=d(t[c],e[c],c);v.isUndefined(h)&&d!==a||(i[c]=h)}),i}const nr="1.5.1",is={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{is[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const As={};is.transitional=function(e,i,s){function n(o,r){return"[Axios v"+nr+"] Transitional option '"+o+"'"+r+(s?". "+s:"")}return(o,r,a)=>{if(e===!1)throw new $(n(r," has been removed"+(i?" in "+i:"")),$.ERR_DEPRECATED);return i&&!As[r]&&(As[r]=!0,console.warn(n(r," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(o,r,a):!0}};function ba(t,e,i){if(typeof t!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let n=s.length;for(;n-- >0;){const o=s[n],r=e[o];if(r){const a=t[o],l=a===void 0||r(a,o,t);if(l!==!0)throw new $("option "+o+" must be "+l,$.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new $("Unknown option "+o,$.ERR_BAD_OPTION)}}const Fi={assertOptions:ba,validators:is},xe=Fi.validators;class $t{constructor(e){this.defaults=e,this.interceptors={request:new vs,response:new vs}}request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=nt(this.defaults,i);const{transitional:s,paramsSerializer:n,headers:o}=i;s!==void 0&&Fi.assertOptions(s,{silentJSONParsing:xe.transitional(xe.boolean),forcedJSONParsing:xe.transitional(xe.boolean),clarifyTimeoutError:xe.transitional(xe.boolean)},!1),n!=null&&(v.isFunction(n)?i.paramsSerializer={serialize:n}:Fi.assertOptions(n,{encode:xe.function,serialize:xe.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let r=o&&v.merge(o.common,o[i.method]);o&&v.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),i.headers=Le.concat(r,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(i)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,h;if(!l){const f=[ws.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),h=f.length,c=Promise.resolve(i);d<h;)c=c.then(f[d++],f[d++]);return c}h=a.length;let g=i;for(d=0;d<h;){const f=a[d++],m=a[d++];try{g=f(g)}catch(E){m.call(this,E);break}}try{c=ws.call(this,g)}catch(f){return Promise.reject(f)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=nt(this.defaults,e);const i=ir(e.baseURL,e.url);return Qn(i,e.params,e.paramsSerializer)}}v.forEach(["delete","get","head","options"],function(e){$t.prototype[e]=function(i,s){return this.request(nt(s||{},{method:e,url:i,data:(s||{}).data}))}});v.forEach(["post","put","patch"],function(e){function i(s){return function(o,r,a){return this.request(nt(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}$t.prototype[e]=i(),$t.prototype[e+"Form"]=i(!0)});const Gt=$t;class ss{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(o){i=o});const s=this;this.promise.then(n=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](n);s._listeners=null}),this.promise.then=n=>{let o;const r=new Promise(a=>{s.subscribe(a),o=a}).then(n);return r.cancel=function(){s.unsubscribe(o)},r},e(function(o,r,a){s.reason||(s.reason=new Tt(o,r,a),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}static source(){let e;return{token:new ss(function(n){e=n}),cancel:e}}}const Sa=ss;function Oa(t){return function(i){return t.apply(null,i)}}function wa(t){return v.isObject(t)&&t.isAxiosError===!0}const Gi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gi).forEach(([t,e])=>{Gi[e]=t});const Ra=Gi;function rr(t){const e=new Gt(t),i=Vn(Gt.prototype.request,e);return v.extend(i,Gt.prototype,e,{allOwnKeys:!0}),v.extend(i,e,null,{allOwnKeys:!0}),i.create=function(n){return rr(nt(t,n))},i}const Z=rr(ts);Z.Axios=Gt;Z.CanceledError=Tt;Z.CancelToken=Sa;Z.isCancel=tr;Z.VERSION=nr;Z.toFormData=si;Z.AxiosError=$;Z.Cancel=Z.CanceledError;Z.all=function(e){return Promise.all(e)};Z.spread=Oa;Z.isAxiosError=wa;Z.mergeConfig=nt;Z.AxiosHeaders=Le;Z.formToJSON=t=>er(v.isHTMLForm(t)?new FormData(t):t);Z.getAdapter=sr.getAdapter;Z.HttpStatusCode=Ra;Z.default=Z;const Aa=Z;function Ii(t,e){t.split(/\s+/).forEach(i=>{e(i)})}class Ca{constructor(){this._events={}}on(e,i){Ii(e,s=>{const n=this._events[s]||[];n.push(i),this._events[s]=n})}off(e,i){var s=arguments.length;if(s===0){this._events={};return}Ii(e,n=>{if(s===1){delete this._events[n];return}const o=this._events[n];o!==void 0&&(o.splice(o.indexOf(i),1),this._events[n]=o)})}trigger(e,...i){var s=this;Ii(e,n=>{const o=s._events[n];o!==void 0&&o.forEach(r=>{r.apply(s,i)})})}}function Da(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,i){t.plugins[e]={name:e,fn:i}}initializePlugins(e){var i,s;const n=this,o=[];if(Array.isArray(e))e.forEach(r=>{typeof r=="string"?o.push(r):(n.plugins.settings[r.name]=r.options,o.push(r.name))});else if(e)for(i in e)e.hasOwnProperty(i)&&(n.plugins.settings[i]=e[i],o.push(i));for(;s=o.shift();)n.require(s)}loadPlugin(e){var i=this,s=i.plugins,n=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');s.requested[e]=!0,s.loaded[e]=n.fn.apply(i,[i.plugins.settings[e]||{}]),s.names.push(e)}require(e){var i=this,s=i.plugins;if(!i.plugins.loaded.hasOwnProperty(e)){if(s.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');i.loadPlugin(e)}return s.loaded[e]}}}const ri=t=>(t=t.filter(Boolean),t.length<2?t[0]||"":Pa(t)==1?"["+t.join("")+"]":"(?:"+t.join("|")+")"),or=t=>{if(!La(t))return t.join("");let e="",i=0;const s=()=>{i>1&&(e+="{"+i+"}")};return t.forEach((n,o)=>{if(n===t[o-1]){i++;return}s(),e+=n,i=1}),s(),e},ar=t=>{let e=Array.from(t);return ri(e)},La=t=>new Set(t).size!==t.length,Et=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Pa=t=>t.reduce((e,i)=>Math.max(e,Ma(i)),0),Ma=t=>Array.from(t).length,lr=t=>{if(t.length===1)return[[t]];let e=[];const i=t.substring(1);return lr(i).forEach(function(n){let o=n.slice(0);o[0]=t.charAt(0)+o[0],e.push(o),o=n.slice(0),o.unshift(t.charAt(0)),e.push(o)}),e},xa=[[0,65535]],Na="[̀-ͯ·ʾʼ]";let Ht,cr;const Fa=3,ns={},Cs={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in Cs){let e=Cs[t]||"";for(let i=0;i<e.length;i++){let s=e.substring(i,i+1);ns[s]=t}}const Ga=new RegExp(Object.keys(ns).join("|")+"|"+Na,"gu"),Ba=t=>{Ht===void 0&&(Ht=$a(t||xa))},Ds=(t,e="NFKD")=>t.normalize(e),kt=t=>Array.from(t).reduce((e,i)=>e+za(i),""),za=t=>(t=Ds(t).toLowerCase().replace(Ga,e=>ns[e]||""),Ds(t,"NFC"));function*Va(t){for(const[e,i]of t)for(let s=e;s<=i;s++){let n=String.fromCharCode(s),o=kt(n);o!=n.toLowerCase()&&(o.length>Fa||o.length!=0&&(yield{folded:o,composed:n,code_point:s}))}}const Ua=t=>{const e={},i=(s,n)=>{const o=e[s]||new Set,r=new RegExp("^"+ar(o)+"$","iu");n.match(r)||(o.add(Et(n)),e[s]=o)};for(let s of Va(t))i(s.folded,s.folded),i(s.folded,s.composed);return e},$a=t=>{const e=Ua(t),i={};let s=[];for(let o in e){let r=e[o];r&&(i[o]=ar(r)),o.length>1&&s.push(Et(o))}s.sort((o,r)=>r.length-o.length);const n=ri(s);return cr=new RegExp("^"+n,"u"),i},Ha=(t,e=1)=>{let i=0;return t=t.map(s=>(Ht[s]&&(i+=s.length),Ht[s]||s)),i>=e?or(t):""},ka=(t,e=1)=>(e=Math.max(e,t.length-1),ri(lr(t).map(i=>Ha(i,e)))),Ls=(t,e=!0)=>{let i=t.length>1?1:0;return ri(t.map(s=>{let n=[];const o=e?s.length():s.length()-1;for(let r=0;r<o;r++)n.push(ka(s.substrs[r]||"",i));return or(n)}))},Wa=(t,e)=>{for(const i of e){if(i.start!=t.start||i.end!=t.end||i.substrs.join("")!==t.substrs.join(""))continue;let s=t.parts;const n=r=>{for(const a of s){if(a.start===r.start&&a.substr===r.substr)return!1;if(!(r.length==1||a.length==1)&&(r.start<a.start&&r.end>a.start||a.start<r.start&&a.end>r.start))return!0}return!1};if(!(i.parts.filter(n).length>0))return!0}return!1};class Wt{constructor(){Ve(this,"parts");Ve(this,"substrs");Ve(this,"start");Ve(this,"end");this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,i){let s=new Wt,n=JSON.parse(JSON.stringify(this.parts)),o=n.pop();for(const l of n)s.add(l);let r=i.substr.substring(0,e-o.start),a=r.length;return s.add({start:o.start,end:o.start+a,length:a,substr:r}),s}}const Ya=t=>{Ba(),t=kt(t);let e="",i=[new Wt];for(let s=0;s<t.length;s++){let o=t.substring(s).match(cr);const r=t.substring(s,s+1),a=o?o[0]:null;let l=[],u=new Set;for(const c of i){const d=c.last();if(!d||d.length==1||d.end<=s)if(a){const h=a.length;c.add({start:s,end:s+h,length:h,substr:a}),u.add("1")}else c.add({start:s,end:s+1,length:1,substr:r}),u.add("2");else if(a){let h=c.clone(s,d);const g=a.length;h.add({start:s,end:s+g,length:g,substr:a}),l.push(h)}else u.add("3")}if(l.length>0){l=l.sort((c,d)=>c.length()-d.length());for(let c of l)Wa(c,i)||i.push(c);continue}if(s>0&&u.size==1&&!u.has("3")){e+=Ls(i,!1);let c=new Wt;const d=i[0];d&&c.add(d.last()),i=[c]}}return e+=Ls(i,!0),e},Xa=(t,e)=>{if(t)return t[e]},qa=(t,e)=>{if(t){for(var i,s=e.split(".");(i=s.shift())&&(t=t[i]););return t}},_i=(t,e,i)=>{var s,n;return!t||(t=t+"",e.regex==null)||(n=t.search(e.regex),n===-1)?0:(s=e.string.length/t.length,n===0&&(s+=.5),s*i)},Ti=(t,e)=>{var i=t[e];if(typeof i=="function")return i;i&&!Array.isArray(i)&&(t[e]=[i])},bt=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},ja=(t,e)=>typeof t=="number"&&typeof e=="number"?t>e?1:t<e?-1:0:(t=kt(t+"").toLowerCase(),e=kt(e+"").toLowerCase(),t>e?1:e>t?-1:0);class Za{constructor(e,i){Ve(this,"items");Ve(this,"settings");this.items=e,this.settings=i||{diacritics:!0}}tokenize(e,i,s){if(!e||!e.length)return[];const n=[],o=e.split(/\s+/);var r;return s&&(r=new RegExp("^("+Object.keys(s).map(Et).join("|")+"):(.*)$")),o.forEach(a=>{let l,u=null,c=null;r&&(l=a.match(r))&&(u=l[1],a=l[2]),a.length>0&&(this.settings.diacritics?c=Ya(a)||null:c=Et(a),c&&i&&(c="\\b"+c)),n.push({string:a,regex:c?new RegExp(c,"iu"):null,field:u})}),n}getScoreFunction(e,i){var s=this.prepareSearch(e,i);return this._getScoreFunction(s)}_getScoreFunction(e){const i=e.tokens,s=i.length;if(!s)return function(){return 0};const n=e.options.fields,o=e.weights,r=n.length,a=e.getAttrFn;if(!r)return function(){return 1};const l=function(){return r===1?function(u,c){const d=n[0].field;return _i(a(c,d),u,o[d]||1)}:function(u,c){var d=0;if(u.field){const h=a(c,u.field);!u.regex&&h?d+=1/r:d+=_i(h,u,1)}else bt(o,(h,g)=>{d+=_i(a(c,g),u,h)});return d/r}}();return s===1?function(u){return l(i[0],u)}:e.options.conjunction==="and"?function(u){var c,d=0;for(let h of i){if(c=l(h,u),c<=0)return 0;d+=c}return d/s}:function(u){var c=0;return bt(i,d=>{c+=l(d,u)}),c/s}}getSortFunction(e,i){var s=this.prepareSearch(e,i);return this._getSortFunction(s)}_getSortFunction(e){var i,s=[];const n=this,o=e.options,r=!e.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof r=="function")return r.bind(this);const a=function(u,c){return u==="$score"?c.score:e.getAttrFn(n.items[c.id],u)};if(r)for(let u of r)(e.query||u.field!=="$score")&&s.push(u);if(e.query){i=!0;for(let u of s)if(u.field==="$score"){i=!1;break}i&&s.unshift({field:"$score",direction:"desc"})}else s=s.filter(u=>u.field!=="$score");return s.length?function(u,c){var d,h;for(let g of s)if(h=g.field,d=(g.direction==="desc"?-1:1)*ja(a(h,u),a(h,c)),d)return d;return 0}:null}prepareSearch(e,i){const s={};var n=Object.assign({},i);if(Ti(n,"sort"),Ti(n,"sort_empty"),n.fields){Ti(n,"fields");const o=[];n.fields.forEach(r=>{typeof r=="string"&&(r={field:r,weight:1}),o.push(r),s[r.field]="weight"in r?r.weight:1}),n.fields=o}return{options:n,query:e.toLowerCase().trim(),tokens:this.tokenize(e,n.respect_word_boundaries,s),total:0,items:[],weights:s,getAttrFn:n.nesting?qa:Xa}}search(e,i){var s=this,n,o;o=this.prepareSearch(e,i),i=o.options,e=o.query;const r=i.score||s._getScoreFunction(o);e.length?bt(s.items,(l,u)=>{n=r(l),(i.filter===!1||n>0)&&o.items.push({score:n,id:u})}):bt(s.items,(l,u)=>{o.items.push({score:1,id:u})});const a=s._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof i.limit=="number"&&(o.items=o.items.slice(0,i.limit)),o}}const Te=t=>typeof t>"u"||t===null?null:Bt(t),Bt=t=>typeof t=="boolean"?t?"1":"0":t+"",yi=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Ka=(t,e)=>e>0?window.setTimeout(t,e):(t.call(null),null),Qa=(t,e)=>{var i;return function(s,n){var o=this;i&&(o.loading=Math.max(o.loading-1,0),clearTimeout(i)),i=setTimeout(function(){i=null,o.loadedSearches[s]=!0,t.call(o,s,n)},e)}},Ps=(t,e,i)=>{var s,n=t.trigger,o={};t.trigger=function(){var r=arguments[0];if(e.indexOf(r)!==-1)o[r]=arguments;else return n.apply(t,arguments)},i.apply(t,[]),t.trigger=n;for(s of e)s in o&&n.apply(t,o[s])},Ja=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),Y=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},ne=(t,e,i,s)=>{t.addEventListener(e,i,s)},Ue=(t,e)=>{if(!e||!e[t])return!1;var i=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return i===1},vi=(t,e)=>{const i=t.getAttribute("id");return i||(t.setAttribute("id",e),e)},Ms=t=>t.replace(/[\\"']/g,"\\$&"),$e=(t,e)=>{e&&t.append(e)},ie=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},Se=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(ur(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},ur=t=>typeof t=="string"&&t.indexOf("<")>-1,el=t=>t.replace(/['"\\]/g,"\\$&"),bi=(t,e)=>{var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!1),t.dispatchEvent(i)},St=(t,e)=>{Object.assign(t.style,e)},fe=(t,...e)=>{var i=dr(e);t=fr(t),t.map(s=>{i.map(n=>{s.classList.add(n)})})},Ne=(t,...e)=>{var i=dr(e);t=fr(t),t.map(s=>{i.map(n=>{s.classList.remove(n)})})},dr=t=>{var e=[];return ie(t,i=>{typeof i=="string"&&(i=i.trim().split(/[\t\n\f\r\s]/)),Array.isArray(i)&&(e=e.concat(i))}),e.filter(Boolean)},fr=t=>(Array.isArray(t)||(t=[t]),t),Si=(t,e,i)=>{if(!(i&&!i.contains(t)))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},xs=(t,e=0)=>e>0?t[t.length-1]:t[0],tl=t=>Object.keys(t).length===0,Ns=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var i=0;t=t.previousElementSibling;)t.matches(e)&&i++;return i},W=(t,e)=>{ie(e,(i,s)=>{i==null?t.removeAttribute(s):t.setAttribute(s,""+i)})},Bi=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},il=(t,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const i=o=>{var r=o.data.match(e);if(r&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var l=o.splitText(r.index);l.splitText(r[0].length);var u=l.cloneNode(!0);return a.appendChild(u),Bi(l,a),1}return 0},s=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(r=>{n(r)})},n=o=>o.nodeType===3?i(o):(s(o),0);n(t)},sl=t=>{var e=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(i){var s=i.parentNode;s.replaceChild(i.firstChild,i),s.normalize()})},nl=65,rl=13,ol=27,al=37,ll=38,cl=39,ul=40,Fs=8,dl=46,Gs=9,fl=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),Ot=fl?"metaKey":"ctrlKey",Bs={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function zs(t,e){var i=Object.assign({},Bs,e),s=i.dataAttr,n=i.labelField,o=i.valueField,r=i.disabledField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,c=t.tagName.toLowerCase(),d=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!d&&!i.allowEmptyOption){let m=t.querySelector('option[value=""]');m&&(d=m.textContent)}var h={placeholder:d,options:[],optgroups:[],items:[],maxItems:null},g=()=>{var m,E=h.options,_={},p=1;let I=0;var y=A=>{var T=Object.assign({},A.dataset),b=s&&T[s];return typeof b=="string"&&b.length&&(T=Object.assign(T,JSON.parse(b))),T},O=(A,T)=>{var b=Te(A.value);if(b!=null&&!(!b&&!i.allowEmptyOption)){if(_.hasOwnProperty(b)){if(T){var M=_[b][a];M?Array.isArray(M)?M.push(T):_[b][a]=[M,T]:_[b][a]=T}}else{var w=y(A);w[n]=w[n]||A.textContent,w[o]=w[o]||b,w[r]=w[r]||A.disabled,w[a]=w[a]||T,w.$option=A,w.$order=w.$order||++I,_[b]=w,E.push(w)}A.selected&&h.items.push(b)}},D=A=>{var T,b;b=y(A),b[l]=b[l]||A.getAttribute("label")||"",b[u]=b[u]||p++,b[r]=b[r]||A.disabled,b.$order=b.$order||++I,h.optgroups.push(b),T=b[u],ie(A.children,M=>{O(M,T)})};h.maxItems=t.hasAttribute("multiple")?null:1,ie(t.children,A=>{m=A.tagName.toLowerCase(),m==="optgroup"?D(A):m==="option"&&O(A)})},f=()=>{const m=t.getAttribute(s);if(m)h.options=JSON.parse(m),ie(h.options,_=>{h.items.push(_[o])});else{var E=t.value.trim()||"";if(!i.allowEmptyOption&&!E.length)return;const _=E.split(i.delimiter);ie(_,p=>{const I={};I[n]=p,I[o]=p,h.options.push(I)}),h.items=_}};return c==="select"?g():f(),Object.assign({},Bs,h,e)}var Vs=0;class ae extends Da(Ca){constructor(e,i){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Vs++;var s,n=Se(e);if(n.tomselect)throw new Error("Tom Select already initialized on this element");n.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(n,null);s=o.getPropertyValue("direction");const r=zs(n,i);this.settings=r,this.input=n,this.tabIndex=n.tabIndex||0,this.is_select_tag=n.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(s),this.inputId=vi(n,"tomselect-"+Vs),this.isRequired=n.required,this.sifter=new Za(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(r.maxItems===1?"single":"multi"),typeof r.hideSelected!="boolean"&&(r.hideSelected=r.mode==="multi"),typeof r.hidePlaceholder!="boolean"&&(r.hidePlaceholder=r.mode!=="multi");var a=r.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?r.createFilter=E=>a.test(E):r.createFilter=E=>this.settings.duplicates||!this.options[E]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const l=Se("<div>"),u=Se("<div>"),c=this._render("dropdown"),d=Se('<div role="listbox" tabindex="-1">'),h=this.input.getAttribute("class")||"",g=r.mode;var f;if(fe(l,r.wrapperClass,h,g),fe(u,r.controlClass),$e(l,u),fe(c,r.dropdownClass,g),r.copyClassesToDropdown&&fe(c,h),fe(d,r.dropdownContentClass),$e(c,d),Se(r.dropdownParent||l).appendChild(c),ur(r.controlInput)){f=Se(r.controlInput);var m=["autocorrect","autocapitalize","autocomplete","spellcheck"];ie(m,E=>{n.getAttribute(E)&&W(f,{[E]:n.getAttribute(E)})}),f.tabIndex=-1,u.appendChild(f),this.focus_node=f}else r.controlInput?(f=Se(r.controlInput),this.focus_node=f):(f=Se("<input/>"),this.focus_node=u);this.wrapper=l,this.dropdown=c,this.dropdown_content=d,this.control=u,this.control_input=f,this.setup()}setup(){const e=this,i=e.settings,s=e.control_input,n=e.dropdown,o=e.dropdown_content,r=e.wrapper,a=e.control,l=e.input,u=e.focus_node,c={passive:!0},d=e.inputId+"-ts-dropdown";W(o,{id:d}),W(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":d});const h=vi(u,e.inputId+"-ts-control"),g="label[for='"+el(e.inputId)+"']",f=document.querySelector(g),m=e.focus.bind(e);if(f){ne(f,"click",m),W(f,{for:h});const p=vi(f,e.inputId+"-ts-label");W(u,{"aria-labelledby":p}),W(o,{"aria-labelledby":p})}if(r.style.width=l.style.width,e.plugins.names.length){const p="plugin-"+e.plugins.names.join(" plugin-");fe([r,n],p)}(i.maxItems===null||i.maxItems>1)&&e.is_select_tag&&W(l,{multiple:"multiple"}),i.placeholder&&W(s,{placeholder:i.placeholder}),!i.splitOn&&i.delimiter&&(i.splitOn=new RegExp("\\s*"+Et(i.delimiter)+"+\\s*")),i.load&&i.loadThrottle&&(i.load=Qa(i.load,i.loadThrottle)),ne(n,"mousemove",()=>{e.ignoreHover=!1}),ne(n,"mouseenter",p=>{var I=Si(p.target,"[data-selectable]",n);I&&e.onOptionHover(p,I)},{capture:!0}),ne(n,"click",p=>{const I=Si(p.target,"[data-selectable]");I&&(e.onOptionSelect(p,I),Y(p,!0))}),ne(a,"click",p=>{var I=Si(p.target,"[data-ts-item]",a);if(I&&e.onItemSelect(p,I)){Y(p,!0);return}s.value==""&&(e.onClick(),Y(p,!0))}),ne(u,"keydown",p=>e.onKeyDown(p)),ne(s,"keypress",p=>e.onKeyPress(p)),ne(s,"input",p=>e.onInput(p)),ne(u,"blur",p=>e.onBlur(p)),ne(u,"focus",p=>e.onFocus(p)),ne(s,"paste",p=>e.onPaste(p));const E=p=>{const I=p.composedPath()[0];if(!r.contains(I)&&!n.contains(I)){e.isFocused&&e.blur(),e.inputState();return}I==s&&e.isOpen?p.stopPropagation():Y(p,!0)},_=()=>{e.isOpen&&e.positionDropdown()};ne(document,"mousedown",E),ne(window,"scroll",_,c),ne(window,"resize",_,c),this._destroy=()=>{document.removeEventListener("mousedown",E),window.removeEventListener("scroll",_),window.removeEventListener("resize",_),f&&f.removeEventListener("click",m)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),i.items=[],delete i.optgroups,delete i.options,ne(l,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():l.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),fe(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),i.preload===!0&&e.preload()}setupOptions(e=[],i=[]){this.addOptions(e),ie(i,s=>{this.registerOptionGroup(s)})}setupTemplates(){var e=this,i=e.settings.labelField,s=e.settings.optgroupLabelField,n={optgroup:o=>{let r=document.createElement("div");return r.className="optgroup",r.appendChild(o.options),r},optgroup_header:(o,r)=>'<div class="optgroup-header">'+r(o[s])+"</div>",option:(o,r)=>"<div>"+r(o[i])+"</div>",item:(o,r)=>"<div>"+r(o[i])+"</div>",option_create:(o,r)=>'<div class="create">Add <strong>'+r(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},n,e.settings.render)}setupCallbacks(){var e,i,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in s)i=this.settings[s[e]],i&&this.on(e,i)}sync(e=!0){const i=this,s=e?zs(i.input,{delimiter:i.settings.delimiter}):i.settings;i.setupOptions(s.options,s.optgroups),i.setValue(s.items||[],!0),i.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){bi(this.input,"input"),bi(this.input,"change")}onPaste(e){var i=this;if(i.isInputHidden||i.isLocked){Y(e);return}i.settings.splitOn&&setTimeout(()=>{var s=i.inputValue();if(s.match(i.settings.splitOn)){var n=s.trim().split(i.settings.splitOn);ie(n,o=>{Te(o)&&(this.options[o]?i.addItem(o):i.createItem(o))})}},0)}onKeyPress(e){var i=this;if(i.isLocked){Y(e);return}var s=String.fromCharCode(e.keyCode||e.which);if(i.settings.create&&i.settings.mode==="multi"&&s===i.settings.delimiter){i.createItem(),Y(e);return}}onKeyDown(e){var i=this;if(i.ignoreHover=!0,i.isLocked){e.keyCode!==Gs&&Y(e);return}switch(e.keyCode){case nl:if(Ue(Ot,e)&&i.control_input.value==""){Y(e),i.selectAll();return}break;case ol:i.isOpen&&(Y(e,!0),i.close()),i.clearActiveItems();return;case ul:if(!i.isOpen&&i.hasOptions)i.open();else if(i.activeOption){let s=i.getAdjacent(i.activeOption,1);s&&i.setActiveOption(s)}Y(e);return;case ll:if(i.activeOption){let s=i.getAdjacent(i.activeOption,-1);s&&i.setActiveOption(s)}Y(e);return;case rl:i.canSelect(i.activeOption)?(i.onOptionSelect(e,i.activeOption),Y(e)):(i.settings.create&&i.createItem()||document.activeElement==i.control_input&&i.isOpen)&&Y(e);return;case al:i.advanceSelection(-1,e);return;case cl:i.advanceSelection(1,e);return;case Gs:i.settings.selectOnTab&&(i.canSelect(i.activeOption)&&(i.onOptionSelect(e,i.activeOption),Y(e)),i.settings.create&&i.createItem()&&Y(e));return;case Fs:case dl:i.deleteSelection(e);return}i.isInputHidden&&!Ue(Ot,e)&&Y(e)}onInput(e){if(this.isLocked)return;const i=this.inputValue();if(this.lastValue!==i){if(this.lastValue=i,i==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Ka(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,i){this.ignoreHover||this.setActiveOption(i,!1)}onFocus(e){var i=this,s=i.isFocused;if(i.isDisabled||i.isReadOnly){i.blur(),Y(e);return}i.ignoreFocus||(i.isFocused=!0,i.settings.preload==="focus"&&i.preload(),s||i.trigger("focus"),i.activeItems.length||(i.inputState(),i.refreshOptions(!!i.settings.openOnFocus)),i.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var i=this;if(i.isFocused){i.isFocused=!1,i.ignoreFocus=!1;var s=()=>{i.close(),i.setActiveItem(),i.setCaret(i.items.length),i.trigger("blur")};i.settings.create&&i.settings.createOnBlur?i.createItem(null,s):s()}}}onOptionSelect(e,i){var s,n=this;i.parentElement&&i.parentElement.matches("[data-disabled]")||(i.classList.contains("create")?n.createItem(null,()=>{n.settings.closeAfterSelect&&n.close()}):(s=i.dataset.value,typeof s<"u"&&(n.lastQuery=null,n.addItem(s),n.settings.closeAfterSelect&&n.close(),!n.settings.hideSelected&&e.type&&/click/.test(e.type)&&n.setActiveOption(i))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,i){var s=this;return!s.isLocked&&s.settings.mode==="multi"?(Y(e),s.setActiveItem(i,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const i=this;if(!i.canLoad(e))return;fe(i.wrapper,i.settings.loadingClass),i.loading++;const s=i.loadCallback.bind(i);i.settings.load.call(i,e,s)}loadCallback(e,i){const s=this;s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(e,i),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||Ne(s.wrapper,s.settings.loadingClass),s.trigger("load",e,i)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var i=this.control_input,s=i.value!==e;s&&(i.value=e,bi(i,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,i){var s=i?[]:["change"];Ps(this,s,()=>{this.clear(i),this.addItems(e,i)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,i){var s=this,n,o,r,a,l,u;if(s.settings.mode!=="single"){if(!e){s.clearActiveItems(),s.isFocused&&s.inputState();return}if(n=i&&i.type.toLowerCase(),n==="click"&&Ue("shiftKey",i)&&s.activeItems.length){for(u=s.getLastActive(),r=Array.prototype.indexOf.call(s.control.children,u),a=Array.prototype.indexOf.call(s.control.children,e),r>a&&(l=r,r=a,a=l),o=r;o<=a;o++)e=s.control.children[o],s.activeItems.indexOf(e)===-1&&s.setActiveItemClass(e);Y(i)}else n==="click"&&Ue(Ot,i)||n==="keydown"&&Ue("shiftKey",i)?e.classList.contains("active")?s.removeActiveItem(e):s.setActiveItemClass(e):(s.clearActiveItems(),s.setActiveItemClass(e));s.inputState(),s.isFocused||s.focus()}}setActiveItemClass(e){const i=this,s=i.control.querySelector(".last-active");s&&Ne(s,"last-active"),fe(e,"active last-active"),i.trigger("item_select",e),i.activeItems.indexOf(e)==-1&&i.activeItems.push(e)}removeActiveItem(e){var i=this.activeItems.indexOf(e);this.activeItems.splice(i,1),Ne(e,"active")}clearActiveItems(){Ne(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,i=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,W(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),W(e,{"aria-selected":"true"}),fe(e,"active"),i&&this.scrollToOption(e)))}scrollToOption(e,i){if(!e)return;const s=this.dropdown_content,n=s.clientHeight,o=s.scrollTop||0,r=e.offsetHeight,a=e.getBoundingClientRect().top-s.getBoundingClientRect().top+o;a+r>n+o?this.scroll(a-n+r,i):a<o&&this.scroll(a,i)}scroll(e,i){const s=this.dropdown_content;i&&(s.style.scrollBehavior=i),s.scrollTop=e,s.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Ne(this.activeOption,"active"),W(this.activeOption,{"aria-selected":null})),this.activeOption=null,W(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const i=e.controlChildren();i.length&&(e.inputState(),e.close(),e.activeItems=i,ie(i,s=>{e.setActiveItemClass(s)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(W(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&W(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,i=e.sortField;return typeof e.sortField=="string"&&(i=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:i,nesting:e.nesting}}search(e){var i,s,n=this,o=this.getSearchOptions();if(n.settings.score&&(s=n.settings.score.call(n,e),typeof s!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==n.lastQuery?(n.lastQuery=e,i=n.sifter.search(e,Object.assign(o,{score:s})),n.currentResults=i):i=Object.assign({},n.currentResults),n.settings.hideSelected&&(i.items=i.items.filter(r=>{let a=Te(r.id);return!(a&&n.items.indexOf(a)!==-1)})),i}refreshOptions(e=!0){var i,s,n,o,r,a,l,u,c,d;const h={},g=[];var f=this,m=f.inputValue();const E=m===f.lastQuery||m==""&&f.lastQuery==null;var _=f.search(m),p=null,I=f.settings.shouldOpen||!1,y=f.dropdown_content;E&&(p=f.activeOption,p&&(c=p.closest("[data-group]"))),o=_.items.length,typeof f.settings.maxOptions=="number"&&(o=Math.min(o,f.settings.maxOptions)),o>0&&(I=!0);const O=(A,T)=>{let b=h[A];if(b!==void 0){let w=g[b];if(w!==void 0)return[b,w.fragment]}let M=document.createDocumentFragment();return b=g.length,g.push({fragment:M,order:T,optgroup:A}),[b,M]};for(i=0;i<o;i++){let A=_.items[i];if(!A)continue;let T=A.id,b=f.options[T];if(b===void 0)continue;let M=Bt(T),w=f.getOption(M,!0);for(f.settings.hideSelected||w.classList.toggle("selected",f.items.includes(M)),r=b[f.settings.optgroupField]||"",a=Array.isArray(r)?r:[r],s=0,n=a&&a.length;s<n;s++){r=a[s];let P=b.$order,z=f.optgroups[r];z===void 0?r="":P=z.$order;const[C,V]=O(r,P);s>0&&(w=w.cloneNode(!0),W(w,{id:b.$id+"-clone-"+s,"aria-selected":null}),w.classList.add("ts-cloned"),Ne(w,"active"),f.activeOption&&f.activeOption.dataset.value==T&&c&&c.dataset.group===r.toString()&&(p=w)),V.appendChild(w),r!=""&&(h[r]=C)}}f.settings.lockOptgroupOrder&&g.sort((A,T)=>A.order-T.order),l=document.createDocumentFragment(),ie(g,A=>{let T=A.fragment,b=A.optgroup;if(!T||!T.children.length)return;let M=f.optgroups[b];if(M!==void 0){let w=document.createDocumentFragment(),P=f.render("optgroup_header",M);$e(w,P),$e(w,T);let z=f.render("optgroup",{group:M,options:w});$e(l,z)}else $e(l,T)}),y.innerHTML="",$e(y,l),f.settings.highlight&&(sl(y),_.query.length&&_.tokens.length&&ie(_.tokens,A=>{il(y,A.regex)}));var D=A=>{let T=f.render(A,{input:m});return T&&(I=!0,y.insertBefore(T,y.firstChild)),T};if(f.loading?D("loading"):f.settings.shouldLoad.call(f,m)?_.items.length===0&&D("no_results"):D("not_loading"),u=f.canCreate(m),u&&(d=D("option_create")),f.hasOptions=_.items.length>0||u,I){if(_.items.length>0){if(!p&&f.settings.mode==="single"&&f.items[0]!=null&&(p=f.getOption(f.items[0])),!y.contains(p)){let A=0;d&&!f.settings.addPrecedence&&(A=1),p=f.selectable()[A]}}else d&&(p=d);e&&!f.isOpen&&(f.open(),f.scrollToOption(p,"auto")),f.setActiveOption(p)}else f.clearActiveOption(),e&&f.isOpen&&f.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,i=!1){const s=this;if(Array.isArray(e))return s.addOptions(e,i),!1;const n=Te(e[s.settings.valueField]);return n===null||s.options.hasOwnProperty(n)?!1:(e.$order=e.$order||++s.order,e.$id=s.inputId+"-opt-"+e.$order,s.options[n]=e,s.lastQuery=null,i&&(s.userOptions[n]=i,s.trigger("option_add",n,e)),n)}addOptions(e,i=!1){ie(e,s=>{this.addOption(s,i)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var i=Te(e[this.settings.optgroupValueField]);return i===null?!1:(e.$order=e.$order||++this.order,this.optgroups[i]=e,i)}addOptionGroup(e,i){var s;i[this.settings.optgroupValueField]=e,(s=this.registerOptionGroup(i))&&this.trigger("optgroup_add",s,i)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,i){const s=this;var n,o;const r=Te(e),a=Te(i[s.settings.valueField]);if(r===null)return;const l=s.options[r];if(l==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const u=s.getOption(r),c=s.getItem(r);if(i.$order=i.$order||l.$order,delete s.options[r],s.uncacheValue(a),s.options[a]=i,u){if(s.dropdown_content.contains(u)){const d=s._render("option",i);Bi(u,d),s.activeOption===u&&s.setActiveOption(d)}u.remove()}c&&(o=s.items.indexOf(r),o!==-1&&s.items.splice(o,1,a),n=s._render("item",i),c.classList.contains("active")&&fe(n,"active"),Bi(c,n)),s.lastQuery=null}removeOption(e,i){const s=this;e=Bt(e),s.uncacheValue(e),delete s.userOptions[e],delete s.options[e],s.lastQuery=null,s.trigger("option_remove",e),s.removeItem(e,i)}clearOptions(e){const i=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const s={};ie(this.options,(n,o)=>{i(n,o)&&(s[o]=n)}),this.options=this.sifter.items=s,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,i){return this.items.indexOf(i)>=0}getOption(e,i=!1){const s=Te(e);if(s===null)return null;const n=this.options[s];if(n!=null){if(n.$div)return n.$div;if(i)return this._render("option",n)}return null}getAdjacent(e,i,s="option"){var n=this,o;if(!e)return null;s=="item"?o=n.controlChildren():o=n.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<o.length;r++)if(o[r]==e)return i>0?o[r+1]:o[r-1];return null}getItem(e){if(typeof e=="object")return e;var i=Te(e);return i!==null?this.control.querySelector(`[data-value="${Ms(i)}"]`):null}addItems(e,i){var s=this,n=Array.isArray(e)?e:[e];n=n.filter(r=>s.items.indexOf(r)===-1);const o=n[n.length-1];n.forEach(r=>{s.isPending=r!==o,s.addItem(r,i)})}addItem(e,i){var s=i?[]:["change","dropdown_close"];Ps(this,s,()=>{var n,o;const r=this,a=r.settings.mode,l=Te(e);if(!(l&&r.items.indexOf(l)!==-1&&(a==="single"&&r.close(),a==="single"||!r.settings.duplicates))&&!(l===null||!r.options.hasOwnProperty(l))&&(a==="single"&&r.clear(i),!(a==="multi"&&r.isFull()))){if(n=r._render("item",r.options[l]),r.control.contains(n)&&(n=n.cloneNode(!0)),o=r.isFull(),r.items.splice(r.caretPos,0,l),r.insertAtCaret(n),r.isSetup){if(!r.isPending&&r.settings.hideSelected){let u=r.getOption(l),c=r.getAdjacent(u,1);c&&r.setActiveOption(c)}!r.isPending&&!r.settings.closeAfterSelect&&r.refreshOptions(r.isFocused&&a!=="single"),r.settings.closeAfterSelect!=!1&&r.isFull()?r.close():r.isPending||r.positionDropdown(),r.trigger("item_add",l,n),r.isPending||r.updateOriginalInput({silent:i})}(!r.isPending||!o&&r.isFull())&&(r.inputState(),r.refreshState())}})}removeItem(e=null,i){const s=this;if(e=s.getItem(e),!e)return;var n,o;const r=e.dataset.value;n=Ns(e),e.remove(),e.classList.contains("active")&&(o=s.activeItems.indexOf(e),s.activeItems.splice(o,1),Ne(e,"active")),s.items.splice(n,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(r)&&s.removeOption(r,i),n<s.caretPos&&s.setCaret(s.caretPos-1),s.updateOriginalInput({silent:i}),s.refreshState(),s.positionDropdown(),s.trigger("item_remove",r,e)}createItem(e=null,i=()=>{}){arguments.length===3&&(i=arguments[2]),typeof i!="function"&&(i=()=>{});var s=this,n=s.caretPos,o;if(e=e||s.inputValue(),!s.canCreate(e))return i(),!1;s.lock();var r=!1,a=l=>{if(s.unlock(),!l||typeof l!="object")return i();var u=Te(l[s.settings.valueField]);if(typeof u!="string")return i();s.setTextboxValue(),s.addOption(l,!0),s.setCaret(n),s.addItem(u),i(l),r=!0};return typeof s.settings.create=="function"?o=s.settings.create.call(this,e,a):o={[s.settings.labelField]:e,[s.settings.valueField]:e},r||a(o),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const i=e.isFull(),s=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const n=e.wrapper.classList;n.toggle("focus",e.isFocused),n.toggle("disabled",e.isDisabled),n.toggle("readonly",e.isReadOnly),n.toggle("required",e.isRequired),n.toggle("invalid",!e.isValid),n.toggle("locked",s),n.toggle("full",i),n.toggle("input-active",e.isFocused&&!e.isInputHidden),n.toggle("dropdown-active",e.isOpen),n.toggle("has-options",tl(e.options)),n.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const i=this;var s,n;const o=i.input.querySelector('option[value=""]');if(i.is_select_tag){let u=function(c,d,h){return c||(c=Se('<option value="'+yi(d)+'">'+yi(h)+"</option>")),c!=o&&i.input.append(c),a.push(c),(c!=o||l>0)&&(c.selected=!0),c};var r=u;const a=[],l=i.input.querySelectorAll("option:checked").length;i.input.querySelectorAll("option:checked").forEach(c=>{c.selected=!1}),i.items.length==0&&i.settings.mode=="single"?u(o,"",""):i.items.forEach(c=>{if(s=i.options[c],n=s[i.settings.labelField]||"",a.includes(s.$option)){const d=i.input.querySelector(`option[value="${Ms(c)}"]:not(:checked)`);u(d,c,n)}else s.$option=u(s.$option,c,n)})}else i.input.value=i.getValue();i.isSetup&&(e.silent||i.trigger("change",i.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,W(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),St(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),St(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var i=this,s=i.isOpen;e&&(i.setTextboxValue(),i.settings.mode==="single"&&i.items.length&&i.inputState()),i.isOpen=!1,W(i.focus_node,{"aria-expanded":"false"}),St(i.dropdown,{display:"none"}),i.settings.hideSelected&&i.clearActiveOption(),i.refreshState(),s&&i.trigger("dropdown_close",i.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,i=e.getBoundingClientRect(),s=e.offsetHeight+i.top+window.scrollY,n=i.left+window.scrollX;St(this.dropdown,{width:i.width+"px",top:s+"px",left:n+"px"})}}clear(e){var i=this;if(i.items.length){var s=i.controlChildren();ie(s,n=>{i.removeItem(n,!0)}),i.inputState(),e||i.updateOriginalInput(),i.trigger("clear")}}insertAtCaret(e){const i=this,s=i.caretPos,n=i.control;n.insertBefore(e,n.children[s]||null),i.setCaret(s+1)}deleteSelection(e){var i,s,n,o,r=this;i=e&&e.keyCode===Fs?-1:1,s=Ja(r.control_input);const a=[];if(r.activeItems.length)o=xs(r.activeItems,i),n=Ns(o),i>0&&n++,ie(r.activeItems,l=>a.push(l));else if((r.isFocused||r.settings.mode==="single")&&r.items.length){const l=r.controlChildren();let u;i<0&&s.start===0&&s.length===0?u=l[r.caretPos-1]:i>0&&s.start===r.inputValue().length&&(u=l[r.caretPos]),u!==void 0&&a.push(u)}if(!r.shouldDelete(a,e))return!1;for(Y(e,!0),typeof n<"u"&&r.setCaret(n);a.length;)r.removeItem(a.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(e,i){const s=e.map(n=>n.dataset.value);return!(!s.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(s,i)===!1)}advanceSelection(e,i){var s,n,o=this;o.rtl&&(e*=-1),!o.inputValue().length&&(Ue(Ot,i)||Ue("shiftKey",i)?(s=o.getLastActive(e),s?s.classList.contains("active")?n=o.getAdjacent(s,e,"item"):n=s:e>0?n=o.control_input.nextElementSibling:n=o.control_input.previousElementSibling,n&&(n.classList.contains("active")&&o.removeActiveItem(s),o.setActiveItemClass(n))):o.moveCaret(e))}moveCaret(e){}getLastActive(e){let i=this.control.querySelector(".last-active");if(i)return i;var s=this.control.querySelectorAll(".active");if(s)return xs(s,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,i=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=i.innerHTML,e.input.tabIndex=i.tabIndex,Ne(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,i){var s,n;const o=this;if(typeof this.settings.render[e]!="function"||(n=o.settings.render[e].call(this,i,yi),!n))return null;if(n=Se(n),e==="option"||e==="option_create"?i[o.settings.disabledField]?W(n,{"aria-disabled":"true"}):W(n,{"data-selectable":""}):e==="optgroup"&&(s=i.group[o.settings.optgroupValueField],W(n,{"data-group":s}),i.group[o.settings.disabledField]&&W(n,{"data-disabled":""})),e==="option"||e==="item"){const r=Bt(i[o.settings.valueField]);W(n,{"data-value":r}),e==="item"?(fe(n,o.settings.itemClass),W(n,{"data-ts-item":""})):(fe(n,o.settings.optionClass),W(n,{role:"option",id:i.$id}),i.$div=n,o.options[r]=i)}return n}_render(e,i){const s=this.render(e,i);if(s==null)throw"HTMLElement expected";return s}clearCache(){ie(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const i=this.getOption(e);i&&i.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,i,s){var n=this,o=n[i];n[i]=function(){var r,a;return e==="after"&&(r=o.apply(n,arguments)),a=s.apply(n,arguments),e==="instead"?a:(e==="before"&&(r=o.apply(n,arguments)),r)}}}const hl=(t,e,i,s)=>{t.addEventListener(e,i,s)};function pl(){hl(this.input,"change",()=>{this.sync()})}const gl=t=>typeof t>"u"||t===null?null:ml(t),ml=t=>typeof t=="boolean"?t?"1":"0":t+"",Us=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},El=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Il(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},Il=t=>typeof t=="string"&&t.indexOf("<")>-1;function _l(t){var e=this,i=e.onOptionSelect;e.settings.hideSelected=!1;const s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var n=function(a,l){l?(a.checked=!0,s.uncheckedClassNames&&a.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&a.classList.add(...s.checkedClassNames)):(a.checked=!1,s.checkedClassNames&&a.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&a.classList.add(...s.uncheckedClassNames))},o=function(a){setTimeout(()=>{var l=a.querySelector("input."+s.className);l instanceof HTMLInputElement&&n(l,a.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var r=e.settings.render.option;e.settings.render.option=(a,l)=>{var u=El(r.call(e,a,l)),c=document.createElement("input");s.className&&c.classList.add(s.className),c.addEventListener("click",function(h){Us(h)}),c.type="checkbox";const d=gl(a[e.settings.valueField]);return n(c,!!(d&&e.items.indexOf(d)>-1)),u.prepend(c),u}}),e.on("item_remove",r=>{var a=e.getOption(r);a&&(a.classList.remove("selected"),o(a))}),e.on("item_add",r=>{var a=e.getOption(r);a&&o(a)}),e.hook("instead","onOptionSelect",(r,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),e.removeItem(a.dataset.value),e.refreshOptions(),Us(r,!0);return}i.call(e,r,a),o(a)})}const Tl=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(yl(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},yl=t=>typeof t=="string"&&t.indexOf("<")>-1;function vl(t){const e=this,i=Object.assign({className:"clear-button",title:"Clear All",html:s=>`<div class="${s.className}" title="${s.title}">&#10799;</div>`},t);e.on("initialize",()=>{var s=Tl(i.html(i));s.addEventListener("click",n=>{e.isLocked||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),n.preventDefault(),n.stopPropagation())}),e.control.appendChild(s)})}const bl=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Je=(t,e,i,s)=>{t.addEventListener(e,i,s)},Sl=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},Ol=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(wl(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},wl=t=>typeof t=="string"&&t.indexOf("<")>-1,Rl=(t,e)=>{Sl(e,(i,s)=>{i==null?t.removeAttribute(s):t.setAttribute(s,""+i)})},Al=(t,e)=>{var i;(i=t.parentNode)==null||i.insertBefore(e,t.nextSibling)},Cl=(t,e)=>{var i;(i=t.parentNode)==null||i.insertBefore(e,t)},Dl=(t,e)=>{do{var i;if(e=(i=e)==null?void 0:i.previousElementSibling,t==e)return!0}while(e&&e.previousElementSibling);return!1};function Ll(){var t=this;if(t.settings.mode!=="multi")return;var e=t.lock,i=t.unlock;let s=!0,n;t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(r,a)=>{const l=Ol(o.call(t,r,a));Rl(l,{draggable:"true"});const u=m=>{s||bl(m),m.stopPropagation()},c=m=>{n=l,setTimeout(()=>{l.classList.add("ts-dragging")},0)},d=m=>{m.preventDefault(),l.classList.add("ts-drag-over"),g(l,n)},h=()=>{l.classList.remove("ts-drag-over")},g=(m,E)=>{E!==void 0&&(Dl(E,l)?Al(m,E):Cl(m,E))},f=()=>{var m;document.querySelectorAll(".ts-drag-over").forEach(_=>_.classList.remove("ts-drag-over")),(m=n)==null||m.classList.remove("ts-dragging"),n=void 0;var E=[];t.control.querySelectorAll("[data-value]").forEach(_=>{if(_.dataset.value){let p=_.dataset.value;p&&E.push(p)}}),t.setValue(E)};return Je(l,"mousedown",u),Je(l,"dragstart",c),Je(l,"dragenter",d),Je(l,"dragover",d),Je(l,"dragleave",h),Je(l,"dragend",f),l}}),t.hook("instead","lock",()=>(s=!1,e.call(t))),t.hook("instead","unlock",()=>(s=!0,i.call(t)))}const Pl=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Ml=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(xl(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},xl=t=>typeof t=="string"&&t.indexOf("<")>-1;function Nl(t){const e=this,i=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:s=>'<div class="'+s.headerClass+'"><div class="'+s.titleRowClass+'"><span class="'+s.labelClass+'">'+s.title+'</span><a class="'+s.closeClass+'">&times;</a></div></div>'},t);e.on("initialize",()=>{var s=Ml(i.html(i)),n=s.querySelector("."+i.closeClass);n&&n.addEventListener("click",o=>{Pl(o,!0),e.close()}),e.dropdown.insertBefore(s,e.dropdown.firstChild)})}const Fl=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},Gl=(t,...e)=>{var i=Bl(e);t=zl(t),t.map(s=>{i.map(n=>{s.classList.remove(n)})})},Bl=t=>{var e=[];return Fl(t,i=>{typeof i=="string"&&(i=i.trim().split(/[\t\n\f\r\s]/)),Array.isArray(i)&&(e=e.concat(i))}),e.filter(Boolean)},zl=t=>(Array.isArray(t)||(t=[t]),t),Vl=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var i=0;t=t.previousElementSibling;)t.matches(e)&&i++;return i};function Ul(){var t=this;t.hook("instead","setCaret",e=>{t.settings.mode==="single"||!t.control.contains(t.control_input)?e=t.items.length:(e=Math.max(0,Math.min(t.items.length,e)),e!=t.caretPos&&!t.isPending&&t.controlChildren().forEach((i,s)=>{s<e?t.control_input.insertAdjacentElement("beforebegin",i):t.control.appendChild(i)})),t.caretPos=e}),t.hook("instead","moveCaret",e=>{if(!t.isFocused)return;const i=t.getLastActive(e);if(i){const s=Vl(i);t.setCaret(e>0?s+1:s),t.setActiveItem(),Gl(i,"last-active")}else t.setCaret(t.caretPos+e)})}const $l=27,Hl=9,kl=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Wl=(t,e,i,s)=>{t.addEventListener(e,i,s)},Yl=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},$s=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Xl(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},Xl=t=>typeof t=="string"&&t.indexOf("<")>-1,ql=(t,...e)=>{var i=jl(e);t=Zl(t),t.map(s=>{i.map(n=>{s.classList.add(n)})})},jl=t=>{var e=[];return Yl(t,i=>{typeof i=="string"&&(i=i.trim().split(/[\t\n\f\r\s]/)),Array.isArray(i)&&(e=e.concat(i))}),e.filter(Boolean)},Zl=t=>(Array.isArray(t)||(t=[t]),t);function Kl(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,ql(t.control_input,"dropdown-input");const e=$s('<div class="dropdown-input-wrap">');e.append(t.control_input),t.dropdown.insertBefore(e,t.dropdown.firstChild);const i=$s('<input class="items-placeholder" tabindex="-1" />');i.placeholder=t.settings.placeholder||"",t.control.append(i)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",i=>{switch(i.keyCode){case $l:t.isOpen&&(kl(i,!0),t.close()),t.clearActiveItems();return;case Hl:t.focus_node.tabIndex=-1;break}return t.onKeyDown.call(t,i)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});const e=t.onBlur;t.hook("instead","onBlur",i=>{if(!(i&&i.relatedTarget==t.control_input))return e.call(t)}),Wl(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}const wt=(t,e,i,s)=>{t.addEventListener(e,i,s)};function Ql(){var t=this;t.on("initialize",()=>{var e=document.createElement("span"),i=t.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(e);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of s)e.style[o]=i.style[o];var n=()=>{e.textContent=i.value,i.style.width=e.clientWidth+"px"};n(),t.on("update item_add item_remove",n),wt(i,"input",n),wt(i,"keyup",n),wt(i,"blur",n),wt(i,"update",n)})}function Jl(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",i=>t.activeItems.length?e.call(t,i):!1)}function ec(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const Hs=37,tc=39,ic=(t,e,i)=>{for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},sc=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var i=0;t=t.previousElementSibling;)t.matches(e)&&i++;return i};function nc(){var t=this,e=t.onKeyDown;t.hook("instead","onKeyDown",i=>{var s,n,o,r;if(!t.isOpen||!(i.keyCode===Hs||i.keyCode===tc))return e.call(t,i);t.ignoreHover=!0,r=ic(t.activeOption,"[data-group]"),s=sc(t.activeOption,"[data-selectable]"),r&&(i.keyCode===Hs?r=r.previousSibling:r=r.nextSibling,r&&(o=r.querySelectorAll("[data-selectable]"),n=o[Math.min(o.length-1,s)],n&&t.setActiveOption(n)))})}const rc=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),ks=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Ws=(t,e,i,s)=>{t.addEventListener(e,i,s)},Ys=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(oc(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},oc=t=>typeof t=="string"&&t.indexOf("<")>-1;function ac(t){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i=this;if(e.append){var s='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+rc(e.title)+'">'+e.label+"</a>";i.hook("after","setupTemplates",()=>{var n=i.settings.render.item;i.settings.render.item=(o,r)=>{var a=Ys(n.call(i,o,r)),l=Ys(s);return a.appendChild(l),Ws(l,"mousedown",u=>{ks(u,!0)}),Ws(l,"click",u=>{i.isLocked||(ks(u,!0),!i.isLocked&&i.shouldDelete([a],u)&&(i.removeItem(a),i.refreshOptions(!1),i.inputState()))}),a}})}}function lc(t){const e=this,i=Object.assign({text:s=>s[e.settings.labelField]},t);e.on("item_remove",function(s){if(e.isFocused&&e.control_input.value.trim()===""){var n=e.options[s];n&&e.setTextboxValue(i.text.call(e,n))}})}const cc=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},uc=(t,...e)=>{var i=dc(e);t=fc(t),t.map(s=>{i.map(n=>{s.classList.add(n)})})},dc=t=>{var e=[];return cc(t,i=>{typeof i=="string"&&(i=i.trim().split(/[\t\n\f\r\s]/)),Array.isArray(i)&&(e=e.concat(i))}),e.filter(Boolean)},fc=t=>(Array.isArray(t)||(t=[t]),t);function hc(){const t=this,e=t.canLoad,i=t.clearActiveOption,s=t.loadCallback;var n={},o,r=!1,a,l=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(t.activeOption){var h=t.selectable(),g=Array.from(h).indexOf(t.activeOption);if(g>=h.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const u=d=>typeof t.settings.maxOptions=="number"&&o.children.length>=t.settings.maxOptions?!1:!!(d in n&&n[d]),c=(d,h)=>t.items.indexOf(h)>=0||l.indexOf(h)>=0;t.setNextUrl=(d,h)=>{n[d]=h},t.getUrl=d=>{if(d in n){const h=n[d];return n[d]=!1,h}return t.clearPagination(),t.settings.firstUrl.call(t,d)},t.clearPagination=()=>{n={}},t.hook("instead","clearActiveOption",()=>{if(!r)return i.call(t)}),t.hook("instead","canLoad",d=>d in n?u(d):e.call(t,d)),t.hook("instead","loadCallback",(d,h)=>{if(!r)t.clearOptions(c);else if(a){const g=d[0];g!==void 0&&(a.dataset.value=g[t.settings.valueField])}s.call(t,d,h),r=!1}),t.hook("after","refreshOptions",()=>{const d=t.lastValue;var h;u(d)?(h=t.render("loading_more",{query:d}),h&&(h.setAttribute("data-selectable",""),a=h)):d in n&&!o.querySelector(".no-results")&&(h=t.render("no_more_results",{query:d})),h&&(uc(h,t.settings.optionClass),o.append(h))}),t.on("initialize",()=>{l=Object.keys(t.options),o=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),o.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&u(t.lastValue)&&(r||(r=!0,t.load.call(t,t.lastValue)))})})}ae.define("change_listener",pl);ae.define("checkbox_options",_l);ae.define("clear_button",vl);ae.define("drag_drop",Ll);ae.define("dropdown_header",Nl);ae.define("caret_position",Ul);ae.define("dropdown_input",Kl);ae.define("input_autogrow",Ql);ae.define("no_backspace_delete",Jl);ae.define("no_active_items",ec);ae.define("optgroup_columns",nc);ae.define("remove_button",ac);ae.define("restore_on_backspace",lc);ae.define("virtual_scroll",hc);/*!
 * FilePond 4.32.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const pc=t=>t instanceof HTMLElement,gc=(t,e=[],i=[])=>{const s={...t},n=[],o=[],r=()=>({...s}),a=()=>{const f=[...n];return n.length=0,f},l=()=>{const f=[...o];o.length=0,f.forEach(({type:m,data:E})=>{u(m,E)})},u=(f,m,E)=>{if(E&&!document.hidden){o.push({type:f,data:m});return}g[f]&&g[f](m),n.push({type:f,data:m})},c=(f,...m)=>h[f]?h[f](...m):null,d={getState:r,processActionQueue:a,processDispatchQueue:l,dispatch:u,query:c};let h={};e.forEach(f=>{h={...f(s),...h}});let g={};return i.forEach(f=>{g={...f(u,c,s),...g}}),d},mc=(t,e,i)=>{if(typeof i=="function"){t[e]=i;return}Object.defineProperty(t,e,{...i})},X=(t,e)=>{for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])},Be=t=>{const e={};return X(t,i=>{mc(e,i,t[i])}),e},ee=(t,e,i=null)=>{if(i===null)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,i)},Ec="http://www.w3.org/2000/svg",Ic=["svg","path"],Xs=t=>Ic.includes(t),Yt=(t,e,i={})=>{typeof e=="object"&&(i=e,e=null);const s=Xs(t)?document.createElementNS(Ec,t):document.createElement(t);return e&&(Xs(t)?ee(s,"class",e):s.className=e),X(i,(n,o)=>{ee(s,n,o)}),s},_c=t=>(e,i)=>{typeof i<"u"&&t.children[i]?t.insertBefore(e,t.children[i]):t.appendChild(e)},Tc=(t,e)=>(i,s)=>(typeof s<"u"?e.splice(s,0,i):e.push(i),i),yc=(t,e)=>i=>(e.splice(e.indexOf(i),1),i.element.parentNode&&t.removeChild(i.element),i),vc=(()=>typeof window<"u"&&typeof window.document<"u")(),hr=()=>vc,bc=hr()?Yt("svg"):{},Sc="children"in bc?t=>t.children.length:t=>t.childNodes.length,pr=(t,e,i,s)=>{const n=i[0]||t.left,o=i[1]||t.top,r=n+t.width,a=o+t.height*(s[1]||1),l={element:{...t},inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:n,top:o,right:r,bottom:a}};return e.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{qs(l.inner,{...u.inner}),qs(l.outer,{...u.outer})}),js(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,js(l.outer),l},qs=(t,e)=>{e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},js=t=>{t.width=t.right-t.left,t.height=t.bottom-t.top},He=t=>typeof t=="number",Oc=(t,e,i,s=.001)=>Math.abs(t-e)<s&&Math.abs(i)<s,wc=({stiffness:t=.5,damping:e=.75,mass:i=10}={})=>{let s=null,n=null,o=0,r=!1;const u=Be({interpolate:(c,d)=>{if(r)return;if(!(He(s)&&He(n))){r=!0,o=0;return}const h=-(n-s)*t;o+=h/i,n+=o,o*=e,Oc(n,s,o)||d?(n=s,o=0,r=!0,u.onupdate(n),u.oncomplete(n)):u.onupdate(n)},target:{set:c=>{if(He(c)&&!He(n)&&(n=c),s===null&&(s=c,n=c),s=c,n===s||typeof s>"u"){r=!0,o=0,u.onupdate(n),u.oncomplete(n);return}r=!1},get:()=>s},resting:{get:()=>r},onupdate:c=>{},oncomplete:c=>{}});return u},Rc=t=>t<.5?2*t*t:-1+(4-2*t)*t,Ac=({duration:t=500,easing:e=Rc,delay:i=0}={})=>{let s=null,n,o,r=!0,a=!1,l=null;const c=Be({interpolate:(d,h)=>{r||l===null||(s===null&&(s=d),!(d-s<i)&&(n=d-s-i,n>=t||h?(n=1,o=a?0:1,c.onupdate(o*l),c.oncomplete(o*l),r=!0):(o=n/t,c.onupdate((n>=0?e(a?1-o:o):0)*l))))},target:{get:()=>a?0:l,set:d=>{if(l===null){l=d,c.onupdate(d),c.oncomplete(d);return}d<l?(l=1,a=!0):(a=!1,l=d),r=!1,s=null}},resting:{get:()=>r},onupdate:d=>{},oncomplete:d=>{}});return c},Zs={spring:wc,tween:Ac},Cc=(t,e,i)=>{const s=t[e]&&typeof t[e][i]=="object"?t[e][i]:t[e]||t,n=typeof s=="string"?s:s.type,o=typeof s=="object"?{...s}:{};return Zs[n]?Zs[n](o):null},rs=(t,e,i,s=!1)=>{e=Array.isArray(e)?e:[e],e.forEach(n=>{t.forEach(o=>{let r=o,a=()=>i[o],l=u=>i[o]=u;typeof o=="object"&&(r=o.key,a=o.getter||a,l=o.setter||l),!(n[r]&&!s)&&(n[r]={get:a,set:l})})})},Dc=({mixinConfig:t,viewProps:e,viewInternalAPI:i,viewExternalAPI:s})=>{const n={...e},o=[];return X(t,(r,a)=>{const l=Cc(a);if(!l)return;l.onupdate=c=>{e[r]=c},l.target=n[r],rs([{key:r,setter:c=>{l.target!==c&&(l.target=c)},getter:()=>e[r]}],[i,s],e,!0),o.push(l)}),{write:r=>{let a=document.hidden,l=!0;return o.forEach(u=>{u.resting||(l=!1),u.interpolate(r,a)}),l},destroy:()=>{}}},Lc=t=>(e,i)=>{t.addEventListener(e,i)},Pc=t=>(e,i)=>{t.removeEventListener(e,i)},Mc=({mixinConfig:t,viewProps:e,viewInternalAPI:i,viewExternalAPI:s,viewState:n,view:o})=>{const r=[],a=Lc(o.element),l=Pc(o.element);return s.on=(u,c)=>{r.push({type:u,fn:c}),a(u,c)},s.off=(u,c)=>{r.splice(r.findIndex(d=>d.type===u&&d.fn===c),1),l(u,c)},{write:()=>!0,destroy:()=>{r.forEach(u=>{l(u.type,u.fn)})}}},xc=({mixinConfig:t,viewProps:e,viewExternalAPI:i})=>{rs(t,i,e)},re=t=>t!=null,Nc={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Fc=({mixinConfig:t,viewProps:e,viewInternalAPI:i,viewExternalAPI:s,view:n})=>{const o={...e},r={};rs(t,[i,s],e);const a=()=>[e.translateX||0,e.translateY||0],l=()=>[e.scaleX||0,e.scaleY||0],u=()=>n.rect?pr(n.rect,n.childViews,a(),l()):null;return i.rect={get:u},s.rect={get:u},t.forEach(c=>{e[c]=typeof o[c]>"u"?Nc[c]:o[c]}),{write:()=>{if(Gc(r,e))return Bc(n.element,e),Object.assign(r,{...e}),!0},destroy:()=>{}}},Gc=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in e)if(e[i]!==t[i])return!0;return!1},Bc=(t,{opacity:e,perspective:i,translateX:s,translateY:n,scaleX:o,scaleY:r,rotateX:a,rotateY:l,rotateZ:u,originX:c,originY:d,width:h,height:g})=>{let f="",m="";(re(c)||re(d))&&(m+=`transform-origin: ${c||0}px ${d||0}px;`),re(i)&&(f+=`perspective(${i}px) `),(re(s)||re(n))&&(f+=`translate3d(${s||0}px, ${n||0}px, 0) `),(re(o)||re(r))&&(f+=`scale3d(${re(o)?o:1}, ${re(r)?r:1}, 1) `),re(u)&&(f+=`rotateZ(${u}rad) `),re(a)&&(f+=`rotateX(${a}rad) `),re(l)&&(f+=`rotateY(${l}rad) `),f.length&&(m+=`transform:${f};`),re(e)&&(m+=`opacity:${e};`,e===0&&(m+="visibility:hidden;"),e<1&&(m+="pointer-events:none;")),re(g)&&(m+=`height:${g}px;`),re(h)&&(m+=`width:${h}px;`);const E=t.elementCurrentStyle||"";(m.length!==E.length||m!==E)&&(t.style.cssText=m,t.elementCurrentStyle=m)},zc={styles:Fc,listeners:Mc,animations:Dc,apis:xc},Ks=(t={},e={},i={})=>(e.layoutCalculated||(t.paddingTop=parseInt(i.paddingTop,10)||0,t.marginTop=parseInt(i.marginTop,10)||0,t.marginRight=parseInt(i.marginRight,10)||0,t.marginBottom=parseInt(i.marginBottom,10)||0,t.marginLeft=parseInt(i.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=e.offsetParent===null,t),K=({tag:t="div",name:e=null,attributes:i={},read:s=()=>{},write:n=()=>{},create:o=()=>{},destroy:r=()=>{},filterFrameActionsForChild:a=(g,f)=>f,didCreateView:l=()=>{},didWriteView:u=()=>{},ignoreRect:c=!1,ignoreRectUpdate:d=!1,mixins:h=[]}={})=>(g,f={})=>{const m=Yt(t,`filepond--${e}`,i),E=window.getComputedStyle(m,null),_=Ks();let p=null,I=!1;const y=[],O=[],D={},A={},T=[n],b=[s],M=[r],w=()=>m,P=()=>y.concat(),z=()=>D,C=U=>(se,Ce)=>se(U,Ce),V=()=>p||(p=pr(_,y,[0,0],[1,1]),p),R=()=>E,L=()=>{p=null,y.forEach(Ce=>Ce._read()),!(d&&_.width&&_.height)&&Ks(_,m,E);const se={root:_e,props:f,rect:_};b.forEach(Ce=>Ce(se))},x=(U,se,Ce)=>{let Qe=se.length===0;return T.forEach(ce=>{ce({props:f,root:_e,actions:se,timestamp:U,shouldOptimize:Ce})===!1&&(Qe=!1)}),O.forEach(ce=>{ce.write(U)===!1&&(Qe=!1)}),y.filter(ce=>!!ce.element.parentNode).forEach(ce=>{ce._write(U,a(ce,se),Ce)||(Qe=!1)}),y.forEach((ce,vt)=>{ce.element.parentNode||(_e.appendChild(ce.element,vt),ce._read(),ce._write(U,a(ce,se),Ce),Qe=!1)}),I=Qe,u({props:f,root:_e,actions:se,timestamp:U}),Qe},N=()=>{O.forEach(U=>U.destroy()),M.forEach(U=>{U({root:_e,props:f})}),y.forEach(U=>U._destroy())},H={element:{get:w},style:{get:R},childViews:{get:P}},B={...H,rect:{get:V},ref:{get:z},is:U=>e===U,appendChild:_c(m),createChildView:C(g),linkView:U=>(y.push(U),U),unlinkView:U=>{y.splice(y.indexOf(U),1)},appendChildView:Tc(m,y),removeChildView:yc(m,y),registerWriter:U=>T.push(U),registerReader:U=>b.push(U),registerDestroyer:U=>M.push(U),invalidateLayout:()=>m.layoutCalculated=!1,dispatch:g.dispatch,query:g.query},ze={element:{get:w},childViews:{get:P},rect:{get:V},resting:{get:()=>I},isRectIgnored:()=>c,_read:L,_write:x,_destroy:N},lt={...H,rect:{get:()=>_}};Object.keys(h).sort((U,se)=>U==="styles"?1:se==="styles"?-1:0).forEach(U=>{const se=zc[U]({mixinConfig:h[U],viewProps:f,viewState:A,viewInternalAPI:B,viewExternalAPI:ze,view:Be(lt)});se&&O.push(se)});const _e=Be(B);o({root:_e,props:f});const hi=Sc(m);return y.forEach((U,se)=>{_e.appendChild(U.element,hi+se)}),l(_e),Be(ze)},Vc=(t,e,i=60)=>{const s="__framePainter";if(window[s]){window[s].readers.push(t),window[s].writers.push(e);return}window[s]={readers:[t],writers:[e]};const n=window[s],o=1e3/i;let r=null,a=null,l=null,u=null;const c=()=>{document.hidden?(l=()=>window.setTimeout(()=>d(performance.now()),o),u=()=>window.clearTimeout(a)):(l=()=>window.requestAnimationFrame(d),u=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{u&&u(),c(),d(performance.now())});const d=h=>{a=l(d),r||(r=h);const g=h-r;g<=o||(r=h-g%o,n.readers.forEach(f=>f()),n.writers.forEach(f=>f(h)))};return c(),d(performance.now()),{pause:()=>{u(a)}}},le=(t,e)=>({root:i,props:s,actions:n=[],timestamp:o,shouldOptimize:r})=>{n.filter(a=>t[a.type]).forEach(a=>t[a.type]({root:i,props:s,action:a.data,timestamp:o,shouldOptimize:r})),e&&e({root:i,props:s,actions:n,timestamp:o,shouldOptimize:r})},Qs=(t,e)=>e.parentNode.insertBefore(t,e),Js=(t,e)=>e.parentNode.insertBefore(t,e.nextSibling),oi=t=>Array.isArray(t),Pe=t=>t==null,Uc=t=>t.trim(),ai=t=>""+t,$c=(t,e=",")=>Pe(t)?[]:oi(t)?t:ai(t).split(e).map(Uc).filter(i=>i.length),gr=t=>typeof t=="boolean",mr=t=>gr(t)?t:t==="true",oe=t=>typeof t=="string",Er=t=>He(t)?t:oe(t)?ai(t).replace(/[a-z]+/gi,""):0,zt=t=>parseInt(Er(t),10),en=t=>parseFloat(Er(t)),at=t=>He(t)&&isFinite(t)&&Math.floor(t)===t,tn=(t,e=1e3)=>{if(at(t))return t;let i=ai(t).trim();return/MB$/i.test(i)?(i=i.replace(/MB$i/,"").trim(),zt(i)*e*e):/KB/i.test(i)?(i=i.replace(/KB$i/,"").trim(),zt(i)*e):zt(i)},ke=t=>typeof t=="function",Hc=t=>{let e=self,i=t.split("."),s=null;for(;s=i.shift();)if(e=e[s],!e)return null;return e},sn={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},kc=t=>{const e={};return e.url=oe(t)?t:t.url||"",e.timeout=t.timeout?parseInt(t.timeout,10):0,e.headers=t.headers?t.headers:{},X(sn,i=>{e[i]=Wc(i,t[i],sn[i],e.timeout,e.headers)}),e.process=t.process||oe(t)||t.url?e.process:null,e.remove=t.remove||null,delete e.headers,e},Wc=(t,e,i,s,n)=>{if(e===null)return null;if(typeof e=="function")return e;const o={url:i==="GET"||i==="PATCH"?`?${t}=`:"",method:i,headers:n,withCredentials:!1,timeout:s,onload:null,ondata:null,onerror:null};if(oe(e))return o.url=e,o;if(Object.assign(o,e),oe(o.headers)){const r=o.headers.split(/:(.+)/);o.headers={header:r[0],value:r[1]}}return o.withCredentials=mr(o.withCredentials),o},Yc=t=>kc(t),Xc=t=>t===null,te=t=>typeof t=="object"&&t!==null,qc=t=>te(t)&&oe(t.url)&&te(t.process)&&te(t.revert)&&te(t.restore)&&te(t.fetch),zi=t=>oi(t)?"array":Xc(t)?"null":at(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":qc(t)?"api":typeof t,jc=t=>t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Zc={array:$c,boolean:mr,int:t=>zi(t)==="bytes"?tn(t):zt(t),number:en,float:en,bytes:tn,string:t=>ke(t)?t:ai(t),function:t=>Hc(t),serverapi:Yc,object:t=>{try{return JSON.parse(jc(t))}catch{return null}}},Kc=(t,e)=>Zc[e](t),Ir=(t,e,i)=>{if(t===e)return t;let s=zi(t);if(s!==i){const n=Kc(t,i);if(s=zi(n),n===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${i}"`;t=n}return t},Qc=(t,e)=>{let i=t;return{enumerable:!0,get:()=>i,set:s=>{i=Ir(s,t,e)}}},Jc=t=>{const e={};return X(t,i=>{const s=t[i];e[i]=Qc(s[0],s[1])}),Be(e)},eu=t=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Jc(t)}),li=(t,e="-")=>t.split(/(?=[A-Z])/).map(i=>i.toLowerCase()).join(e),tu=(t,e)=>{const i={};return X(e,s=>{i[s]={get:()=>t.getState().options[s],set:n=>{t.dispatch(`SET_${li(s,"_").toUpperCase()}`,{value:n})}}}),i},iu=t=>(e,i,s)=>{const n={};return X(t,o=>{const r=li(o,"_").toUpperCase();n[`SET_${r}`]=a=>{try{s.options[o]=a.value}catch{}e(`DID_SET_${r}`,{value:s.options[o]})}}),n},su=t=>e=>{const i={};return X(t,s=>{i[`GET_${li(s,"_").toUpperCase()}`]=n=>e.options[s]}),i},Ee={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},os=()=>Math.random().toString(36).substring(2,11),as=(t,e)=>t.splice(e,1),nu=(t,e)=>{e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},ci=()=>{const t=[],e=(s,n)=>{as(t,t.findIndex(o=>o.event===s&&(o.cb===n||!n)))},i=(s,n,o)=>{t.filter(r=>r.event===s).map(r=>r.cb).forEach(r=>nu(()=>r(...n),o))};return{fireSync:(s,...n)=>{i(s,n,!0)},fire:(s,...n)=>{i(s,n,!1)},on:(s,n)=>{t.push({event:s,cb:n})},onOnce:(s,n)=>{t.push({event:s,cb:(...o)=>{e(s,n),n(...o)}})},off:e}},_r=(t,e,i)=>{Object.getOwnPropertyNames(t).filter(s=>!i.includes(s)).forEach(s=>Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s)))},ru=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],ue=t=>{const e={};return _r(t,e,ru),e},ou=t=>{t.forEach((e,i)=>{e.released&&as(t,i)})},G={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},J={INPUT:1,LIMBO:2,LOCAL:3},Tr=t=>/[^0-9]+/.exec(t),yr=()=>Tr(1.1.toLocaleString())[0],au=()=>{const t=yr(),e=1e3.toLocaleString(),i=1e3.toString();return e!==i?Tr(e)[0]:t==="."?",":"."},S={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},ls=[],ye=(t,e,i)=>new Promise((s,n)=>{const o=ls.filter(a=>a.key===t).map(a=>a.cb);if(o.length===0){s(e);return}const r=o.shift();o.reduce((a,l)=>a.then(u=>l(u,i)),r(e,i)).then(a=>s(a)).catch(a=>n(a))}),Ze=(t,e,i)=>ls.filter(s=>s.key===t).map(s=>s.cb(e,i)),lu=(t,e)=>ls.push({key:t,cb:e}),cu=t=>Object.assign(et,t),Xt=()=>({...et}),uu=t=>{X(t,(e,i)=>{et[e]&&(et[e][0]=Ir(i,et[e][0],et[e][1]))})},et={id:[null,S.STRING],name:["filepond",S.STRING],disabled:[!1,S.BOOLEAN],className:[null,S.STRING],required:[!1,S.BOOLEAN],captureMethod:[null,S.STRING],allowSyncAcceptAttribute:[!0,S.BOOLEAN],allowDrop:[!0,S.BOOLEAN],allowBrowse:[!0,S.BOOLEAN],allowPaste:[!0,S.BOOLEAN],allowMultiple:[!1,S.BOOLEAN],allowReplace:[!0,S.BOOLEAN],allowRevert:[!0,S.BOOLEAN],allowRemove:[!0,S.BOOLEAN],allowProcess:[!0,S.BOOLEAN],allowReorder:[!1,S.BOOLEAN],allowDirectoriesOnly:[!1,S.BOOLEAN],storeAsFile:[!1,S.BOOLEAN],forceRevert:[!1,S.BOOLEAN],maxFiles:[null,S.INT],checkValidity:[!1,S.BOOLEAN],itemInsertLocationFreedom:[!0,S.BOOLEAN],itemInsertLocation:["before",S.STRING],itemInsertInterval:[75,S.INT],dropOnPage:[!1,S.BOOLEAN],dropOnElement:[!0,S.BOOLEAN],dropValidation:[!1,S.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],S.ARRAY],instantUpload:[!0,S.BOOLEAN],maxParallelUploads:[2,S.INT],allowMinimumUploadDuration:[!0,S.BOOLEAN],chunkUploads:[!1,S.BOOLEAN],chunkForce:[!1,S.BOOLEAN],chunkSize:[5e6,S.INT],chunkRetryDelays:[[500,1e3,3e3],S.ARRAY],server:[null,S.SERVER_API],fileSizeBase:[1e3,S.INT],labelFileSizeBytes:["bytes",S.STRING],labelFileSizeKilobytes:["KB",S.STRING],labelFileSizeMegabytes:["MB",S.STRING],labelFileSizeGigabytes:["GB",S.STRING],labelDecimalSeparator:[yr(),S.STRING],labelThousandsSeparator:[au(),S.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',S.STRING],labelInvalidField:["Field contains invalid files",S.STRING],labelFileWaitingForSize:["Waiting for size",S.STRING],labelFileSizeNotAvailable:["Size not available",S.STRING],labelFileCountSingular:["file in list",S.STRING],labelFileCountPlural:["files in list",S.STRING],labelFileLoading:["Loading",S.STRING],labelFileAdded:["Added",S.STRING],labelFileLoadError:["Error during load",S.STRING],labelFileRemoved:["Removed",S.STRING],labelFileRemoveError:["Error during remove",S.STRING],labelFileProcessing:["Uploading",S.STRING],labelFileProcessingComplete:["Upload complete",S.STRING],labelFileProcessingAborted:["Upload cancelled",S.STRING],labelFileProcessingError:["Error during upload",S.STRING],labelFileProcessingRevertError:["Error during revert",S.STRING],labelTapToCancel:["tap to cancel",S.STRING],labelTapToRetry:["tap to retry",S.STRING],labelTapToUndo:["tap to undo",S.STRING],labelButtonRemoveItem:["Remove",S.STRING],labelButtonAbortItemLoad:["Abort",S.STRING],labelButtonRetryItemLoad:["Retry",S.STRING],labelButtonAbortItemProcessing:["Cancel",S.STRING],labelButtonUndoItemProcessing:["Undo",S.STRING],labelButtonRetryItemProcessing:["Retry",S.STRING],labelButtonProcessItem:["Upload",S.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',S.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],oninit:[null,S.FUNCTION],onwarning:[null,S.FUNCTION],onerror:[null,S.FUNCTION],onactivatefile:[null,S.FUNCTION],oninitfile:[null,S.FUNCTION],onaddfilestart:[null,S.FUNCTION],onaddfileprogress:[null,S.FUNCTION],onaddfile:[null,S.FUNCTION],onprocessfilestart:[null,S.FUNCTION],onprocessfileprogress:[null,S.FUNCTION],onprocessfileabort:[null,S.FUNCTION],onprocessfilerevert:[null,S.FUNCTION],onprocessfile:[null,S.FUNCTION],onprocessfiles:[null,S.FUNCTION],onremovefile:[null,S.FUNCTION],onpreparefile:[null,S.FUNCTION],onupdatefiles:[null,S.FUNCTION],onreorderfiles:[null,S.FUNCTION],beforeDropFile:[null,S.FUNCTION],beforeAddFile:[null,S.FUNCTION],beforeRemoveFile:[null,S.FUNCTION],beforePrepareFile:[null,S.FUNCTION],stylePanelLayout:[null,S.STRING],stylePanelAspectRatio:[null,S.STRING],styleItemPanelAspectRatio:[null,S.STRING],styleButtonRemoveItemPosition:["left",S.STRING],styleButtonProcessItemPosition:["right",S.STRING],styleLoadIndicatorPosition:["right",S.STRING],styleProgressIndicatorPosition:["right",S.STRING],styleButtonRemoveItemAlign:[!1,S.BOOLEAN],files:[[],S.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],S.ARRAY]},We=(t,e)=>Pe(e)?t[0]||null:at(e)?t[e]||null:(typeof e=="object"&&(e=e.id),t.find(i=>i.id===e)||null),vr=t=>{if(Pe(t))return t;if(/:/.test(t)){const e=t.split(":");return e[1]/e[0]}return parseFloat(t)},ve=t=>t.filter(e=>!e.archived),br={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Rt=null;const du=()=>{if(Rt===null)try{const t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));const e=document.createElement("input");e.setAttribute("type","file"),e.files=t.files,Rt=e.files.length===1}catch{Rt=!1}return Rt},fu=[G.LOAD_ERROR,G.PROCESSING_ERROR,G.PROCESSING_REVERT_ERROR],hu=[G.LOADING,G.PROCESSING,G.PROCESSING_QUEUED,G.INIT],pu=[G.PROCESSING_COMPLETE],gu=t=>fu.includes(t.status),mu=t=>hu.includes(t.status),Eu=t=>pu.includes(t.status),nn=t=>te(t.options.server)&&(te(t.options.server.process)||ke(t.options.server.process)),Iu=t=>({GET_STATUS:()=>{const e=ve(t.items),{EMPTY:i,ERROR:s,BUSY:n,IDLE:o,READY:r}=br;return e.length===0?i:e.some(gu)?s:e.some(mu)?n:e.some(Eu)?r:o},GET_ITEM:e=>We(t.items,e),GET_ACTIVE_ITEM:e=>We(ve(t.items),e),GET_ACTIVE_ITEMS:()=>ve(t.items),GET_ITEMS:()=>t.items,GET_ITEM_NAME:e=>{const i=We(t.items,e);return i?i.filename:null},GET_ITEM_SIZE:e=>{const i=We(t.items,e);return i?i.fileSize:null},GET_STYLES:()=>Object.keys(t.options).filter(e=>/^style/.test(e)).map(e=>({name:e,value:t.options[e]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(t.options.stylePanelLayout)?1:vr(t.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>t.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:e=>ve(t.items).filter(i=>i.status===e),GET_TOTAL_ITEMS:()=>ve(t.items).length,SHOULD_UPDATE_FILE_INPUT:()=>t.options.storeAsFile&&du()&&!nn(t),IS_ASYNC:()=>nn(t),GET_FILE_SIZE_LABELS:e=>({labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),_u=t=>{const e=ve(t.items).length;if(!t.options.allowMultiple)return e===0;const i=t.options.maxFiles;return i===null||e<i},Sr=(t,e,i)=>Math.max(Math.min(i,t),e),Tu=(t,e,i)=>t.splice(e,0,i),yu=(t,e,i)=>Pe(e)?null:typeof i>"u"?(t.push(e),e):(i=Sr(i,0,t.length),Tu(t,i,e),e),Vi=t=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t),yt=t=>`${t}`.split("/").pop().split("?").shift(),ui=t=>t.split(".").pop(),vu=t=>{if(typeof t!="string")return"";const e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?e==="jpeg"?"jpg":e:""},ut=(t,e="")=>(e+t).slice(-e.length),Or=(t=new Date)=>`${t.getFullYear()}-${ut(t.getMonth()+1,"00")}-${ut(t.getDate(),"00")}_${ut(t.getHours(),"00")}-${ut(t.getMinutes(),"00")}-${ut(t.getSeconds(),"00")}`,rt=(t,e,i=null,s=null)=>{const n=typeof i=="string"?t.slice(0,t.size,i):t.slice(0,t.size,t.type);return n.lastModifiedDate=new Date,t._relativePath&&(n._relativePath=t._relativePath),oe(e)||(e=Or()),e&&s===null&&ui(e)?n.name=e:(s=s||vu(n.type),n.name=e+(s?"."+s:"")),n},bu=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,wr=(t,e)=>{const i=bu();if(i){const s=new i;return s.append(t),s.getBlob(e)}return new Blob([t],{type:e})},Su=(t,e)=>{const i=new ArrayBuffer(t.length),s=new Uint8Array(i);for(let n=0;n<t.length;n++)s[n]=t.charCodeAt(n);return wr(i,e)},Rr=t=>(/^data:(.+);/.exec(t)||[])[1]||null,Ou=t=>t.split(",")[1].replace(/\s/g,""),wu=t=>atob(Ou(t)),Ru=t=>{const e=Rr(t),i=wu(t);return Su(i,e)},Au=(t,e,i)=>rt(Ru(t),e,null,i),Cu=t=>{if(!/^content-disposition:/i.test(t))return null;const e=t.split(/filename=|filename\*=.+''/).splice(1).map(i=>i.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(i=>i.length);return e.length?decodeURI(e[e.length-1]):null},Du=t=>{if(/content-length:/i.test(t)){const e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},Lu=t=>/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null,cs=t=>{const e={source:null,name:null,size:null},i=t.split(`
`);for(let s of i){const n=Cu(s);if(n){e.name=n;continue}const o=Du(s);if(o){e.size=o;continue}const r=Lu(s);if(r){e.source=r;continue}}return e},Pu=t=>{const e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},i=()=>e.progress,s=()=>{e.request&&e.request.abort&&e.request.abort()},n=()=>{const a=e.source;r.fire("init",a),a instanceof File?r.fire("load",a):a instanceof Blob?r.fire("load",rt(a,a.name)):Vi(a)?r.fire("load",Au(a)):o(a)},o=a=>{if(!t){r.fire("error",{type:"error",body:"Can't load URL",code:400});return}e.timestamp=Date.now(),e.request=t(a,l=>{e.duration=Date.now()-e.timestamp,e.complete=!0,l instanceof Blob&&(l=rt(l,l.name||yt(a))),r.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{r.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,u,c)=>{if(c&&(e.size=c),e.duration=Date.now()-e.timestamp,!l){e.progress=null;return}e.progress=u/c,r.fire("progress",e.progress)},()=>{r.fire("abort")},l=>{const u=cs(typeof l=="string"?l:l.headers);r.fire("meta",{size:e.size||u.size,filename:u.name,source:u.source})})},r={...ci(),setSource:a=>e.source=a,getProgress:i,abort:s,load:n};return r},rn=t=>/GET|HEAD/.test(t),Ye=(t,e,i)=>{const s={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{n=!0,r.abort()}};let n=!1,o=!1;i={method:"POST",headers:{},withCredentials:!1,...i},e=encodeURI(e),rn(i.method)&&t&&(e=`${e}${encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))}`);const r=new XMLHttpRequest,a=rn(i.method)?r:r.upload;return a.onprogress=l=>{n||s.onprogress(l.lengthComputable,l.loaded,l.total)},r.onreadystatechange=()=>{r.readyState<2||r.readyState===4&&r.status===0||o||(o=!0,s.onheaders(r))},r.onload=()=>{r.status>=200&&r.status<300?s.onload(r):s.onerror(r)},r.onerror=()=>s.onerror(r),r.onabort=()=>{n=!0,s.onabort()},r.ontimeout=()=>s.ontimeout(r),r.open(i.method,e,!0),at(i.timeout)&&(r.timeout=i.timeout),Object.keys(i.headers).forEach(l=>{const u=unescape(encodeURIComponent(i.headers[l]));r.setRequestHeader(l,u)}),i.responseType&&(r.responseType=i.responseType),i.withCredentials&&(r.withCredentials=!0),r.send(t),s},q=(t,e,i,s)=>({type:t,code:e,body:i,headers:s}),Xe=t=>e=>{t(q("error",0,"Timeout",e.getAllResponseHeaders()))},on=t=>/\?/.test(t),pt=(...t)=>{let e="";return t.forEach(i=>{e+=on(e)&&on(i)?i.replace(/\?/,"&"):i}),e},Oi=(t="",e)=>{if(typeof e=="function")return e;if(!e||!oe(e.url))return null;const i=e.onload||(n=>n),s=e.onerror||(n=>null);return(n,o,r,a,l,u)=>{const c=Ye(n,pt(t,e.url),{...e,responseType:"blob"});return c.onload=d=>{const h=d.getAllResponseHeaders(),g=cs(h).name||yt(n);o(q("load",d.status,e.method==="HEAD"?null:rt(i(d.response),g),h))},c.onerror=d=>{r(q("error",d.status,s(d.response)||d.statusText,d.getAllResponseHeaders()))},c.onheaders=d=>{u(q("headers",d.status,null,d.getAllResponseHeaders()))},c.ontimeout=Xe(r),c.onprogress=a,c.onabort=l,c}},pe={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Mu=(t,e,i,s,n,o,r,a,l,u,c)=>{const d=[],{chunkTransferId:h,chunkServer:g,chunkSize:f,chunkRetryDelays:m}=c,E={serverId:h,aborted:!1},_=e.ondata||(C=>C),p=e.onload||((C,V)=>V==="HEAD"?C.getResponseHeader("Upload-Offset"):C.response),I=e.onerror||(C=>null),y=C=>{const V=new FormData;te(n)&&V.append(i,JSON.stringify(n));const R=typeof e.headers=="function"?e.headers(s,n):{...e.headers,"Upload-Length":s.size},L={...e,headers:R},x=Ye(_(V),pt(t,e.url),L);x.onload=N=>C(p(N,L.method)),x.onerror=N=>r(q("error",N.status,I(N.response)||N.statusText,N.getAllResponseHeaders())),x.ontimeout=Xe(r)},O=C=>{const V=pt(t,g.url,E.serverId),L={headers:typeof e.headers=="function"?e.headers(E.serverId):{...e.headers},method:"HEAD"},x=Ye(null,V,L);x.onload=N=>C(p(N,L.method)),x.onerror=N=>r(q("error",N.status,I(N.response)||N.statusText,N.getAllResponseHeaders())),x.ontimeout=Xe(r)},D=Math.floor(s.size/f);for(let C=0;C<=D;C++){const V=C*f,R=s.slice(V,V+f,"application/offset+octet-stream");d[C]={index:C,size:R.size,offset:V,data:R,file:s,progress:0,retries:[...m],status:pe.QUEUED,error:null,request:null,timeout:null}}const A=()=>o(E.serverId),T=C=>C.status===pe.QUEUED||C.status===pe.ERROR,b=C=>{if(E.aborted)return;if(C=C||d.find(T),!C){d.every(B=>B.status===pe.COMPLETE)&&A();return}C.status=pe.PROCESSING,C.progress=null;const V=g.ondata||(B=>B),R=g.onerror||(B=>null),L=g.onload||(()=>{}),x=pt(t,g.url,E.serverId),N=typeof g.headers=="function"?g.headers(C):{...g.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":C.offset,"Upload-Length":s.size,"Upload-Name":s.name},H=C.request=Ye(V(C.data),x,{...g,headers:N});H.onload=B=>{L(B,C.index,d.length),C.status=pe.COMPLETE,C.request=null,P()},H.onprogress=(B,ze,lt)=>{C.progress=B?ze:null,w()},H.onerror=B=>{C.status=pe.ERROR,C.request=null,C.error=R(B.response)||B.statusText,M(C)||r(q("error",B.status,R(B.response)||B.statusText,B.getAllResponseHeaders()))},H.ontimeout=B=>{C.status=pe.ERROR,C.request=null,M(C)||Xe(r)(B)},H.onabort=()=>{C.status=pe.QUEUED,C.request=null,l()}},M=C=>C.retries.length===0?!1:(C.status=pe.WAITING,clearTimeout(C.timeout),C.timeout=setTimeout(()=>{b(C)},C.retries.shift()),!0),w=()=>{const C=d.reduce((R,L)=>R===null||L.progress===null?null:R+L.progress,0);if(C===null)return a(!1,0,0);const V=d.reduce((R,L)=>R+L.size,0);a(!0,C,V)},P=()=>{d.filter(V=>V.status===pe.PROCESSING).length>=1||b()},z=()=>{d.forEach(C=>{clearTimeout(C.timeout),C.request&&C.request.abort()})};return E.serverId?O(C=>{E.aborted||(d.filter(V=>V.offset<C).forEach(V=>{V.status=pe.COMPLETE,V.progress=V.size}),P())}):y(C=>{E.aborted||(u(C),E.serverId=C,P())}),{abort:()=>{E.aborted=!0,z()}}},xu=(t,e,i,s)=>(n,o,r,a,l,u,c)=>{if(!n)return;const d=s.chunkUploads,h=d&&n.size>s.chunkSize,g=d&&(h||s.chunkForce);if(n instanceof Blob&&g)return Mu(t,e,i,n,o,r,a,l,u,c,s);const f=e.ondata||(O=>O),m=e.onload||(O=>O),E=e.onerror||(O=>null),_=typeof e.headers=="function"?e.headers(n,o)||{}:{...e.headers},p={...e,headers:_};var I=new FormData;te(o)&&I.append(i,JSON.stringify(o)),(n instanceof Blob?[{name:null,file:n}]:n).forEach(O=>{I.append(i,O.file,O.name===null?O.file.name:`${O.name}${O.file.name}`)});const y=Ye(f(I),pt(t,e.url),p);return y.onload=O=>{r(q("load",O.status,m(O.response),O.getAllResponseHeaders()))},y.onerror=O=>{a(q("error",O.status,E(O.response)||O.statusText,O.getAllResponseHeaders()))},y.ontimeout=Xe(a),y.onprogress=l,y.onabort=u,y},Nu=(t="",e,i,s)=>typeof e=="function"?(...n)=>e(i,...n,s):!e||!oe(e.url)?null:xu(t,e,i,s),dt=(t="",e)=>{if(typeof e=="function")return e;if(!e||!oe(e.url))return(n,o)=>o();const i=e.onload||(n=>n),s=e.onerror||(n=>null);return(n,o,r)=>{const a=Ye(n,t+e.url,e);return a.onload=l=>{o(q("load",l.status,i(l.response),l.getAllResponseHeaders()))},a.onerror=l=>{r(q("error",l.status,s(l.response)||l.statusText,l.getAllResponseHeaders()))},a.ontimeout=Xe(r),a}},Ar=(t=0,e=1)=>t+Math.random()*(e-t),Fu=(t,e=1e3,i=0,s=25,n=250)=>{let o=null;const r=Date.now(),a=()=>{let l=Date.now()-r,u=Ar(s,n);l+u>e&&(u=l+u-e);let c=l/e;if(c>=1||document.hidden){t(1);return}t(c),o=setTimeout(a,u)};return e>0&&a(),{clear:()=>{clearTimeout(o)}}},Gu=(t,e)=>{const i={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:s}=e,n=(c,d)=>{const h=()=>{i.duration===0||i.progress===null||u.fire("progress",u.getProgress())},g=()=>{i.complete=!0,u.fire("load-perceived",i.response.body)};u.fire("start"),i.timestamp=Date.now(),i.perceivedPerformanceUpdater=Fu(f=>{i.perceivedProgress=f,i.perceivedDuration=Date.now()-i.timestamp,h(),i.response&&i.perceivedProgress===1&&!i.complete&&g()},s?Ar(750,1500):0),i.request=t(c,d,f=>{i.response=te(f)?f:{type:"load",code:200,body:`${f}`,headers:{}},i.duration=Date.now()-i.timestamp,i.progress=1,u.fire("load",i.response.body),(!s||s&&i.perceivedProgress===1)&&g()},f=>{i.perceivedPerformanceUpdater.clear(),u.fire("error",te(f)?f:{type:"error",code:0,body:`${f}`})},(f,m,E)=>{i.duration=Date.now()-i.timestamp,i.progress=f?m/E:null,h()},()=>{i.perceivedPerformanceUpdater.clear(),u.fire("abort",i.response?i.response.body:null)},f=>{u.fire("transfer",f)})},o=()=>{i.request&&(i.perceivedPerformanceUpdater.clear(),i.request.abort&&i.request.abort(),i.complete=!0)},r=()=>{o(),i.complete=!1,i.perceivedProgress=0,i.progress=0,i.timestamp=null,i.perceivedDuration=0,i.duration=0,i.request=null,i.response=null},a=s?()=>i.progress?Math.min(i.progress,i.perceivedProgress):null:()=>i.progress||null,l=s?()=>Math.min(i.duration,i.perceivedDuration):()=>i.duration,u={...ci(),process:n,abort:o,getProgress:a,getDuration:l,reset:r};return u},Cr=t=>t.substring(0,t.lastIndexOf("."))||t,Bu=t=>{let e=[t.name,t.size,t.type];return t instanceof Blob||Vi(t)?e[0]=t.name||Or():Vi(t)?(e[1]=t.length,e[2]=Rr(t)):oe(t)&&(e[0]=yt(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},qe=t=>!!(t instanceof File||t instanceof Blob&&t.name),Dr=t=>{if(!te(t))return t;const e=oi(t)?[]:{};for(const i in t){if(!t.hasOwnProperty(i))continue;const s=t[i];e[i]=s&&te(s)?Dr(s):s}return e},zu=(t=null,e=null,i=null)=>{const s=os(),n={archived:!1,frozen:!1,released:!1,source:null,file:i,serverFileReference:e,transferId:null,processingAborted:!1,status:e?G.PROCESSING_COMPLETE:G.INIT,activeLoader:null,activeProcessor:null};let o=null;const r={},a=T=>n.status=T,l=(T,...b)=>{n.released||n.frozen||D.fire(T,...b)},u=()=>ui(n.file.name),c=()=>n.file.type,d=()=>n.file.size,h=()=>n.file,g=(T,b,M)=>{if(n.source=T,D.fireSync("init"),n.file){D.fireSync("load-skip");return}n.file=Bu(T),b.on("init",()=>{l("load-init")}),b.on("meta",w=>{n.file.size=w.size,n.file.filename=w.filename,w.source&&(t=J.LIMBO,n.serverFileReference=w.source,n.status=G.PROCESSING_COMPLETE),l("load-meta")}),b.on("progress",w=>{a(G.LOADING),l("load-progress",w)}),b.on("error",w=>{a(G.LOAD_ERROR),l("load-request-error",w)}),b.on("abort",()=>{a(G.INIT),l("load-abort")}),b.on("load",w=>{n.activeLoader=null;const P=C=>{n.file=qe(C)?C:n.file,t===J.LIMBO&&n.serverFileReference?a(G.PROCESSING_COMPLETE):a(G.IDLE),l("load")},z=C=>{n.file=w,l("load-meta"),a(G.LOAD_ERROR),l("load-file-error",C)};if(n.serverFileReference){P(w);return}M(w,P,z)}),b.setSource(T),n.activeLoader=b,b.load()},f=()=>{n.activeLoader&&n.activeLoader.load()},m=()=>{if(n.activeLoader){n.activeLoader.abort();return}a(G.INIT),l("load-abort")},E=(T,b)=>{if(n.processingAborted){n.processingAborted=!1;return}if(a(G.PROCESSING),o=null,!(n.file instanceof Blob)){D.on("load",()=>{E(T,b)});return}T.on("load",P=>{n.transferId=null,n.serverFileReference=P}),T.on("transfer",P=>{n.transferId=P}),T.on("load-perceived",P=>{n.activeProcessor=null,n.transferId=null,n.serverFileReference=P,a(G.PROCESSING_COMPLETE),l("process-complete",P)}),T.on("start",()=>{l("process-start")}),T.on("error",P=>{n.activeProcessor=null,a(G.PROCESSING_ERROR),l("process-error",P)}),T.on("abort",P=>{n.activeProcessor=null,n.serverFileReference=P,a(G.IDLE),l("process-abort"),o&&o()}),T.on("progress",P=>{l("process-progress",P)});const M=P=>{n.archived||T.process(P,{...r})},w=console.error;b(n.file,M,w),n.activeProcessor=T},_=()=>{n.processingAborted=!1,a(G.PROCESSING_QUEUED)},p=()=>new Promise(T=>{if(!n.activeProcessor){n.processingAborted=!0,a(G.IDLE),l("process-abort"),T();return}o=()=>{T()},n.activeProcessor.abort()}),I=(T,b)=>new Promise((M,w)=>{const P=n.serverFileReference!==null?n.serverFileReference:n.transferId;if(P===null){M();return}T(P,()=>{n.serverFileReference=null,n.transferId=null,M()},z=>{if(!b){M();return}a(G.PROCESSING_REVERT_ERROR),l("process-revert-error"),w(z)}),a(G.IDLE),l("process-revert")}),y=(T,b,M)=>{const w=T.split("."),P=w[0],z=w.pop();let C=r;w.forEach(V=>C=C[V]),JSON.stringify(C[z])!==JSON.stringify(b)&&(C[z]=b,l("metadata-update",{key:P,value:r[P],silent:M}))},D={id:{get:()=>s},origin:{get:()=>t,set:T=>t=T},serverId:{get:()=>n.serverFileReference},transferId:{get:()=>n.transferId},status:{get:()=>n.status},filename:{get:()=>n.file.name},filenameWithoutExtension:{get:()=>Cr(n.file.name)},fileExtension:{get:u},fileType:{get:c},fileSize:{get:d},file:{get:h},relativePath:{get:()=>n.file._relativePath},source:{get:()=>n.source},getMetadata:T=>Dr(T?r[T]:r),setMetadata:(T,b,M)=>{if(te(T)){const w=T;return Object.keys(w).forEach(P=>{y(P,w[P],b)}),T}return y(T,b,M),b},extend:(T,b)=>A[T]=b,abortLoad:m,retryLoad:f,requestProcessing:_,abortProcessing:p,load:g,process:E,revert:I,...ci(),freeze:()=>n.frozen=!0,release:()=>n.released=!0,released:{get:()=>n.released},archive:()=>n.archived=!0,archived:{get:()=>n.archived},setFile:T=>n.file=T},A=Be(D);return A},Vu=(t,e)=>Pe(e)?0:oe(e)?t.findIndex(i=>i.id===e):-1,an=(t,e)=>{const i=Vu(t,e);if(!(i<0))return t[i]||null},ln=(t,e,i,s,n,o)=>{const r=Ye(null,t,{method:"GET",responseType:"blob"});return r.onload=a=>{const l=a.getAllResponseHeaders(),u=cs(l).name||yt(t);e(q("load",a.status,rt(a.response,u),l))},r.onerror=a=>{i(q("error",a.status,a.statusText,a.getAllResponseHeaders()))},r.onheaders=a=>{o(q("headers",a.status,null,a.getAllResponseHeaders()))},r.ontimeout=Xe(i),r.onprogress=s,r.onabort=n,r},cn=t=>(t.indexOf("//")===0&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Uu=t=>(t.indexOf(":")>-1||t.indexOf("//")>-1)&&cn(location.href)!==cn(t),At=t=>(...e)=>ke(t)?t(...e):t,$u=t=>!qe(t.file),wi=(t,e)=>{clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout(()=>{t("DID_UPDATE_ITEMS",{items:ve(e.items)})},0)},un=(t,...e)=>new Promise(i=>{if(!t)return i(!0);const s=t(...e);if(s==null)return i(!0);if(typeof s=="boolean")return i(s);typeof s.then=="function"&&s.then(i)}),Ri=(t,e)=>{t.items.sort((i,s)=>e(ue(i),ue(s)))},ge=(t,e)=>({query:i,success:s=()=>{},failure:n=()=>{},...o}={})=>{const r=We(t.items,i);if(!r){n({error:q("error",0,"Item not found"),file:null});return}e(r,s,n,o||{})},Hu=(t,e,i)=>({ABORT_ALL:()=>{ve(i.items).forEach(s=>{s.freeze(),s.abortLoad(),s.abortProcessing()})},DID_SET_FILES:({value:s=[]})=>{const n=s.map(r=>({source:r.source?r.source:r,options:r.options}));let o=ve(i.items);o.forEach(r=>{n.find(a=>a.source===r.source||a.source===r.file)||t("REMOVE_ITEM",{query:r,remove:!1})}),o=ve(i.items),n.forEach((r,a)=>{o.find(l=>l.source===r.source||l.file===r.source)||t("ADD_ITEM",{...r,interactionMethod:Ee.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:s,action:n,change:o})=>{o.silent||(clearTimeout(i.itemUpdateTimeout),i.itemUpdateTimeout=setTimeout(()=>{const r=an(i.items,s);if(!e("IS_ASYNC")){ye("SHOULD_PREPARE_OUTPUT",!1,{item:r,query:e,action:n,change:o}).then(c=>{const d=e("GET_BEFORE_PREPARE_FILE");d&&(c=d(r,c)),c&&t("REQUEST_PREPARE_OUTPUT",{query:s,item:r,success:h=>{t("DID_PREPARE_OUTPUT",{id:s,file:h})}},!0)});return}r.origin===J.LOCAL&&t("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.source});const a=()=>{setTimeout(()=>{t("REQUEST_ITEM_PROCESSING",{query:s})},32)},l=c=>{r.revert(dt(i.options.server.url,i.options.server.revert),e("GET_FORCE_REVERT")).then(c?a:()=>{}).catch(()=>{})},u=c=>{r.abortProcessing().then(c?a:()=>{})};if(r.status===G.PROCESSING_COMPLETE)return l(i.options.instantUpload);if(r.status===G.PROCESSING)return u(i.options.instantUpload);i.options.instantUpload&&a()},0))},MOVE_ITEM:({query:s,index:n})=>{const o=We(i.items,s);if(!o)return;const r=i.items.indexOf(o);n=Sr(n,0,i.items.length-1),r!==n&&i.items.splice(n,0,i.items.splice(r,1)[0])},SORT:({compare:s})=>{Ri(i,s),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:s,index:n,interactionMethod:o,success:r=()=>{},failure:a=()=>{}})=>{let l=n;if(n===-1||typeof n>"u"){const g=e("GET_ITEM_INSERT_LOCATION"),f=e("GET_TOTAL_ITEMS");l=g==="before"?0:f}const u=e("GET_IGNORED_FILES"),c=g=>qe(g)?!u.includes(g.name.toLowerCase()):!Pe(g),h=s.filter(c).map(g=>new Promise((f,m)=>{t("ADD_ITEM",{interactionMethod:o,source:g.source||g,success:f,failure:m,index:l++,options:g.options||{}})}));Promise.all(h).then(r).catch(a)},ADD_ITEM:({source:s,index:n=-1,interactionMethod:o,success:r=()=>{},failure:a=()=>{},options:l={}})=>{if(Pe(s)){a({error:q("error",0,"No source"),file:null});return}if(qe(s)&&i.options.ignoredFiles.includes(s.name.toLowerCase()))return;if(!_u(i)){if(i.options.allowMultiple||!i.options.allowMultiple&&!i.options.allowReplace){const p=q("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:s,error:p}),a({error:p,file:null});return}const _=ve(i.items)[0];if(_.status===G.PROCESSING_COMPLETE||_.status===G.PROCESSING_REVERT_ERROR){const p=e("GET_FORCE_REVERT");if(_.revert(dt(i.options.server.url,i.options.server.revert),p).then(()=>{p&&t("ADD_ITEM",{source:s,index:n,interactionMethod:o,success:r,failure:a,options:l})}).catch(()=>{}),p)return}t("REMOVE_ITEM",{query:_.id})}const u=l.type==="local"?J.LOCAL:l.type==="limbo"?J.LIMBO:J.INPUT,c=zu(u,u===J.INPUT?null:s,l.file);Object.keys(l.metadata||{}).forEach(_=>{c.setMetadata(_,l.metadata[_])}),Ze("DID_CREATE_ITEM",c,{query:e,dispatch:t});const d=e("GET_ITEM_INSERT_LOCATION");i.options.itemInsertLocationFreedom||(n=d==="before"?-1:i.items.length),yu(i.items,c,n),ke(d)&&s&&Ri(i,d);const h=c.id;c.on("init",()=>{t("DID_INIT_ITEM",{id:h})}),c.on("load-init",()=>{t("DID_START_ITEM_LOAD",{id:h})}),c.on("load-meta",()=>{t("DID_UPDATE_ITEM_META",{id:h})}),c.on("load-progress",_=>{t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:h,progress:_})}),c.on("load-request-error",_=>{const p=At(i.options.labelFileLoadError)(_);if(_.code>=400&&_.code<500){t("DID_THROW_ITEM_INVALID",{id:h,error:_,status:{main:p,sub:`${_.code} (${_.body})`}}),a({error:_,file:ue(c)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:h,error:_,status:{main:p,sub:i.options.labelTapToRetry}})}),c.on("load-file-error",_=>{t("DID_THROW_ITEM_INVALID",{id:h,error:_.status,status:_.status}),a({error:_.status,file:ue(c)})}),c.on("load-abort",()=>{t("REMOVE_ITEM",{query:h})}),c.on("load-skip",()=>{c.on("metadata-update",_=>{qe(c.file)&&t("DID_UPDATE_ITEM_METADATA",{id:h,change:_})}),t("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:s,success:r}})}),c.on("load",()=>{const _=p=>{if(!p){t("REMOVE_ITEM",{query:h});return}c.on("metadata-update",I=>{t("DID_UPDATE_ITEM_METADATA",{id:h,change:I})}),ye("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:e}).then(I=>{const y=e("GET_BEFORE_PREPARE_FILE");y&&(I=y(c,I));const O=()=>{t("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:s,success:r}}),wi(t,i)};if(I){t("REQUEST_PREPARE_OUTPUT",{query:h,item:c,success:D=>{t("DID_PREPARE_OUTPUT",{id:h,file:D}),O()}},!0);return}O()})};ye("DID_LOAD_ITEM",c,{query:e,dispatch:t}).then(()=>{un(e("GET_BEFORE_ADD_FILE"),ue(c)).then(_)}).catch(p=>{if(!p||!p.error||!p.status)return _(!1);t("DID_THROW_ITEM_INVALID",{id:h,error:p.error,status:p.status})})}),c.on("process-start",()=>{t("DID_START_ITEM_PROCESSING",{id:h})}),c.on("process-progress",_=>{t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:h,progress:_})}),c.on("process-error",_=>{t("DID_THROW_ITEM_PROCESSING_ERROR",{id:h,error:_,status:{main:At(i.options.labelFileProcessingError)(_),sub:i.options.labelTapToRetry}})}),c.on("process-revert-error",_=>{t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:h,error:_,status:{main:At(i.options.labelFileProcessingRevertError)(_),sub:i.options.labelTapToRetry}})}),c.on("process-complete",_=>{t("DID_COMPLETE_ITEM_PROCESSING",{id:h,error:null,serverFileReference:_}),t("DID_DEFINE_VALUE",{id:h,value:_})}),c.on("process-abort",()=>{t("DID_ABORT_ITEM_PROCESSING",{id:h})}),c.on("process-revert",()=>{t("DID_REVERT_ITEM_PROCESSING",{id:h}),t("DID_DEFINE_VALUE",{id:h,value:null})}),t("DID_ADD_ITEM",{id:h,index:n,interactionMethod:o}),wi(t,i);const{url:g,load:f,restore:m,fetch:E}=i.options.server||{};c.load(s,Pu(u===J.INPUT?oe(s)&&Uu(s)&&E?Oi(g,E):ln:u===J.LIMBO?Oi(g,m):Oi(g,f)),(_,p,I)=>{ye("LOAD_FILE",_,{query:e}).then(p).catch(I)})},REQUEST_PREPARE_OUTPUT:({item:s,success:n,failure:o=()=>{}})=>{const r={error:q("error",0,"Item not found"),file:null};if(s.archived)return o(r);ye("PREPARE_OUTPUT",s.file,{query:e,item:s}).then(a=>{ye("COMPLETE_PREPARE_OUTPUT",a,{query:e,item:s}).then(l=>{if(s.archived)return o(r);n(l)})})},COMPLETE_LOAD_ITEM:({item:s,data:n})=>{const{success:o,source:r}=n,a=e("GET_ITEM_INSERT_LOCATION");if(ke(a)&&r&&Ri(i,a),t("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.origin===J.INPUT?null:r}),o(ue(s)),s.origin===J.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:s.id});return}if(s.origin===J.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:s.id,error:null,serverFileReference:r}),t("DID_DEFINE_VALUE",{id:s.id,value:s.serverId||r});return}e("IS_ASYNC")&&i.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:s.id})},RETRY_ITEM_LOAD:ge(i,s=>{s.retryLoad()}),REQUEST_ITEM_PREPARE:ge(i,(s,n,o)=>{t("REQUEST_PREPARE_OUTPUT",{query:s.id,item:s,success:r=>{t("DID_PREPARE_OUTPUT",{id:s.id,file:r}),n({file:s,output:r})},failure:o},!0)}),REQUEST_ITEM_PROCESSING:ge(i,(s,n,o)=>{if(!(s.status===G.IDLE||s.status===G.PROCESSING_ERROR)){const a=()=>t("REQUEST_ITEM_PROCESSING",{query:s,success:n,failure:o}),l=()=>document.hidden?a():setTimeout(a,32);s.status===G.PROCESSING_COMPLETE||s.status===G.PROCESSING_REVERT_ERROR?s.revert(dt(i.options.server.url,i.options.server.revert),e("GET_FORCE_REVERT")).then(l).catch(()=>{}):s.status===G.PROCESSING&&s.abortProcessing().then(l);return}s.status!==G.PROCESSING_QUEUED&&(s.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:s.id}),t("PROCESS_ITEM",{query:s,success:n,failure:o},!0))}),PROCESS_ITEM:ge(i,(s,n,o)=>{const r=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",G.PROCESSING).length===r){i.processingQueue.push({id:s.id,success:n,failure:o});return}if(s.status===G.PROCESSING)return;const l=()=>{const c=i.processingQueue.shift();if(!c)return;const{id:d,success:h,failure:g}=c,f=We(i.items,d);if(!f||f.archived){l();return}t("PROCESS_ITEM",{query:d,success:h,failure:g},!0)};s.onOnce("process-complete",()=>{n(ue(s)),l();const c=i.options.server;if(i.options.instantUpload&&s.origin===J.LOCAL&&ke(c.remove)){const g=()=>{};s.origin=J.LIMBO,i.options.server.remove(s.source,g,g)}e("GET_ITEMS_BY_STATUS",G.PROCESSING_COMPLETE).length===i.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),s.onOnce("process-error",c=>{o({error:c,file:ue(s)}),l()});const u=i.options;s.process(Gu(Nu(u.server.url,u.server.process,u.name,{chunkTransferId:s.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,d,h)=>{ye("PREPARE_OUTPUT",c,{query:e,item:s}).then(g=>{t("DID_PREPARE_OUTPUT",{id:s.id,file:g}),d(g)}).catch(h)})}),RETRY_ITEM_PROCESSING:ge(i,s=>{t("REQUEST_ITEM_PROCESSING",{query:s})}),REQUEST_REMOVE_ITEM:ge(i,s=>{un(e("GET_BEFORE_REMOVE_FILE"),ue(s)).then(n=>{n&&t("REMOVE_ITEM",{query:s})})}),RELEASE_ITEM:ge(i,s=>{s.release()}),REMOVE_ITEM:ge(i,(s,n,o,r)=>{const a=()=>{const u=s.id;an(i.items,u).archive(),t("DID_REMOVE_ITEM",{error:null,id:u,item:s}),wi(t,i),n(ue(s))},l=i.options.server;s.origin===J.LOCAL&&l&&ke(l.remove)&&r.remove!==!1?(t("DID_START_ITEM_REMOVE",{id:s.id}),l.remove(s.source,()=>a(),u=>{t("DID_THROW_ITEM_REMOVE_ERROR",{id:s.id,error:q("error",0,u,null),status:{main:At(i.options.labelFileRemoveError)(u),sub:i.options.labelTapToRetry}})})):((r.revert&&s.origin!==J.LOCAL&&s.serverId!==null||i.options.chunkUploads&&s.file.size>i.options.chunkSize||i.options.chunkUploads&&i.options.chunkForce)&&s.revert(dt(i.options.server.url,i.options.server.revert),e("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:ge(i,s=>{s.abortLoad()}),ABORT_ITEM_PROCESSING:ge(i,s=>{if(s.serverId){t("REVERT_ITEM_PROCESSING",{id:s.id});return}s.abortProcessing().then(()=>{i.options.instantUpload&&t("REMOVE_ITEM",{query:s.id})})}),REQUEST_REVERT_ITEM_PROCESSING:ge(i,s=>{if(!i.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:s});return}const n=a=>{a&&t("REVERT_ITEM_PROCESSING",{query:s})},o=e("GET_BEFORE_REMOVE_FILE");if(!o)return n(!0);const r=o(ue(s));if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),REVERT_ITEM_PROCESSING:ge(i,s=>{s.revert(dt(i.options.server.url,i.options.server.revert),e("GET_FORCE_REVERT")).then(()=>{(i.options.instantUpload||$u(s))&&t("REMOVE_ITEM",{query:s.id})}).catch(()=>{})}),SET_OPTIONS:({options:s})=>{const n=Object.keys(s),o=ku.filter(a=>n.includes(a));[...o,...Object.keys(s).filter(a=>!o.includes(a))].forEach(a=>{t(`SET_${li(a,"_").toUpperCase()}`,{value:s[a]})})}}),ku=["server"],us=t=>t,Me=t=>document.createElement(t),j=(t,e)=>{let i=t.childNodes[0];i?e!==i.nodeValue&&(i.nodeValue=e):(i=document.createTextNode(e),t.appendChild(i))},dn=(t,e,i,s)=>{const n=(s%360-90)*Math.PI/180;return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}},Wu=(t,e,i,s,n,o)=>{const r=dn(t,e,i,n),a=dn(t,e,i,s);return["M",r.x,r.y,"A",i,i,0,o,0,a.x,a.y].join(" ")},Yu=(t,e,i,s,n)=>{let o=1;return n>s&&n-s<=.5&&(o=0),s>n&&s-n>=.5&&(o=0),Wu(t,e,i,Math.min(.9999,s)*360,Math.min(.9999,n)*360,o)},Xu=({root:t,props:e})=>{e.spin=!1,e.progress=0,e.opacity=0;const i=Yt("svg");t.ref.path=Yt("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(t.ref.path),t.ref.svg=i,t.appendChild(i)},qu=({root:t,props:e})=>{if(e.opacity===0)return;e.align&&(t.element.dataset.align=e.align);const i=parseInt(ee(t.ref.path,"stroke-width"),10),s=t.rect.element.width*.5;let n=0,o=0;e.spin?(n=0,o=.5):(n=0,o=e.progress);const r=Yu(s,s,s-i,n,o);ee(t.ref.path,"d",r),ee(t.ref.path,"stroke-opacity",e.spin||e.progress>0?1:0)},fn=K({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Xu,write:qu,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),ju=({root:t,props:e})=>{t.element.innerHTML=(e.icon||"")+`<span>${e.label}</span>`,e.isDisabled=!1},Zu=({root:t,props:e})=>{const{isDisabled:i}=e,s=t.query("GET_DISABLED")||e.opacity===0;s&&!i?(e.isDisabled=!0,ee(t.element,"disabled","disabled")):!s&&i&&(e.isDisabled=!1,t.element.removeAttribute("disabled"))},Lr=K({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:ju,write:Zu}),Pr=(t,e=".",i=1e3,s={})=>{const{labelBytes:n="bytes",labelKilobytes:o="KB",labelMegabytes:r="MB",labelGigabytes:a="GB"}=s;t=Math.round(Math.abs(t));const l=i,u=i*i,c=i*i*i;return t<l?`${t} ${n}`:t<u?`${Math.floor(t/l)} ${o}`:t<c?`${hn(t/u,1,e)} ${r}`:`${hn(t/c,2,e)} ${a}`},hn=(t,e,i)=>t.toFixed(e).split(".").filter(s=>s!=="0").join(i),Ku=({root:t,props:e})=>{const i=Me("span");i.className="filepond--file-info-main",ee(i,"aria-hidden","true"),t.appendChild(i),t.ref.fileName=i;const s=Me("span");s.className="filepond--file-info-sub",t.appendChild(s),t.ref.fileSize=s,j(s,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),j(i,us(t.query("GET_ITEM_NAME",e.id)))},Ui=({root:t,props:e})=>{j(t.ref.fileSize,Pr(t.query("GET_ITEM_SIZE",e.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),j(t.ref.fileName,us(t.query("GET_ITEM_NAME",e.id)))},pn=({root:t,props:e})=>{if(at(t.query("GET_ITEM_SIZE",e.id))){Ui({root:t,props:e});return}j(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Qu=K({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:le({DID_LOAD_ITEM:Ui,DID_UPDATE_ITEM_META:Ui,DID_THROW_ITEM_LOAD_ERROR:pn,DID_THROW_ITEM_INVALID:pn}),didCreateView:t=>{Ze("CREATE_VIEW",{...t,view:t})},create:Ku,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Mr=t=>Math.round(t*100),Ju=({root:t})=>{const e=Me("span");e.className="filepond--file-status-main",t.appendChild(e),t.ref.main=e;const i=Me("span");i.className="filepond--file-status-sub",t.appendChild(i),t.ref.sub=i,xr({root:t,action:{progress:null}})},xr=({root:t,action:e})=>{const i=e.progress===null?t.query("GET_LABEL_FILE_LOADING"):`${t.query("GET_LABEL_FILE_LOADING")} ${Mr(e.progress)}%`;j(t.ref.main,i),j(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},ed=({root:t,action:e})=>{const i=e.progress===null?t.query("GET_LABEL_FILE_PROCESSING"):`${t.query("GET_LABEL_FILE_PROCESSING")} ${Mr(e.progress)}%`;j(t.ref.main,i),j(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},td=({root:t})=>{j(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),j(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},id=({root:t})=>{j(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),j(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},sd=({root:t})=>{j(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),j(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},gn=({root:t})=>{j(t.ref.main,""),j(t.ref.sub,"")},ft=({root:t,action:e})=>{j(t.ref.main,e.status.main),j(t.ref.sub,e.status.sub)},nd=K({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:le({DID_LOAD_ITEM:gn,DID_REVERT_ITEM_PROCESSING:gn,DID_REQUEST_ITEM_PROCESSING:td,DID_ABORT_ITEM_PROCESSING:id,DID_COMPLETE_ITEM_PROCESSING:sd,DID_UPDATE_ITEM_PROCESS_PROGRESS:ed,DID_UPDATE_ITEM_LOAD_PROGRESS:xr,DID_THROW_ITEM_LOAD_ERROR:ft,DID_THROW_ITEM_INVALID:ft,DID_THROW_ITEM_PROCESSING_ERROR:ft,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:ft,DID_THROW_ITEM_REMOVE_ERROR:ft}),didCreateView:t=>{Ze("CREATE_VIEW",{...t,view:t})},create:Ju,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),$i={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Hi=[];X($i,t=>{Hi.push(t)});const he=t=>{if(ki(t)==="right")return 0;const e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},rd=t=>t.ref.buttonAbortItemLoad.rect.element.width,Ct=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.height/4),od=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.left/2),ad=t=>t.query("GET_STYLE_LOAD_INDICATOR_POSITION"),ld=t=>t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),ki=t=>t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),cd={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:ad},processProgressIndicator:{opacity:0,align:ld},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},mn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:he},status:{translateX:he}},Ai={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},tt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:he},status:{translateX:he,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:he},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ki},info:{translateX:he},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ki},buttonRemoveItem:{opacity:1},info:{translateX:he},status:{opacity:1,translateX:he}},DID_LOAD_ITEM:mn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:he},status:{translateX:he}},DID_START_ITEM_PROCESSING:Ai,DID_REQUEST_ITEM_PROCESSING:Ai,DID_UPDATE_ITEM_PROCESS_PROGRESS:Ai,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:he}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:he},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:mn},ud=K({create:({root:t})=>{t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),dd=({root:t,props:e})=>{const i=Object.keys($i).reduce((f,m)=>(f[m]={...$i[m]},f),{}),{id:s}=e,n=t.query("GET_ALLOW_REVERT"),o=t.query("GET_ALLOW_REMOVE"),r=t.query("GET_ALLOW_PROCESS"),a=t.query("GET_INSTANT_UPLOAD"),l=t.query("IS_ASYNC"),u=t.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;l?r&&!n?c=f=>!/RevertItemProcessing/.test(f):!r&&n?c=f=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(f):!r&&!n&&(c=f=>!/Process/.test(f)):c=f=>!/Process/.test(f);const d=c?Hi.filter(c):Hi.concat();if(a&&n&&(i.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",i.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!n){const f=tt.DID_COMPLETE_ITEM_PROCESSING;f.info.translateX=od,f.info.translateY=Ct,f.status.translateY=Ct,f.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!r&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(f=>{tt[f].status.translateY=Ct}),tt.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=rd),u&&n){i.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const f=tt.DID_COMPLETE_ITEM_PROCESSING;f.info.translateX=he,f.status.translateY=Ct,f.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}o||(i.RemoveItem.disabled=!0),X(i,(f,m)=>{const E=t.createChildView(Lr,{label:t.query(m.label),icon:t.query(m.icon),opacity:0});d.includes(f)&&t.appendChildView(E),m.disabled&&(E.element.setAttribute("disabled","disabled"),E.element.setAttribute("hidden","hidden")),E.element.dataset.align=t.query(`GET_STYLE_${m.align}`),E.element.classList.add(m.className),E.on("click",_=>{_.stopPropagation(),!m.disabled&&t.dispatch(m.action,{query:s})}),t.ref[`button${f}`]=E}),t.ref.processingCompleteIndicator=t.appendChildView(t.createChildView(ud)),t.ref.processingCompleteIndicator.element.dataset.align=t.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),t.ref.info=t.appendChildView(t.createChildView(Qu,{id:s})),t.ref.status=t.appendChildView(t.createChildView(nd,{id:s}));const h=t.appendChildView(t.createChildView(fn,{opacity:0,align:t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),t.ref.loadProgressIndicator=h;const g=t.appendChildView(t.createChildView(fn,{opacity:0,align:t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));g.element.classList.add("filepond--process-indicator"),t.ref.processProgressIndicator=g,t.ref.activeStyles=[]},fd=({root:t,actions:e,props:i})=>{hd({root:t,actions:e,props:i});let s=e.concat().filter(n=>/^DID_/.test(n.type)).reverse().find(n=>tt[n.type]);if(s){t.ref.activeStyles=[];const n=tt[s.type];X(cd,(o,r)=>{const a=t.ref[o];X(r,(l,u)=>{const c=n[o]&&typeof n[o][l]<"u"?n[o][l]:u;t.ref.activeStyles.push({control:a,key:l,value:c})})})}t.ref.activeStyles.forEach(({control:n,key:o,value:r})=>{n[o]=typeof r=="function"?r(t):r})},hd=le({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:t,action:e})=>{t.ref.buttonAbortItemProcessing.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:t,action:e})=>{t.ref.buttonAbortItemLoad.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:t,action:e})=>{t.ref.buttonAbortItemRemoval.label=e.value},DID_REQUEST_ITEM_PROCESSING:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:t})=>{t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:t,action:e})=>{t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=e.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:t,action:e})=>{t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=e.progress}}),pd=K({create:dd,write:fd,didCreateView:t=>{Ze("CREATE_VIEW",{...t,view:t})},name:"file"}),gd=({root:t,props:e})=>{t.ref.fileName=Me("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(pd,{id:e.id})),t.ref.data=!1},md=({root:t,props:e})=>{j(t.ref.fileName,us(t.query("GET_ITEM_NAME",e.id)))},Ed=K({create:gd,ignoreRect:!0,write:le({DID_LOAD_ITEM:md}),didCreateView:t=>{Ze("CREATE_VIEW",{...t,view:t})},tag:"fieldset",name:"file-wrapper"}),En={type:"spring",damping:.6,mass:7},Id=({root:t,props:e})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:En},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:En},styles:["translateY"]}}].forEach(i=>{_d(t,i,e.name)}),t.element.classList.add(`filepond--${e.name}`),t.ref.scalable=null},_d=(t,e,i)=>{const s=K({name:`panel-${e.name} filepond--${i}`,mixins:e.mixins,ignoreRectUpdate:!0}),n=t.createChildView(s,e.props);t.ref[e.name]=t.appendChildView(n)},Td=({root:t,props:e})=>{if((t.ref.scalable===null||e.scalable!==t.ref.scalable)&&(t.ref.scalable=gr(e.scalable)?e.scalable:!0,t.element.dataset.scalable=t.ref.scalable),!e.height)return;const i=t.ref.top.rect.element,s=t.ref.bottom.rect.element,n=Math.max(i.height+s.height,e.height);t.ref.center.translateY=i.height,t.ref.center.scaleY=(n-i.height-s.height)/100,t.ref.bottom.translateY=n-s.height},Nr=K({name:"panel",read:({root:t,props:e})=>e.heightCurrent=t.ref.bottom.translateY,write:Td,create:Id,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),yd=t=>{const e=t.map(s=>s.id);let i;return{setIndex:s=>{i=s},getIndex:()=>i,getItemIndex:s=>e.indexOf(s.id)}},In={type:"spring",stiffness:.75,damping:.45,mass:10},_n="spring",Tn={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},vd=({root:t,props:e})=>{if(t.ref.handleClick=s=>t.dispatch("DID_ACTIVATE_ITEM",{id:e.id}),t.element.id=`filepond--item-${e.id}`,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(Ed,{id:e.id})),t.ref.panel=t.appendChildView(t.createChildView(Nr,{name:"item-panel"})),t.ref.panel.height=null,e.markedForRemoval=!1,!t.query("GET_ALLOW_REORDER"))return;t.element.dataset.dragState="idle";const i=s=>{if(!s.isPrimary)return;let n=!1;const o={x:s.pageX,y:s.pageY};e.dragOrigin={x:t.translateX,y:t.translateY},e.dragCenter={x:s.offsetX,y:s.offsetY};const r=yd(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:e.id,dragState:r});const a=d=>{if(!d.isPrimary)return;d.stopPropagation(),d.preventDefault(),e.dragOffset={x:d.pageX-o.x,y:d.pageY-o.y},e.dragOffset.x*e.dragOffset.x+e.dragOffset.y*e.dragOffset.y>16&&!n&&(n=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:e.id,dragState:r})},l=d=>{d.isPrimary&&(e.dragOffset={x:d.pageX-o.x,y:d.pageY-o.y},c())},u=()=>{c()},c=()=>{document.removeEventListener("pointercancel",u),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),t.dispatch("DID_DROP_ITEM",{id:e.id,dragState:r}),n&&setTimeout(()=>t.element.addEventListener("click",t.ref.handleClick),0)};document.addEventListener("pointercancel",u),document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)};t.element.addEventListener("pointerdown",i)},bd=le({DID_UPDATE_PANEL_HEIGHT:({root:t,action:e})=>{t.height=e.height}}),Sd=le({DID_GRAB_ITEM:({root:t,props:e})=>{e.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:({root:t})=>{t.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:t,props:e})=>{e.dragOffset=null,e.dragOrigin=null,t.element.dataset.dragState="drop"}},({root:t,actions:e,props:i,shouldOptimize:s})=>{t.element.dataset.dragState==="drop"&&t.scaleX<=1&&(t.element.dataset.dragState="idle");let n=e.concat().filter(r=>/^DID_/.test(r.type)).reverse().find(r=>Tn[r.type]);n&&n.type!==i.currentState&&(i.currentState=n.type,t.element.dataset.filepondItemState=Tn[i.currentState]||"");const o=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");o?s||(t.height=t.rect.element.width*o):(bd({root:t,actions:e,props:i}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),s&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),Od=K({create:vd,write:Sd,destroy:({root:t,props:e})=>{t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:e.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:_n,scaleY:_n,translateX:In,translateY:In,opacity:{type:"tween",duration:150}}}});var ds=(t,e)=>Math.max(1,Math.floor((t+1)/e));const fs=(t,e,i)=>{if(!i)return;const s=t.rect.element.width,n=e.length;let o=null;if(n===0||i.top<e[0].rect.element.top)return-1;const a=e[0].rect.element,l=a.marginLeft+a.marginRight,u=a.width+l,c=ds(s,u);if(c===1){for(let g=0;g<n;g++){const f=e[g],m=f.rect.outer.top+f.rect.element.height*.5;if(i.top<m)return g}return n}const d=a.marginTop+a.marginBottom,h=a.height+d;for(let g=0;g<n;g++){const f=g%c,m=Math.floor(g/c),E=f*u,_=m*h,p=_-a.marginTop,I=E+u,y=_+h+a.marginBottom;if(i.top<y&&i.top>p){if(i.left<I)return g;g!==n-1?o=g:o=null}}return o!==null?o:n},Dt={height:0,width:0,get getHeight(){return this.height},set setHeight(t){(this.height===0||t===0)&&(this.height=t)},get getWidth(){return this.width},set setWidth(t){(this.width===0||t===0)&&(this.width=t)},setDimensions:function(t,e){(this.height===0||t===0)&&(this.height=t),(this.width===0||e===0)&&(this.width=e)}},wd=({root:t})=>{ee(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},Rd=({root:t,action:e})=>{const{id:i,index:s,interactionMethod:n}=e;t.ref.addIndex=s;const o=Date.now();let r=o,a=1;if(n!==Ee.NONE){a=0;const l=t.query("GET_ITEM_INSERT_INTERVAL"),u=o-t.ref.lastItemSpanwDate;r=u<l?o+(l-u):o}t.ref.lastItemSpanwDate=r,t.appendChildView(t.createChildView(Od,{spawnDate:r,id:i,opacity:a,interactionMethod:n}),s)},yn=(t,e,i,s=0,n=1)=>{t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=i,Date.now()>t.spawnDate&&(t.opacity===0&&Ad(t,e,i,s,n),t.scaleX=1,t.scaleY=1,t.opacity=1))},Ad=(t,e,i,s,n)=>{t.interactionMethod===Ee.NONE?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=i):t.interactionMethod===Ee.DROP?(t.translateX=null,t.translateX=e-s*20,t.translateY=null,t.translateY=i-n*10,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===Ee.BROWSE?(t.translateY=null,t.translateY=i-30):t.interactionMethod===Ee.API&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},Cd=({root:t,action:e})=>{const{id:i}=e,s=t.childViews.find(n=>n.id===i);s&&(s.scaleX=.9,s.scaleY=.9,s.opacity=0,s.markedForRemoval=!0)},Ci=t=>t.rect.element.height+t.rect.element.marginBottom+t.rect.element.marginTop,Dd=t=>t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5,Ld=({root:t,action:e})=>{const{id:i,dragState:s}=e,n=t.query("GET_ITEM",{id:i}),o=t.childViews.find(E=>E.id===i),r=t.childViews.length,a=s.getItemIndex(n);if(!o)return;const l={x:o.dragOrigin.x+o.dragOffset.x+o.dragCenter.x,y:o.dragOrigin.y+o.dragOffset.y+o.dragCenter.y},u=Ci(o),c=Dd(o);let d=Math.floor(t.rect.outer.width/c);d>r&&(d=r);const h=Math.floor(r/d+1);Dt.setHeight=u*h,Dt.setWidth=c*d;var g={y:Math.floor(l.y/u),x:Math.floor(l.x/c),getGridIndex:function(){return l.y>Dt.getHeight||l.y<0||l.x>Dt.getWidth||l.x<0?a:this.y*d+this.x},getColIndex:function(){const _=t.query("GET_ACTIVE_ITEMS"),p=t.childViews.filter(w=>w.rect.element.height),I=_.map(w=>p.find(P=>P.id===w.id)),y=I.findIndex(w=>w===o),O=Ci(o),D=I.length;let A=D,T=0,b=0,M=0;for(let w=0;w<D;w++)if(T=Ci(I[w]),M=b,b=M+T,l.y<b){if(y>w){if(l.y<M+O){A=w;break}continue}A=w;break}return A}};const f=d>1?g.getGridIndex():g.getColIndex();t.dispatch("MOVE_ITEM",{query:o,index:f});const m=s.getIndex();if(m===void 0||m!==f){if(s.setIndex(f),m===void 0)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:a,target:f})}},Pd=le({DID_ADD_ITEM:Rd,DID_REMOVE_ITEM:Cd,DID_DRAG_ITEM:Ld}),Md=({root:t,props:e,actions:i,shouldOptimize:s})=>{Pd({root:t,props:e,actions:i});const{dragCoordinates:n}=e,o=t.rect.element.width,r=t.childViews.filter(I=>I.rect.element.height),a=t.query("GET_ACTIVE_ITEMS").map(I=>r.find(y=>y.id===I.id)).filter(I=>I),l=n?fs(t,a,n):null,u=t.ref.addIndex||null;t.ref.addIndex=null;let c=0,d=0,h=0;if(a.length===0)return;const g=a[0].rect.element,f=g.marginTop+g.marginBottom,m=g.marginLeft+g.marginRight,E=g.width+m,_=g.height+f,p=ds(o,E);if(p===1){let I=0,y=0;a.forEach((O,D)=>{if(l){let b=D-l;b===-2?y=-f*.25:b===-1?y=-f*.75:b===0?y=f*.75:b===1?y=f*.25:y=0}s&&(O.translateX=null,O.translateY=null),O.markedForRemoval||yn(O,0,I+y);let T=(O.rect.element.height+f)*(O.markedForRemoval?O.opacity:1);I+=T})}else{let I=0,y=0;a.forEach((O,D)=>{D===l&&(c=1),D===u&&(h+=1),O.markedForRemoval&&O.opacity<.5&&(d-=1);const A=D+h+c+d,T=A%p,b=Math.floor(A/p),M=T*E,w=b*_,P=Math.sign(M-I),z=Math.sign(w-y);I=M,y=w,!O.markedForRemoval&&(s&&(O.translateX=null,O.translateY=null),yn(O,M,w,P,z))})}},xd=(t,e)=>e.filter(i=>i.data&&i.data.id?t.id===i.data.id:!0),Nd=K({create:wd,write:Md,tag:"ul",name:"list",didWriteView:({root:t})=>{t.childViews.filter(e=>e.markedForRemoval&&e.opacity===0&&e.resting).forEach(e=>{e._destroy(),t.removeChildView(e)})},filterFrameActionsForChild:xd,mixins:{apis:["dragCoordinates"]}}),Fd=({root:t,props:e})=>{t.ref.list=t.appendChildView(t.createChildView(Nd)),e.dragCoordinates=null,e.overflowing=!1},Gd=({root:t,props:e,action:i})=>{t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(e.dragCoordinates={left:i.position.scopeLeft-t.ref.list.rect.element.left,top:i.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Bd=({props:t})=>{t.dragCoordinates=null},zd=le({DID_DRAG:Gd,DID_END_DRAG:Bd}),Vd=({root:t,props:e,actions:i})=>{if(zd({root:t,props:e,actions:i}),t.ref.list.dragCoordinates=e.dragCoordinates,e.overflowing&&!e.overflow&&(e.overflowing=!1,t.element.dataset.state="",t.height=null),e.overflow){const s=Math.round(e.overflow);s!==t.height&&(e.overflowing=!0,t.element.dataset.state="overflow",t.height=s)}},Ud=K({create:Fd,write:Vd,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),be=(t,e,i,s="")=>{i?ee(t,e,s):t.removeAttribute(e)},$d=t=>{if(!(!t||t.value==="")){try{t.value=""}catch{}if(t.value){const e=Me("form"),i=t.parentNode,s=t.nextSibling;e.appendChild(t),e.reset(),s?i.insertBefore(t,s):i.appendChild(t)}}},Hd=({root:t,props:e})=>{t.element.id=`filepond--browser-${e.id}`,ee(t.element,"name",t.query("GET_NAME")),ee(t.element,"aria-controls",`filepond--assistant-${e.id}`),ee(t.element,"aria-labelledby",`filepond--drop-label-${e.id}`),Fr({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Gr({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),Br({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Wi({root:t}),zr({root:t,action:{value:t.query("GET_REQUIRED")}}),Vr({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=i=>{if(!t.element.value)return;const s=Array.from(t.element.files).map(n=>(n._relativePath=n.webkitRelativePath,n));setTimeout(()=>{e.onload(s),$d(t.element)},250)},t.element.addEventListener("change",t.ref.handleChange)},Fr=({root:t,action:e})=>{t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&be(t.element,"accept",!!e.value,e.value?e.value.join(","):"")},Gr=({root:t,action:e})=>{be(t.element,"multiple",e.value)},Br=({root:t,action:e})=>{be(t.element,"webkitdirectory",e.value)},Wi=({root:t})=>{const e=t.query("GET_DISABLED"),i=t.query("GET_ALLOW_BROWSE"),s=e||!i;be(t.element,"disabled",s)},zr=({root:t,action:e})=>{e.value?t.query("GET_TOTAL_ITEMS")===0&&be(t.element,"required",!0):be(t.element,"required",!1)},Vr=({root:t,action:e})=>{be(t.element,"capture",!!e.value,e.value===!0?"":e.value)},vn=({root:t})=>{const{element:e}=t;if(t.query("GET_TOTAL_ITEMS")>0){be(e,"required",!1),be(e,"name",!1);const i=t.query("GET_ACTIVE_ITEMS");let s=!1;for(let n=0;n<i.length;n++)i[n].status===G.LOAD_ERROR&&(s=!0);t.element.setCustomValidity(s?t.query("GET_LABEL_INVALID_FIELD"):"")}else be(e,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&e.setCustomValidity(""),t.query("GET_REQUIRED")&&be(e,"required",!0)},kd=({root:t})=>{t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},Wd=K({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Hd,destroy:({root:t})=>{t.element.removeEventListener("change",t.ref.handleChange)},write:le({DID_LOAD_ITEM:vn,DID_REMOVE_ITEM:vn,DID_THROW_ITEM_INVALID:kd,DID_SET_DISABLED:Wi,DID_SET_ALLOW_BROWSE:Wi,DID_SET_ALLOW_DIRECTORIES_ONLY:Br,DID_SET_ALLOW_MULTIPLE:Gr,DID_SET_ACCEPTED_FILE_TYPES:Fr,DID_SET_CAPTURE_METHOD:Vr,DID_SET_REQUIRED:zr})}),bn={ENTER:13,SPACE:32},Yd=({root:t,props:e})=>{const i=Me("label");ee(i,"for",`filepond--browser-${e.id}`),ee(i,"id",`filepond--drop-label-${e.id}`),t.ref.handleKeyDown=s=>{(s.keyCode===bn.ENTER||s.keyCode===bn.SPACE)&&(s.preventDefault(),t.ref.label.click())},t.ref.handleClick=s=>{s.target===i||i.contains(s.target)||t.ref.label.click()},i.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Ur(i,e.caption),t.appendChild(i),t.ref.label=i},Ur=(t,e)=>{t.innerHTML=e;const i=t.querySelector(".filepond--label-action");return i&&ee(i,"tabindex","0"),e},Xd=K({name:"drop-label",ignoreRect:!0,create:Yd,destroy:({root:t})=>{t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:le({DID_SET_LABEL_IDLE:({root:t,action:e})=>{Ur(t.ref.label,e.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),qd=K({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),jd=({root:t})=>{const e=t.rect.element.width*.5,i=t.rect.element.height*.5;t.ref.blob=t.appendChildView(t.createChildView(qd,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:e,translateY:i}))},Zd=({root:t,action:e})=>{if(!t.ref.blob){jd({root:t});return}t.ref.blob.translateX=e.position.scopeLeft,t.ref.blob.translateY=e.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1},Kd=({root:t})=>{t.ref.blob&&(t.ref.blob.opacity=0)},Qd=({root:t})=>{t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},Jd=({root:t,props:e,actions:i})=>{ef({root:t,props:e,actions:i});const{blob:s}=t.ref;i.length===0&&s&&s.opacity===0&&(t.removeChildView(s),t.ref.blob=null)},ef=le({DID_DRAG:Zd,DID_DROP:Qd,DID_END_DRAG:Kd}),tf=K({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Jd}),$r=(t,e)=>{try{const i=new DataTransfer;e.forEach(s=>{s instanceof File?i.items.add(s):i.items.add(new File([s],s.name,{type:s.type}))}),t.files=i.files}catch{return!1}return!0},sf=({root:t})=>{t.ref.fields={};const e=document.createElement("legend");e.textContent="Files",t.element.appendChild(e)},di=(t,e)=>t.ref.fields[e],hs=t=>{t.query("GET_ACTIVE_ITEMS").forEach(e=>{t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])})},Sn=({root:t})=>hs(t),nf=({root:t,action:e})=>{const n=!(t.query("GET_ITEM",e.id).origin===J.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),o=Me("input");o.type=n?"file":"hidden",o.name=t.query("GET_NAME"),t.ref.fields[e.id]=o,hs(t)},rf=({root:t,action:e})=>{const i=di(t,e.id);if(!i||(e.serverFileReference!==null&&(i.value=e.serverFileReference),!t.query("SHOULD_UPDATE_FILE_INPUT")))return;const s=t.query("GET_ITEM",e.id);$r(i,[s.file])},of=({root:t,action:e})=>{t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const i=di(t,e.id);i&&$r(i,[e.file])},0)},af=({root:t})=>{t.element.disabled=t.query("GET_DISABLED")},lf=({root:t,action:e})=>{const i=di(t,e.id);i&&(i.parentNode&&i.parentNode.removeChild(i),delete t.ref.fields[e.id])},cf=({root:t,action:e})=>{const i=di(t,e.id);i&&(e.value===null?i.removeAttribute("value"):i.type!="file"&&(i.value=e.value),hs(t))},uf=le({DID_SET_DISABLED:af,DID_ADD_ITEM:nf,DID_LOAD_ITEM:rf,DID_REMOVE_ITEM:lf,DID_DEFINE_VALUE:cf,DID_PREPARE_OUTPUT:of,DID_REORDER_ITEMS:Sn,DID_SORT_ITEMS:Sn}),df=K({tag:"fieldset",name:"data",create:sf,write:uf,ignoreRect:!0}),ff=t=>"getRootNode"in t?t.getRootNode():document,hf=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],pf=["css","csv","html","txt"],gf={zip:"zip|compressed",epub:"application/epub+zip"},Hr=(t="")=>(t=t.toLowerCase(),hf.includes(t)?"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t):pf.includes(t)?"text/"+t:gf[t]||""),ps=t=>new Promise((e,i)=>{const s=bf(t);if(s.length&&!mf(t))return e(s);Ef(t).then(e)}),mf=t=>t.files?t.files.length>0:!1,Ef=t=>new Promise((e,i)=>{const s=(t.items?Array.from(t.items):[]).filter(n=>If(n)).map(n=>_f(n));if(!s.length){e(t.files?Array.from(t.files):[]);return}Promise.all(s).then(n=>{const o=[];n.forEach(r=>{o.push.apply(o,r)}),e(o.filter(r=>r).map(r=>(r._relativePath||(r._relativePath=r.webkitRelativePath),r)))}).catch(console.error)}),If=t=>{if(kr(t)){const e=gs(t);if(e)return e.isFile||e.isDirectory}return t.kind==="file"},_f=t=>new Promise((e,i)=>{if(vf(t)){Tf(gs(t)).then(e).catch(i);return}e([t.getAsFile()])}),Tf=t=>new Promise((e,i)=>{const s=[];let n=0,o=0;const r=()=>{o===0&&n===0&&e(s)},a=l=>{n++;const u=l.createReader(),c=()=>{u.readEntries(d=>{if(d.length===0){n--,r();return}d.forEach(h=>{h.isDirectory?a(h):(o++,h.file(g=>{const f=yf(g);h.fullPath&&(f._relativePath=h.fullPath),s.push(f),o--,r()}))}),c()},i)};c()};a(t)}),yf=t=>{if(t.type.length)return t;const e=t.lastModifiedDate,i=t.name,s=Hr(ui(t.name));return s.length&&(t=t.slice(0,t.size,s),t.name=i,t.lastModifiedDate=e),t},vf=t=>kr(t)&&(gs(t)||{}).isDirectory,kr=t=>"webkitGetAsEntry"in t,gs=t=>t.webkitGetAsEntry(),bf=t=>{let e=[];try{if(e=Of(t),e.length)return e;e=Sf(t)}catch{}return e},Sf=t=>{let e=t.getData("url");return typeof e=="string"&&e.length?[e]:[]},Of=t=>{let e=t.getData("text/html");if(typeof e=="string"&&e.length){const i=e.match(/src\s*=\s*"(.+?)"/);if(i)return[i[1]]}return[]},qt=[],je=t=>({pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}),wf=(t,e,i)=>{const s=Rf(e),n={element:t,filterElement:i,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return n.destroy=s.addListener(n),n},Rf=t=>{const e=qt.find(s=>s.element===t);if(e)return e;const i=Af(t);return qt.push(i),i},Af=t=>{const e=[],i={dragenter:Df,dragover:Lf,dragleave:Mf,drop:Pf},s={};X(i,(o,r)=>{s[o]=r(t,e),t.addEventListener(o,s[o],!1)});const n={element:t,addListener:o=>(e.push(o),()=>{e.splice(e.indexOf(o),1),e.length===0&&(qt.splice(qt.indexOf(n),1),X(i,r=>{t.removeEventListener(r,s[r],!1)}))})};return n},Cf=(t,e)=>("elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)),ms=(t,e)=>{const i=ff(e),s=Cf(i,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return s===e||e.contains(s)};let Wr=null;const Lt=(t,e)=>{try{t.dropEffect=e}catch{}},Df=(t,e)=>i=>{i.preventDefault(),Wr=i.target,e.forEach(s=>{const{element:n,onenter:o}=s;ms(i,n)&&(s.state="enter",o(je(i)))})},Lf=(t,e)=>i=>{i.preventDefault();const s=i.dataTransfer;ps(s).then(n=>{let o=!1;e.some(r=>{const{filterElement:a,element:l,onenter:u,onexit:c,ondrag:d,allowdrop:h}=r;Lt(s,"copy");const g=h(n);if(!g){Lt(s,"none");return}if(ms(i,l)){if(o=!0,r.state===null){r.state="enter",u(je(i));return}if(r.state="over",a&&!g){Lt(s,"none");return}d(je(i))}else a&&!o&&Lt(s,"none"),r.state&&(r.state=null,c(je(i)))})})},Pf=(t,e)=>i=>{i.preventDefault();const s=i.dataTransfer;ps(s).then(n=>{e.forEach(o=>{const{filterElement:r,element:a,ondrop:l,onexit:u,allowdrop:c}=o;if(o.state=null,!(r&&!ms(i,a))){if(!c(n))return u(je(i));l(je(i),n)}})})},Mf=(t,e)=>i=>{Wr===i.target&&e.forEach(s=>{const{onexit:n}=s;s.state=null,n(je(i))})},xf=(t,e,i)=>{t.classList.add("filepond--hopper");const{catchesDropsOnPage:s,requiresDropOnElement:n,filterItems:o=c=>c}=i,r=wf(t,s?document.documentElement:t,n);let a="",l="";r.allowdrop=c=>e(o(c)),r.ondrop=(c,d)=>{const h=o(d);if(!e(h)){u.ondragend(c);return}l="drag-drop",u.onload(h,c)},r.ondrag=c=>{u.ondrag(c)},r.onenter=c=>{l="drag-over",u.ondragstart(c)},r.onexit=c=>{l="drag-exit",u.ondragend(c)};const u={updateHopperState:()=>{a!==l&&(t.dataset.hopperState=l,a=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{r.destroy()}};return u};let Yi=!1;const st=[],Yr=t=>{const e=document.activeElement;if(e&&(/textarea|input/i.test(e.nodeName)||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")==="")){let s=!1,n=e;for(;n!==document.body;){if(n.classList.contains("filepond--root")){s=!0;break}n=n.parentNode}if(!s)return}ps(t.clipboardData).then(s=>{s.length&&st.forEach(n=>n(s))})},Nf=t=>{st.includes(t)||(st.push(t),!Yi&&(Yi=!0,document.addEventListener("paste",Yr)))},Ff=t=>{as(st,st.indexOf(t)),st.length===0&&(document.removeEventListener("paste",Yr),Yi=!1)},Gf=()=>{const t=i=>{e.onload(i)},e={destroy:()=>{Ff(t)},onload:()=>{}};return Nf(t),e},Bf=({root:t,props:e})=>{t.element.id=`filepond--assistant-${e.id}`,ee(t.element,"role","alert"),ee(t.element,"aria-live","polite"),ee(t.element,"aria-relevant","additions")};let On=null,wn=null;const Di=[],fi=(t,e)=>{t.element.textContent=e},zf=t=>{t.element.textContent=""},Xr=(t,e,i)=>{const s=t.query("GET_TOTAL_ITEMS");fi(t,`${i} ${e}, ${s} ${s===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(wn),wn=setTimeout(()=>{zf(t)},1500)},qr=t=>t.element.parentNode.contains(document.activeElement),Vf=({root:t,action:e})=>{if(!qr(t))return;t.element.textContent="";const i=t.query("GET_ITEM",e.id);Di.push(i.filename),clearTimeout(On),On=setTimeout(()=>{Xr(t,Di.join(", "),t.query("GET_LABEL_FILE_ADDED")),Di.length=0},750)},Uf=({root:t,action:e})=>{if(!qr(t))return;const i=e.item;Xr(t,i.filename,t.query("GET_LABEL_FILE_REMOVED"))},$f=({root:t,action:e})=>{const s=t.query("GET_ITEM",e.id).filename,n=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");fi(t,`${s} ${n}`)},Rn=({root:t,action:e})=>{const s=t.query("GET_ITEM",e.id).filename,n=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");fi(t,`${s} ${n}`)},Pt=({root:t,action:e})=>{const s=t.query("GET_ITEM",e.id).filename;fi(t,`${e.status.main} ${s} ${e.status.sub}`)},Hf=K({create:Bf,ignoreRect:!0,ignoreRectUpdate:!0,write:le({DID_LOAD_ITEM:Vf,DID_REMOVE_ITEM:Uf,DID_COMPLETE_ITEM_PROCESSING:$f,DID_ABORT_ITEM_PROCESSING:Rn,DID_REVERT_ITEM_PROCESSING:Rn,DID_THROW_ITEM_REMOVE_ERROR:Pt,DID_THROW_ITEM_LOAD_ERROR:Pt,DID_THROW_ITEM_INVALID:Pt,DID_THROW_ITEM_PROCESSING_ERROR:Pt}),tag:"span",name:"assistant"}),jr=(t,e="-")=>t.replace(new RegExp(`${e}.`,"g"),i=>i.charAt(1).toUpperCase()),Zr=(t,e=16,i=!0)=>{let s=Date.now(),n=null;return(...o)=>{clearTimeout(n);const r=Date.now()-s,a=()=>{s=Date.now(),t(...o)};r<e?i||(n=setTimeout(a,e-r)):a()}},kf=1e6,jt=t=>t.preventDefault(),Wf=({root:t,props:e})=>{const i=t.query("GET_ID");i&&(t.element.id=i);const s=t.query("GET_CLASS_NAME");s&&s.split(" ").filter(l=>l.length).forEach(l=>{t.element.classList.add(l)}),t.ref.label=t.appendChildView(t.createChildView(Xd,{...e,translateY:null,caption:t.query("GET_LABEL_IDLE")})),t.ref.list=t.appendChildView(t.createChildView(Ud,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Nr,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(Hf,{...e})),t.ref.data=t.appendChildView(t.createChildView(df,{...e})),t.ref.measure=Me("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter(l=>!Pe(l.value)).map(({name:l,value:u})=>{t.element.dataset[l]=u}),t.ref.widthPrevious=null,t.ref.widthUpdated=Zr(()=>{t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")},250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];const n=window.matchMedia("(pointer: fine) and (hover: hover)").matches,o="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&o&&!n&&(t.element.addEventListener("touchmove",jt,{passive:!1}),t.element.addEventListener("gesturestart",jt));const r=t.query("GET_CREDITS");if(r.length===2){const l=document.createElement("a");l.className="filepond--credits",l.href=r[0],l.tabIndex=-1,l.target="_blank",l.rel="noopener noreferrer nofollow",l.textContent=r[1],t.element.appendChild(l),t.ref.credits=l}},Yf=({root:t,props:e,actions:i})=>{if(Kf({root:t,props:e,actions:i}),i.filter(D=>/^DID_SET_STYLE_/.test(D.type)).filter(D=>!Pe(D.data.value)).map(({type:D,data:A})=>{const T=jr(D.substring(8).toLowerCase(),"_");t.element.dataset[T]=A.value,t.invalidateLayout()}),t.rect.element.hidden)return;t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());let s=t.ref.bounds;s||(s=t.ref.bounds=jf(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);const{hopper:n,label:o,list:r,panel:a}=t.ref;n&&n.updateHopperState();const l=t.query("GET_PANEL_ASPECT_RATIO"),u=t.query("GET_ALLOW_MULTIPLE"),c=t.query("GET_TOTAL_ITEMS"),d=u?t.query("GET_MAX_FILES")||kf:1,h=c===d,g=i.find(D=>D.type==="DID_ADD_ITEM");if(h&&g){const D=g.data.interactionMethod;o.opacity=0,u?o.translateY=-40:D===Ee.API?o.translateX=40:D===Ee.BROWSE?o.translateY=40:o.translateY=30}else h||(o.opacity=1,o.translateX=0,o.translateY=0);const f=Xf(t),m=qf(t),E=o.rect.element.height,_=!u||h?0:E,p=h?r.rect.element.marginTop:0,I=c===0?0:r.rect.element.marginBottom,y=_+p+m.visual+I,O=_+p+m.bounds+I;if(r.translateY=Math.max(0,_-r.rect.element.marginTop)-f.top,l){const D=t.rect.element.width,A=D*l;l!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=l,t.ref.updateHistory=[]);const T=t.ref.updateHistory;T.push(D);const b=2;if(T.length>b*2){const w=T.length,P=w-10;let z=0;for(let C=w;C>=P;C--)if(T[C]===T[C-2]&&z++,z>=b)return}a.scalable=!1,a.height=A;const M=A-_-(I-f.bottom)-(h?p:0);m.visual>M?r.overflow=M:r.overflow=null,t.height=A}else if(s.fixedHeight){a.scalable=!1;const D=s.fixedHeight-_-(I-f.bottom)-(h?p:0);m.visual>D?r.overflow=D:r.overflow=null}else if(s.cappedHeight){const D=y>=s.cappedHeight,A=Math.min(s.cappedHeight,y);a.scalable=!0,a.height=D?A:A-f.top-f.bottom;const T=A-_-(I-f.bottom)-(h?p:0);y>s.cappedHeight&&m.visual>T?r.overflow=T:r.overflow=null,t.height=Math.min(s.cappedHeight,O-f.top-f.bottom)}else{const D=c>0?f.top+f.bottom:0;a.scalable=!0,a.height=Math.max(E,y-D),t.height=Math.max(E,O-D)}t.ref.credits&&a.heightCurrent&&(t.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},Xf=t=>{const e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},qf=t=>{let e=0,i=0;const s=t.ref.list,n=s.childViews[0],o=n.childViews.filter(p=>p.rect.element.height),r=t.query("GET_ACTIVE_ITEMS").map(p=>o.find(I=>I.id===p.id)).filter(p=>p);if(r.length===0)return{visual:e,bounds:i};const a=n.rect.element.width,l=fs(n,r,s.dragCoordinates),u=r[0].rect.element,c=u.marginTop+u.marginBottom,d=u.marginLeft+u.marginRight,h=u.width+d,g=u.height+c,f=typeof l<"u"&&l>=0?1:0,m=r.find(p=>p.markedForRemoval&&p.opacity<.45)?-1:0,E=r.length+f+m,_=ds(a,h);return _===1?r.forEach(p=>{const I=p.rect.element.height+c;i+=I,e+=I*p.opacity}):(i=Math.ceil(E/_)*g,e=i),{visual:e,bounds:i}},jf=t=>{const e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:e===0?null:e}},Es=(t,e)=>{const i=t.query("GET_ALLOW_REPLACE"),s=t.query("GET_ALLOW_MULTIPLE"),n=t.query("GET_TOTAL_ITEMS");let o=t.query("GET_MAX_FILES");const r=e.length;return!s&&r>1?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:q("warning",0,"Max files")}),!0):(o=s?o:1,!s&&i?!1:at(o)&&n+r>o?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:q("warning",0,"Max files")}),!0):!1)},Zf=(t,e,i)=>{const s=t.childViews[0];return fs(s,e,{left:i.scopeLeft-s.rect.element.left,top:i.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},An=t=>{const e=t.query("GET_ALLOW_DROP"),i=t.query("GET_DISABLED"),s=e&&!i;if(s&&!t.ref.hopper){const n=xf(t.element,o=>{const r=t.query("GET_BEFORE_DROP_FILE")||(()=>!0);return t.query("GET_DROP_VALIDATION")?o.every(l=>Ze("ALLOW_HOPPER_ITEM",l,{query:t.query}).every(u=>u===!0)&&r(l)):!0},{filterItems:o=>{const r=t.query("GET_IGNORED_FILES");return o.filter(a=>qe(a)?!r.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});n.onload=(o,r)=>{const l=t.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),u=t.query("GET_ACTIVE_ITEMS").map(c=>l.find(d=>d.id===c.id)).filter(c=>c);ye("ADD_ITEMS",o,{dispatch:t.dispatch}).then(c=>{if(Es(t,c))return!1;t.dispatch("ADD_ITEMS",{items:c,index:Zf(t.ref.list,u,r),interactionMethod:Ee.DROP})}),t.dispatch("DID_DROP",{position:r}),t.dispatch("DID_END_DRAG",{position:r})},n.ondragstart=o=>{t.dispatch("DID_START_DRAG",{position:o})},n.ondrag=Zr(o=>{t.dispatch("DID_DRAG",{position:o})}),n.ondragend=o=>{t.dispatch("DID_END_DRAG",{position:o})},t.ref.hopper=n,t.ref.drip=t.appendChildView(t.createChildView(tf))}else!s&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},Cn=(t,e)=>{const i=t.query("GET_ALLOW_BROWSE"),s=t.query("GET_DISABLED"),n=i&&!s;n&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(Wd,{...e,onload:o=>{ye("ADD_ITEMS",o,{dispatch:t.dispatch}).then(r=>{if(Es(t,r))return!1;t.dispatch("ADD_ITEMS",{items:r,index:-1,interactionMethod:Ee.BROWSE})})}}),0):!n&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},Dn=t=>{const e=t.query("GET_ALLOW_PASTE"),i=t.query("GET_DISABLED"),s=e&&!i;s&&!t.ref.paster?(t.ref.paster=Gf(),t.ref.paster.onload=n=>{ye("ADD_ITEMS",n,{dispatch:t.dispatch}).then(o=>{if(Es(t,o))return!1;t.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Ee.PASTE})})}):!s&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},Kf=le({DID_SET_ALLOW_BROWSE:({root:t,props:e})=>{Cn(t,e)},DID_SET_ALLOW_DROP:({root:t})=>{An(t)},DID_SET_ALLOW_PASTE:({root:t})=>{Dn(t)},DID_SET_DISABLED:({root:t,props:e})=>{An(t),Dn(t),Cn(t,e),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),Qf=K({name:"root",read:({root:t})=>{t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:Wf,write:Yf,destroy:({root:t})=>{t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",jt),t.element.removeEventListener("gesturestart",jt)},mixins:{styles:["height"]}}),Jf=(t={})=>{let e=null;const i=Xt(),s=gc(eu(i),[Iu,su(i)],[Hu,iu(i)]);s.dispatch("SET_OPTIONS",{options:t});const n=()=>{document.hidden||s.dispatch("KICK")};document.addEventListener("visibilitychange",n);let o=null,r=!1,a=!1,l=null,u=null;const c=()=>{r||(r=!0),clearTimeout(o),o=setTimeout(()=>{r=!1,l=null,u=null,a&&(a=!1,s.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const d=Qf(s,{id:os()});let h=!1,g=!1;const f={_read:()=>{r&&(u=window.innerWidth,l||(l=u),!a&&u!==l&&(s.dispatch("DID_START_RESIZE"),a=!0)),g&&h&&(h=d.element.offsetParent===null),!h&&(d._read(),g=d.rect.element.hidden)},_write:R=>{const L=s.processActionQueue().filter(x=>!/^SET_/.test(x.type));h&&!L.length||(p(L),h=d._write(R,L,a),ou(s.query("GET_ITEMS")),h&&s.processDispatchQueue())}},m=R=>L=>{const x={type:R};if(!L)return x;if(L.hasOwnProperty("error")&&(x.error=L.error?{...L.error}:null),L.status&&(x.status={...L.status}),L.file&&(x.output=L.file),L.source)x.file=L.source;else if(L.item||L.id){const N=L.item?L.item:s.query("GET_ITEM",L.id);x.file=N?ue(N):null}return L.items&&(x.items=L.items.map(ue)),/progress/.test(R)&&(x.progress=L.progress),L.hasOwnProperty("origin")&&L.hasOwnProperty("target")&&(x.origin=L.origin,x.target=L.target),x},E={DID_DESTROY:m("destroy"),DID_INIT:m("init"),DID_THROW_MAX_FILES:m("warning"),DID_INIT_ITEM:m("initfile"),DID_START_ITEM_LOAD:m("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:m("addfileprogress"),DID_LOAD_ITEM:m("addfile"),DID_THROW_ITEM_INVALID:[m("error"),m("addfile")],DID_THROW_ITEM_LOAD_ERROR:[m("error"),m("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[m("error"),m("removefile")],DID_PREPARE_OUTPUT:m("preparefile"),DID_START_ITEM_PROCESSING:m("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:m("processfileprogress"),DID_ABORT_ITEM_PROCESSING:m("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:m("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:m("processfiles"),DID_REVERT_ITEM_PROCESSING:m("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[m("error"),m("processfile")],DID_REMOVE_ITEM:m("removefile"),DID_UPDATE_ITEMS:m("updatefiles"),DID_ACTIVATE_ITEM:m("activatefile"),DID_REORDER_ITEMS:m("reorderfiles")},_=R=>{const L={pond:V,...R};delete L.type,d.element.dispatchEvent(new CustomEvent(`FilePond:${R.type}`,{detail:L,bubbles:!0,cancelable:!0,composed:!0}));const x=[];R.hasOwnProperty("error")&&x.push(R.error),R.hasOwnProperty("file")&&x.push(R.file);const N=["type","error","file"];Object.keys(R).filter(B=>!N.includes(B)).forEach(B=>x.push(R[B])),V.fire(R.type,...x);const H=s.query(`GET_ON${R.type.toUpperCase()}`);H&&H(...x)},p=R=>{R.length&&R.filter(L=>E[L.type]).forEach(L=>{const x=E[L.type];(Array.isArray(x)?x:[x]).forEach(N=>{L.type==="DID_INIT_ITEM"?_(N(L.data)):setTimeout(()=>{_(N(L.data))},0)})})},I=R=>s.dispatch("SET_OPTIONS",{options:R}),y=R=>s.query("GET_ACTIVE_ITEM",R),O=R=>new Promise((L,x)=>{s.dispatch("REQUEST_ITEM_PREPARE",{query:R,success:N=>{L(N)},failure:N=>{x(N)}})}),D=(R,L={})=>new Promise((x,N)=>{b([{source:R,options:L}],{index:L.index}).then(H=>x(H&&H[0])).catch(N)}),A=R=>R.file&&R.id,T=(R,L)=>(typeof R=="object"&&!A(R)&&!L&&(L=R,R=void 0),s.dispatch("REMOVE_ITEM",{...L,query:R}),s.query("GET_ACTIVE_ITEM",R)===null),b=(...R)=>new Promise((L,x)=>{const N=[],H={};if(oi(R[0]))N.push.apply(N,R[0]),Object.assign(H,R[1]||{});else{const B=R[R.length-1];typeof B=="object"&&!(B instanceof Blob)&&Object.assign(H,R.pop()),N.push(...R)}s.dispatch("ADD_ITEMS",{items:N,index:H.index,interactionMethod:Ee.API,success:L,failure:x})}),M=()=>s.query("GET_ACTIVE_ITEMS"),w=R=>new Promise((L,x)=>{s.dispatch("REQUEST_ITEM_PROCESSING",{query:R,success:N=>{L(N)},failure:N=>{x(N)}})}),P=(...R)=>{const L=Array.isArray(R[0])?R[0]:R,x=L.length?L:M();return Promise.all(x.map(O))},z=(...R)=>{const L=Array.isArray(R[0])?R[0]:R;if(!L.length){const x=M().filter(N=>!(N.status===G.IDLE&&N.origin===J.LOCAL)&&N.status!==G.PROCESSING&&N.status!==G.PROCESSING_COMPLETE&&N.status!==G.PROCESSING_REVERT_ERROR);return Promise.all(x.map(w))}return Promise.all(L.map(w))},C=(...R)=>{const L=Array.isArray(R[0])?R[0]:R;let x;typeof L[L.length-1]=="object"?x=L.pop():Array.isArray(R[0])&&(x=R[1]);const N=M();return L.length?L.map(B=>He(B)?N[B]?N[B].id:null:B).filter(B=>B).map(B=>T(B,x)):Promise.all(N.map(B=>T(B,x)))},V={...ci(),...f,...tu(s,i),setOptions:I,addFile:D,addFiles:b,getFile:y,processFile:w,prepareFile:O,removeFile:T,moveFile:(R,L)=>s.dispatch("MOVE_ITEM",{query:R,index:L}),getFiles:M,processFiles:z,removeFiles:C,prepareFiles:P,sort:R=>s.dispatch("SORT",{compare:R}),browse:()=>{var R=d.element.querySelector("input[type=file]");R&&R.click()},destroy:()=>{V.fire("destroy",d.element),s.dispatch("ABORT_ALL"),d._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",n),s.dispatch("DID_DESTROY")},insertBefore:R=>Qs(d.element,R),insertAfter:R=>Js(d.element,R),appendTo:R=>R.appendChild(d.element),replaceElement:R=>{Qs(d.element,R),R.parentNode.removeChild(R),e=R},restoreElement:()=>{e&&(Js(e,d.element),d.element.parentNode.removeChild(d.element),e=null)},isAttachedTo:R=>d.element===R||e===R,element:{get:()=>d.element},status:{get:()=>s.query("GET_STATUS")}};return s.dispatch("DID_INIT"),Be(V)},Kr=(t={})=>{const e={};return X(Xt(),(s,n)=>{e[s]=n[0]}),Jf({...e,...t})},eh=t=>t.charAt(0).toLowerCase()+t.slice(1),th=t=>jr(t.replace(/^data-/,"")),Qr=(t,e)=>{X(e,(i,s)=>{X(t,(n,o)=>{const r=new RegExp(i);if(!r.test(n)||(delete t[n],s===!1))return;if(oe(s)){t[s]=o;return}const l=s.group;te(s)&&!t[l]&&(t[l]={}),t[l][eh(n.replace(r,""))]=o}),s.mapping&&Qr(t[s.group],s.mapping)})},ih=(t,e={})=>{const i=[];X(t.attributes,n=>{i.push(t.attributes[n])});const s=i.filter(n=>n.name).reduce((n,o)=>{const r=ee(t,o.name);return n[th(o.name)]=r===o.name?!0:r,n},{});return Qr(s,e),s},sh=(t,e={})=>{const i={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Ze("SET_ATTRIBUTE_TO_OPTION_MAP",i);const s={...e},n=ih(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,i);Object.keys(n).forEach(r=>{te(n[r])?(te(s[r])||(s[r]={}),Object.assign(s[r],n[r])):s[r]=n[r]}),s.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(r=>({source:r.value,options:{type:r.dataset.type}})));const o=Kr(s);return t.files&&Array.from(t.files).forEach(r=>{o.addFile(r)}),o.replaceElement(t),o},nh=(...t)=>pc(t[0])?sh(...t):Kr(...t),rh=["fire","_read","_write"],Ln=t=>{const e={};return _r(t,e,rh),e},oh=(t,e)=>t.replace(/(?:{([a-zA-Z]+)})/g,(i,s)=>e[s]),ah=t=>{const e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),i=URL.createObjectURL(e),s=new Worker(i);return{transfer:(n,o)=>{},post:(n,o,r)=>{const a=os();s.onmessage=l=>{l.data.id===a&&o(l.data.message)},s.postMessage({id:a,message:n},r)},terminate:()=>{s.terminate(),URL.revokeObjectURL(i)}}},lh=t=>new Promise((e,i)=>{const s=new Image;s.onload=()=>{e(s)},s.onerror=n=>{i(n)},s.src=t}),Jr=(t,e)=>{const i=t.slice(0,t.size,t.type);return i.lastModifiedDate=t.lastModifiedDate,i.name=e,i},ch=t=>Jr(t,t.name),Pn=[],uh=t=>{if(Pn.includes(t))return;Pn.push(t);const e=t({addFilter:lu,utils:{Type:S,forin:X,isString:oe,isFile:qe,toNaturalFileSize:Pr,replaceInString:oh,getExtensionFromFilename:ui,getFilenameWithoutExtension:Cr,guesstimateMimeType:Hr,getFileFromBlob:rt,getFilenameFromURL:yt,createRoute:le,createWorker:ah,createView:K,createItemAPI:ue,loadImage:lh,copyFile:ch,renameFile:Jr,createBlob:wr,applyFilterChain:ye,text:j,getNumericAspectRatioFromString:vr},views:{fileActionButton:Lr}});cu(e.options)},dh=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",fh=()=>"Promise"in window,hh=()=>"slice"in Blob.prototype,ph=()=>"URL"in window&&"createObjectURL"in window.URL,gh=()=>"visibilityState"in document,mh=()=>"performance"in window,Eh=()=>"supports"in(window.CSS||{}),Ih=()=>/MSIE|Trident/.test(window.navigator.userAgent),Xi=(()=>{const t=hr()&&!dh()&&gh()&&fh()&&hh()&&ph()&&mh()&&(Eh()||Ih());return()=>t})(),Fe={apps:[]},_h="filepond",Ke=()=>{};let eo={},to={},io={},qi={},Vt=Ke,Ut=Ke,ji=Ke,Zi=Ke,Zt=Ke,Ki=Ke,Kt=Ke;if(Xi()){Vc(()=>{Fe.apps.forEach(i=>i._read())},i=>{Fe.apps.forEach(s=>s._write(i))});const t=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Xi,create:Vt,destroy:Ut,parse:ji,find:Zi,registerPlugin:Zt,setOptions:Kt}})),document.removeEventListener("DOMContentLoaded",t)};document.readyState!=="loading"?setTimeout(()=>t(),0):document.addEventListener("DOMContentLoaded",t);const e=()=>X(Xt(),(i,s)=>{qi[i]=s[1]});eo={...br},io={...J},to={...G},qi={},e(),Vt=(...i)=>{const s=nh(...i);return s.on("destroy",Ut),Fe.apps.push(s),Ln(s)},Ut=i=>{const s=Fe.apps.findIndex(n=>n.isAttachedTo(i));return s>=0?(Fe.apps.splice(s,1)[0].restoreElement(),!0):!1},ji=i=>Array.from(i.querySelectorAll(`.${_h}`)).filter(o=>!Fe.apps.find(r=>r.isAttachedTo(o))).map(o=>Vt(o)),Zi=i=>{const s=Fe.apps.find(n=>n.isAttachedTo(i));return s?Ln(s):null},Zt=(...i)=>{i.forEach(uh),e()},Ki=()=>{const i={};return X(Xt(),(s,n)=>{i[s]=n[0]}),i},Kt=i=>(te(i)&&(Fe.apps.forEach(s=>{s.setOptions(i)}),uu(i)),Ki())}const Th=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return io},get FileStatus(){return to},get OptionTypes(){return qi},get Status(){return eo},get create(){return Vt},get destroy(){return Ut},get find(){return Zi},get getOptions(){return Ki},get parse(){return ji},get registerPlugin(){return Zt},get setOptions(){return Kt},supported:Xi},Symbol.toStringTag,{value:"Module"}));/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const yh=t=>/^image/.test(t.type),Mn=(t,e)=>It(t.x*e,t.y*e),xn=(t,e)=>It(t.x+e.x,t.y+e.y),vh=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return e===0?{x:0,y:0}:It(t.x/e,t.y/e)},Mt=(t,e,i)=>{const s=Math.cos(e),n=Math.sin(e),o=It(t.x-i.x,t.y-i.y);return It(i.x+s*o.x-n*o.y,i.y+n*o.x+s*o.y)},It=(t=0,e=0)=>({x:t,y:e}),de=(t,e,i=1,s)=>{if(typeof t=="string")return parseFloat(t)*i;if(typeof t=="number")return t*(s?e[s]:Math.min(e.width,e.height))},bh=(t,e,i)=>{const s=t.borderStyle||t.lineStyle||"solid",n=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",r=de(t.borderWidth||t.lineWidth,e,i),a=t.lineCap||"round",l=t.lineJoin||"round",u=typeof s=="string"?"":s.map(d=>de(d,e,i)).join(","),c=t.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":l,"stroke-width":r||0,"stroke-dasharray":u,stroke:o,fill:n,opacity:c}},me=t=>t!=null,Sh=(t,e,i=1)=>{let s=de(t.x,e,i,"width")||de(t.left,e,i,"width"),n=de(t.y,e,i,"height")||de(t.top,e,i,"height"),o=de(t.width,e,i,"width"),r=de(t.height,e,i,"height"),a=de(t.right,e,i,"width"),l=de(t.bottom,e,i,"height");return me(n)||(me(r)&&me(l)?n=e.height-r-l:n=l),me(s)||(me(o)&&me(a)?s=e.width-o-a:s=a),me(o)||(me(s)&&me(a)?o=e.width-s-a:o=0),me(r)||(me(n)&&me(l)?r=e.height-n-l:r=0),{x:s||0,y:n||0,width:o||0,height:r||0}},Oh=t=>t.map((e,i)=>`${i===0?"M":"L"} ${e.x} ${e.y}`).join(" "),Re=(t,e)=>Object.keys(e).forEach(i=>t.setAttribute(i,e[i])),wh="http://www.w3.org/2000/svg",it=(t,e)=>{const i=document.createElementNS(wh,t);return e&&Re(i,e),i},Rh=t=>Re(t,{...t.rect,...t.styles}),Ah=t=>{const e=t.rect.x+t.rect.width*.5,i=t.rect.y+t.rect.height*.5,s=t.rect.width*.5,n=t.rect.height*.5;return Re(t,{cx:e,cy:i,rx:s,ry:n,...t.styles})},Ch={contain:"xMidYMid meet",cover:"xMidYMid slice"},Dh=(t,e)=>{Re(t,{...t.rect,...t.styles,preserveAspectRatio:Ch[e.fit]||"none"})},Lh={left:"start",center:"middle",right:"end"},Ph=(t,e,i,s)=>{const n=de(e.fontSize,i,s),o=e.fontFamily||"sans-serif",r=e.fontWeight||"normal",a=Lh[e.textAlign]||"start";Re(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":r,"font-size":n,"font-family":o,"text-anchor":a}),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},Mh=(t,e,i,s)=>{Re(t,{...t.rect,...t.styles,fill:"none"});const n=t.childNodes[0],o=t.childNodes[1],r=t.childNodes[2],a=t.rect,l={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(Re(n,{x1:a.x,y1:a.y,x2:l.x,y2:l.y}),!e.lineDecoration)return;o.style.display="none",r.style.display="none";const u=vh({x:l.x-a.x,y:l.y-a.y}),c=de(.05,i,s);if(e.lineDecoration.indexOf("arrow-begin")!==-1){const d=Mn(u,c),h=xn(a,d),g=Mt(a,2,h),f=Mt(a,-2,h);Re(o,{style:"display:block;",d:`M${g.x},${g.y} L${a.x},${a.y} L${f.x},${f.y}`})}if(e.lineDecoration.indexOf("arrow-end")!==-1){const d=Mn(u,-c),h=xn(l,d),g=Mt(l,2,h),f=Mt(l,-2,h);Re(r,{style:"display:block;",d:`M${g.x},${g.y} L${l.x},${l.y} L${f.x},${f.y}`})}},xh=(t,e,i,s)=>{Re(t,{...t.styles,fill:"none",d:Oh(e.points.map(n=>({x:de(n.x,i,s,"width"),y:de(n.y,i,s,"height")})))})},xt=t=>e=>it(t,{id:e.id}),Nh=t=>{const e=it("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=()=>{e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},Fh=t=>{const e=it("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),i=it("line");e.appendChild(i);const s=it("path");e.appendChild(s);const n=it("path");return e.appendChild(n),e},Gh={image:Nh,rect:xt("rect"),ellipse:xt("ellipse"),text:xt("text"),path:xt("path"),line:Fh},Bh={rect:Rh,ellipse:Ah,image:Dh,text:Ph,path:xh,line:Mh},zh=(t,e)=>Gh[t](e),Vh=(t,e,i,s,n)=>{e!=="path"&&(t.rect=Sh(i,s,n)),t.styles=bh(i,s,n),Bh[e](t,i,s,n)},Uh=["x","y","left","top","right","bottom","width","height"],$h=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,Hh=t=>{const[e,i]=t,s=i.points?{}:Uh.reduce((n,o)=>(n[o]=$h(i[o]),n),{});return[e,{zIndex:0,...i,...s}]},kh=(t,e)=>t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0,Wh=t=>t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:e,props:i})=>{if(!i.dirty)return;const{crop:s,resize:n,markup:o}=i,r=i.width,a=i.height;let l=s.width,u=s.height;if(n){const{size:g}=n;let f=g&&g.width,m=g&&g.height;const E=n.mode,_=n.upscale;f&&!m&&(m=f),m&&!f&&(f=m);const p=l<f&&u<m;if(!p||p&&_){let I=f/l,y=m/u;if(E==="force")l=f,u=m;else{let O;E==="cover"?O=Math.max(I,y):E==="contain"&&(O=Math.min(I,y)),l=l*O,u=u*O}}}const c={width:r,height:a};e.element.setAttribute("width",c.width),e.element.setAttribute("height",c.height);const d=Math.min(r/l,a/u);e.element.innerHTML="";const h=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");o.filter(h).map(Hh).sort(kh).forEach(g=>{const[f,m]=g,E=zh(f,m);Vh(E,f,m,c,d),e.element.appendChild(E)})}}),gt=(t,e)=>({x:t,y:e}),Yh=(t,e)=>t.x*e.x+t.y*e.y,Nn=(t,e)=>gt(t.x-e.x,t.y-e.y),Xh=(t,e)=>Yh(Nn(t,e),Nn(t,e)),Fn=(t,e)=>Math.sqrt(Xh(t,e)),Gn=(t,e)=>{const i=t,s=1.5707963267948966,n=e,o=1.5707963267948966-e,r=Math.sin(s),a=Math.sin(n),l=Math.sin(o),u=Math.cos(o),c=i/r,d=c*a,h=c*l;return gt(u*d,u*h)},qh=(t,e)=>{const i=t.width,s=t.height,n=Gn(i,e),o=Gn(s,e),r=gt(t.x+Math.abs(n.x),t.y-Math.abs(n.y)),a=gt(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),l=gt(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:Fn(r,a),height:Fn(r,l)}},jh=(t,e,i=1)=>{const s=t.height/t.width;let n=1,o=e,r=1,a=s;a>o&&(a=o,r=a/s);const l=Math.max(n/r,o/a),u=t.width/(i*l*r),c=u*e;return{width:u,height:c}},so=(t,e,i,s)=>{const n=s.x>.5?1-s.x:s.x,o=s.y>.5?1-s.y:s.y,r=n*2*t.width,a=o*2*t.height,l=qh(e,i);return Math.max(l.width/r,l.height/a)},no=(t,e)=>{let i=t.width,s=i*e;s>t.height&&(s=t.height,i=s/e);const n=(t.width-i)*.5,o=(t.height-s)*.5;return{x:n,y:o,width:i,height:s}},Zh=(t,e={})=>{let{zoom:i,rotation:s,center:n,aspectRatio:o}=e;o||(o=t.height/t.width);const r=jh(t,o,i),a={x:r.width*.5,y:r.height*.5},l={x:0,y:0,width:r.width,height:r.height,center:a},u=typeof e.scaleToFit>"u"||e.scaleToFit,c=so(t,no(l,o),s,u?n:{x:.5,y:.5}),d=i*c;return{widthFloat:r.width/d,heightFloat:r.height/d,width:Math.round(r.width/d),height:Math.round(r.height/d)}},Oe={type:"spring",stiffness:.5,damping:.45,mass:10},Kh=t=>t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:e,props:i})=>{e.appendChild(i.image)}}),Qh=t=>t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Oe,originY:Oe,scaleX:Oe,scaleY:Oe,translateX:Oe,translateY:Oe,rotateZ:Oe}},create:({root:e,props:i})=>{i.width=i.image.width,i.height=i.image.height,e.ref.bitmap=e.appendChildView(e.createChildView(Kh(t),{image:i.image}))},write:({root:e,props:i})=>{const{flip:s}=i.crop,{bitmap:n}=e.ref;n.scaleX=s.horizontal?-1:1,n.scaleY=s.vertical?-1:1}}),Jh=t=>t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:e,props:i}){i.background&&(e.element.style.backgroundColor=i.background)},create:({root:e,props:i})=>{e.ref.image=e.appendChildView(e.createChildView(Qh(t),Object.assign({},i))),e.ref.createMarkup=()=>{e.ref.markup||(e.ref.markup=e.appendChildView(e.createChildView(Wh(t),Object.assign({},i))))},e.ref.destroyMarkup=()=>{e.ref.markup&&(e.removeChildView(e.ref.markup),e.ref.markup=null)};const s=e.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");s!==null&&(s==="grid"?e.element.dataset.transparencyIndicator=s:e.element.dataset.transparencyIndicator="color")},write:({root:e,props:i,shouldOptimize:s})=>{const{crop:n,markup:o,resize:r,dirty:a,width:l,height:u}=i;e.ref.image.crop=n;const c={x:0,y:0,width:l,height:u,center:{x:l*.5,y:u*.5}},d={width:e.ref.image.width,height:e.ref.image.height},h={x:n.center.x*d.width,y:n.center.y*d.height},g={x:c.center.x-d.width*n.center.x,y:c.center.y-d.height*n.center.y},f=Math.PI*2+n.rotation%(Math.PI*2),m=n.aspectRatio||d.height/d.width,E=typeof n.scaleToFit>"u"||n.scaleToFit,_=so(d,no(c,m),f,E?n.center:{x:.5,y:.5}),p=n.zoom*_;o&&o.length?(e.ref.createMarkup(),e.ref.markup.width=l,e.ref.markup.height=u,e.ref.markup.resize=r,e.ref.markup.dirty=a,e.ref.markup.markup=o,e.ref.markup.crop=Zh(d,n)):e.ref.markup&&e.ref.destroyMarkup();const I=e.ref.image;if(s){I.originX=null,I.originY=null,I.translateX=null,I.translateY=null,I.rotateZ=null,I.scaleX=null,I.scaleY=null;return}I.originX=h.x,I.originY=h.y,I.translateX=g.x,I.translateY=g.y,I.rotateZ=f,I.scaleX=p,I.scaleY=p}}),ep=t=>t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Oe,scaleY:Oe,translateY:Oe,opacity:{type:"tween",duration:400}}},create:({root:e,props:i})=>{e.ref.clip=e.appendChildView(e.createChildView(Jh(t),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:({root:e,props:i,shouldOptimize:s})=>{const{clip:n}=e.ref,{image:o,crop:r,markup:a,resize:l,dirty:u}=i;if(n.crop=r,n.markup=a,n.resize=l,n.dirty=u,n.opacity=s?0:1,s||e.rect.element.hidden)return;const c=o.height/o.width;let d=r.aspectRatio||c;const h=e.rect.inner.width,g=e.rect.inner.height;let f=e.query("GET_IMAGE_PREVIEW_HEIGHT");const m=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),E=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),_=e.query("GET_PANEL_ASPECT_RATIO"),p=e.query("GET_ALLOW_MULTIPLE");_&&!p&&(f=h*_,d=_);let I=f!==null?f:Math.max(m,Math.min(h*d,E)),y=I/d;y>h&&(y=h,I=y*d),I>g&&(I=g,y=g/d),n.width=y,n.height=I}});let tp=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,Bn=0;const ip=t=>t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:e,props:i})=>{let s=tp;if(document.querySelector("base")){const n=new URL(window.location.href.replace(window.location.hash,"")).href;s=s.replace(/url\(\#/g,"url("+n+"#")}Bn++,e.element.classList.add(`filepond--image-preview-overlay-${i.status}`),e.element.innerHTML=s.replace(/__UID__/g,Bn)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),sp=function(){self.onmessage=t=>{createImageBitmap(t.data.message.file).then(e=>{self.postMessage({id:t.data.id,message:e},[e])})}},np=function(){self.onmessage=t=>{const e=t.data.message.imageData,i=t.data.message.colorMatrix,s=e.data,n=s.length,o=i[0],r=i[1],a=i[2],l=i[3],u=i[4],c=i[5],d=i[6],h=i[7],g=i[8],f=i[9],m=i[10],E=i[11],_=i[12],p=i[13],I=i[14],y=i[15],O=i[16],D=i[17],A=i[18],T=i[19];let b=0,M=0,w=0,P=0,z=0;for(;b<n;b+=4)M=s[b]/255,w=s[b+1]/255,P=s[b+2]/255,z=s[b+3]/255,s[b]=Math.max(0,Math.min((M*o+w*r+P*a+z*l+u)*255,255)),s[b+1]=Math.max(0,Math.min((M*c+w*d+P*h+z*g+f)*255,255)),s[b+2]=Math.max(0,Math.min((M*m+w*E+P*_+z*p+I)*255,255)),s[b+3]=Math.max(0,Math.min((M*y+w*O+P*D+z*A+T)*255,255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},rp=(t,e)=>{let i=new Image;i.onload=()=>{const s=i.naturalWidth,n=i.naturalHeight;i=null,e(s,n)},i.src=t},op={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,e)=>[-1,0,0,-1,t,e],4:(t,e)=>[1,0,0,-1,0,e],5:()=>[0,1,1,0,0,0],6:(t,e)=>[0,1,-1,0,e,0],7:(t,e)=>[0,-1,-1,0,e,t],8:t=>[0,-1,1,0,0,t]},ap=(t,e,i,s)=>{s!==-1&&t.transform.apply(t,op[s](e,i))},lp=(t,e,i,s)=>{e=Math.round(e),i=Math.round(i);const n=document.createElement("canvas");n.width=e,n.height=i;const o=n.getContext("2d");return s>=5&&s<=8&&([e,i]=[i,e]),ap(o,e,i,s),o.drawImage(t,0,0,e,i),n},ro=t=>/^image/.test(t.type)&&!/svg/.test(t.type),cp=10,up=10,dp=t=>{const e=Math.min(cp/t.width,up/t.height),i=document.createElement("canvas"),s=i.getContext("2d"),n=i.width=Math.ceil(t.width*e),o=i.height=Math.ceil(t.height*e);s.drawImage(t,0,0,n,o);let r=null;try{r=s.getImageData(0,0,n,o).data}catch{return null}const a=r.length;let l=0,u=0,c=0,d=0;for(;d<a;d+=4)l+=r[d]*r[d],u+=r[d+1]*r[d+1],c+=r[d+2]*r[d+2];return l=Li(l,a),u=Li(u,a),c=Li(c,a),{r:l,g:u,b:c}},Li=(t,e)=>Math.floor(Math.sqrt(t/(e/4))),fp=(t,e)=>(e=e||document.createElement("canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e),hp=t=>{let e;try{e=new ImageData(t.width,t.height)}catch{e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},pp=t=>new Promise((e,i)=>{const s=new Image;s.crossOrigin="Anonymous",s.onload=()=>{e(s)},s.onerror=n=>{i(n)},s.src=t}),gp=t=>{const e=ip(t),i=ep(t),{createWorker:s}=t.utils,n=(p,I,y)=>new Promise(O=>{p.ref.imageData||(p.ref.imageData=y.getContext("2d").getImageData(0,0,y.width,y.height));const D=hp(p.ref.imageData);if(!I||I.length!==20)return y.getContext("2d").putImageData(D,0,0),O();const A=s(np);A.post({imageData:D,colorMatrix:I},T=>{y.getContext("2d").putImageData(T,0,0),A.terminate(),O()},[D.data.buffer])}),o=(p,I)=>{p.removeChildView(I),I.image.width=1,I.image.height=1,I._destroy()},r=({root:p})=>{const I=p.ref.images.shift();return I.opacity=0,I.translateY=-15,p.ref.imageViewBin.push(I),I},a=({root:p,props:I,image:y})=>{const O=I.id,D=p.query("GET_ITEM",{id:O});if(!D)return;const A=D.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},T=p.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let b,M,w=!1;p.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(b=D.getMetadata("markup")||[],M=D.getMetadata("resize"),w=!0);const P=p.appendChildView(p.createChildView(i,{id:O,image:y,crop:A,resize:M,markup:b,dirty:w,background:T,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),p.childViews.length);p.ref.images.push(P),P.opacity=1,P.scaleX=1,P.scaleY=1,P.translateY=0,setTimeout(()=>{p.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:O})},250)},l=({root:p,props:I})=>{const y=p.query("GET_ITEM",{id:I.id});if(!y)return;const O=p.ref.images[p.ref.images.length-1];O.crop=y.getMetadata("crop"),O.background=p.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),p.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(O.dirty=!0,O.resize=y.getMetadata("resize"),O.markup=y.getMetadata("markup"))},u=({root:p,props:I,action:y})=>{if(!/crop|filter|markup|resize/.test(y.change.key)||!p.ref.images.length)return;const O=p.query("GET_ITEM",{id:I.id});if(O){if(/filter/.test(y.change.key)){const D=p.ref.images[p.ref.images.length-1];n(p,y.change.value,D.image);return}if(/crop|markup|resize/.test(y.change.key)){const D=O.getMetadata("crop"),A=p.ref.images[p.ref.images.length-1];if(D&&D.aspectRatio&&A.crop&&A.crop.aspectRatio&&Math.abs(D.aspectRatio-A.crop.aspectRatio)>1e-5){const T=r({root:p});a({root:p,props:I,image:fp(T.image)})}else l({root:p,props:I})}}},c=p=>{const y=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),O=y?parseInt(y[1]):null;return O!==null&&O<=58?!1:"createImageBitmap"in window&&ro(p)},d=({root:p,props:I})=>{const{id:y}=I,O=p.query("GET_ITEM",y);if(!O)return;const D=URL.createObjectURL(O.file);rp(D,(A,T)=>{p.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:y,width:A,height:T})})},h=({root:p,props:I})=>{const{id:y}=I,O=p.query("GET_ITEM",y);if(!O)return;const D=URL.createObjectURL(O.file),A=()=>{pp(D).then(T)},T=b=>{URL.revokeObjectURL(D);const w=(O.getMetadata("exif")||{}).orientation||-1;let{width:P,height:z}=b;if(!P||!z)return;w>=5&&w<=8&&([P,z]=[z,P]);const C=Math.max(1,window.devicePixelRatio*.75),R=p.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*C,L=z/P,x=p.rect.element.width,N=p.rect.element.height;let H=x,B=H*L;L>1?(H=Math.min(P,x*R),B=H*L):(B=Math.min(z,N*R),H=B/L);const ze=lp(b,H,B,w),lt=()=>{const hi=p.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?dp(data):null;O.setMetadata("color",hi,!0),"close"in b&&b.close(),p.ref.overlayShadow.opacity=1,a({root:p,props:I,image:ze})},_e=O.getMetadata("filter");_e?n(p,_e,ze).then(lt):lt()};if(c(O.file)){const b=s(sp);b.post({file:O.file},M=>{if(b.terminate(),!M){A();return}T(M)})}else A()},g=({root:p})=>{const I=p.ref.images[p.ref.images.length-1];I.translateY=0,I.scaleX=1,I.scaleY=1,I.opacity=1},f=({root:p})=>{p.ref.overlayShadow.opacity=1,p.ref.overlayError.opacity=0,p.ref.overlaySuccess.opacity=0},m=({root:p})=>{p.ref.overlayShadow.opacity=.25,p.ref.overlayError.opacity=1},E=({root:p})=>{p.ref.overlayShadow.opacity=.25,p.ref.overlaySuccess.opacity=1},_=({root:p})=>{p.ref.images=[],p.ref.imageData=null,p.ref.imageViewBin=[],p.ref.overlayShadow=p.appendChildView(p.createChildView(e,{opacity:0,status:"idle"})),p.ref.overlaySuccess=p.appendChildView(p.createChildView(e,{opacity:0,status:"success"})),p.ref.overlayError=p.appendChildView(p.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:_,styles:["height"],apis:["height"],destroy:({root:p})=>{p.ref.images.forEach(I=>{I.image.width=1,I.image.height=1})},didWriteView:({root:p})=>{p.ref.images.forEach(I=>{I.dirty=!1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:g,DID_IMAGE_PREVIEW_CONTAINER_CREATE:d,DID_FINISH_CALCULATE_PREVIEWSIZE:h,DID_UPDATE_ITEM_METADATA:u,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:E,DID_START_ITEM_PROCESSING:f,DID_REVERT_ITEM_PROCESSING:f},({root:p})=>{const I=p.ref.imageViewBin.filter(y=>y.opacity===0);p.ref.imageViewBin=p.ref.imageViewBin.filter(y=>y.opacity>0),I.forEach(y=>o(p,y)),I.length=0})})},oo=t=>{const{addFilter:e,utils:i}=t,{Type:s,createRoute:n,isFile:o}=i,r=gp(t);return e("CREATE_VIEW",a=>{const{is:l,view:u,query:c}=a;if(!l("file")||!c("GET_ALLOW_IMAGE_PREVIEW"))return;const d=({root:E,props:_})=>{const{id:p}=_,I=c("GET_ITEM",p);if(!I||!o(I.file)||I.archived)return;const y=I.file;if(!yh(y)||!c("GET_IMAGE_PREVIEW_FILTER_ITEM")(I))return;const O="createImageBitmap"in(window||{}),D=c("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!O&&D&&y.size>D)return;E.ref.imagePreview=u.appendChildView(u.createChildView(r,{id:p}));const A=E.query("GET_IMAGE_PREVIEW_HEIGHT");A&&E.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:I.id,height:A});const T=!O&&y.size>c("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");E.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:p},T)},h=(E,_)=>{if(!E.ref.imagePreview)return;let{id:p}=_;const I=E.query("GET_ITEM",{id:p});if(!I)return;const y=E.query("GET_PANEL_ASPECT_RATIO"),O=E.query("GET_ITEM_PANEL_ASPECT_RATIO"),D=E.query("GET_IMAGE_PREVIEW_HEIGHT");if(y||O||D)return;let{imageWidth:A,imageHeight:T}=E.ref;if(!A||!T)return;const b=E.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),M=E.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),P=(I.getMetadata("exif")||{}).orientation||-1;if(P>=5&&P<=8&&([A,T]=[T,A]),!ro(I.file)||E.query("GET_IMAGE_PREVIEW_UPSCALE")){const x=2048/A;A*=x,T*=x}const z=T/A,C=(I.getMetadata("crop")||{}).aspectRatio||z;let V=Math.max(b,Math.min(T,M));const R=E.rect.element.width,L=Math.min(R*C,V);E.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:I.id,height:L})},g=({root:E})=>{E.ref.shouldRescale=!0},f=({root:E,action:_})=>{_.change.key==="crop"&&(E.ref.shouldRescale=!0)},m=({root:E,action:_})=>{E.ref.imageWidth=_.width,E.ref.imageHeight=_.height,E.ref.shouldRescale=!0,E.ref.shouldDrawPreview=!0,E.dispatch("KICK")};u.registerWriter(n({DID_RESIZE_ROOT:g,DID_STOP_RESIZE:g,DID_LOAD_ITEM:d,DID_IMAGE_PREVIEW_CALCULATE_SIZE:m,DID_UPDATE_ITEM_METADATA:f},({root:E,props:_})=>{E.ref.imagePreview&&(E.rect.element.hidden||(E.ref.shouldRescale&&(h(E,_),E.ref.shouldRescale=!1),E.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{E.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:_.id})})}),E.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,s.BOOLEAN],imagePreviewFilterItem:[()=>!0,s.FUNCTION],imagePreviewHeight:[null,s.INT],imagePreviewMinHeight:[44,s.INT],imagePreviewMaxHeight:[256,s.INT],imagePreviewMaxFileSize:[null,s.INT],imagePreviewZoomFactor:[2,s.INT],imagePreviewUpscale:[!1,s.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,s.INT],imagePreviewTransparencyIndicator:[null,s.STRING],imagePreviewCalculateAverageImageColor:[!1,s.BOOLEAN],imagePreviewMarkupShow:[!0,s.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,s.FUNCTION]}}},mp=typeof window<"u"&&typeof window.document<"u";mp&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:oo}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ao=({addFilter:t,utils:e})=>{const{Type:i,replaceInString:s,toNaturalFileSize:n}=e;return t("ALLOW_HOPPER_ITEM",(o,{query:r})=>{if(!r("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const a=r("GET_MAX_FILE_SIZE");if(a!==null&&o.size>a)return!1;const l=r("GET_MIN_FILE_SIZE");return!(l!==null&&o.size<l)}),t("LOAD_FILE",(o,{query:r})=>new Promise((a,l)=>{if(!r("GET_ALLOW_FILE_SIZE_VALIDATION"))return a(o);const u=r("GET_FILE_VALIDATE_SIZE_FILTER");if(u&&!u(o))return a(o);const c=r("GET_MAX_FILE_SIZE");if(c!==null&&o.size>c){l({status:{main:r("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:s(r("GET_LABEL_MAX_FILE_SIZE"),{filesize:n(c,".",r("GET_FILE_SIZE_BASE"),r("GET_FILE_SIZE_LABELS",r))})}});return}const d=r("GET_MIN_FILE_SIZE");if(d!==null&&o.size<d){l({status:{main:r("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:s(r("GET_LABEL_MIN_FILE_SIZE"),{filesize:n(d,".",r("GET_FILE_SIZE_BASE"),r("GET_FILE_SIZE_LABELS",r))})}});return}const h=r("GET_MAX_TOTAL_FILE_SIZE");if(h!==null&&r("GET_ACTIVE_ITEMS").reduce((f,m)=>f+m.fileSize,0)>h){l({status:{main:r("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:s(r("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:n(h,".",r("GET_FILE_SIZE_BASE"),r("GET_FILE_SIZE_LABELS",r))})}});return}a(o)})),{options:{allowFileSizeValidation:[!0,i.BOOLEAN],maxFileSize:[null,i.INT],minFileSize:[null,i.INT],maxTotalFileSize:[null,i.INT],fileValidateSizeFilter:[null,i.FUNCTION],labelMinFileSizeExceeded:["File is too small",i.STRING],labelMinFileSize:["Minimum file size is {filesize}",i.STRING],labelMaxFileSizeExceeded:["File is too large",i.STRING],labelMaxFileSize:["Maximum file size is {filesize}",i.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",i.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",i.STRING]}}},Ep=typeof window<"u"&&typeof window.document<"u";Ep&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ao}));const Ip={labelIdle:'Arrastra y suelta tus archivos o <span class = "filepond--label-action"> Examina <span>',labelInvalidField:"El campo contiene archivos inválidos",labelFileWaitingForSize:"Esperando tamaño",labelFileSizeNotAvailable:"Tamaño no disponible",labelFileLoading:"Cargando",labelFileLoadError:"Error durante la carga",labelFileProcessing:"Subiendo",labelFileProcessingComplete:"Subida completa",labelFileProcessingAborted:"Subida cancelada",labelFileProcessingError:"Error durante la subida",labelFileProcessingRevertError:"Error durante la reversión",labelFileRemoveError:"Error durante la eliminación",labelTapToCancel:"toca para cancelar",labelTapToRetry:"tocar para reintentar",labelTapToUndo:"tocar para deshacer",labelButtonRemoveItem:"Eliminar",labelButtonAbortItemLoad:"Cancelar",labelButtonRetryItemLoad:"Reintentar",labelButtonAbortItemProcessing:"Cancelar",labelButtonUndoItemProcessing:"Deshacer",labelButtonRetryItemProcessing:"Reintentar",labelButtonProcessItem:"Subir",labelMaxFileSizeExceeded:"El archivo es demasiado grande",labelMaxFileSize:"El tamaño máximo del archivo es {filesize}",labelMaxTotalFileSizeExceeded:"Tamaño total máximo excedido",labelMaxTotalFileSize:"El tamaño total máximo del archivo es {filesize}",labelFileTypeNotAllowed:"Archivo de tipo inválido",fileValidateTypeLabelExpectedTypes:"Espera {allButLastType} o {lastType}",imageValidateSizeLabelFormatError:"Tipo de imagen no soportada",imageValidateSizeLabelImageSizeTooSmall:"La imagen es demasiado pequeña",imageValidateSizeLabelImageSizeTooBig:"La imagen es demasiado grande",imageValidateSizeLabelExpectedMinSize:"El tamaño mínimo es {minWidth} x {minHeight}",imageValidateSizeLabelExpectedMaxSize:"El tamaño máximo es {maxWidth} x {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"La resolución es demasiado baja",imageValidateSizeLabelImageResolutionTooHigh:"La resolución es demasiado alta",imageValidateSizeLabelExpectedMinResolution:"La resolución mínima es {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"La resolución máxima es {maxResolution}"};/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const lo=({addFilter:t,utils:e})=>{const{Type:i,isString:s,replaceInString:n,guesstimateMimeType:o,getExtensionFromFilename:r,getFilenameFromURL:a}=e,l=(g,f)=>{const m=(/^[^/]+/.exec(g)||[]).pop(),E=f.slice(0,-2);return m===E},u=(g,f)=>g.some(m=>/\*$/.test(m)?l(f,m):m===f),c=g=>{let f="";if(s(g)){const m=a(g),E=r(m);E&&(f=o(E))}else f=g.type;return f},d=(g,f,m)=>{if(f.length===0)return!0;const E=c(g);return m?new Promise((_,p)=>{m(g,E).then(I=>{u(f,I)?_():p()}).catch(p)}):u(f,E)},h=g=>f=>g[f]===null?!1:g[f]||f;return t("SET_ATTRIBUTE_TO_OPTION_MAP",g=>Object.assign(g,{accept:"acceptedFileTypes"})),t("ALLOW_HOPPER_ITEM",(g,{query:f})=>f("GET_ALLOW_FILE_TYPE_VALIDATION")?d(g,f("GET_ACCEPTED_FILE_TYPES")):!0),t("LOAD_FILE",(g,{query:f})=>new Promise((m,E)=>{if(!f("GET_ALLOW_FILE_TYPE_VALIDATION")){m(g);return}const _=f("GET_ACCEPTED_FILE_TYPES"),p=f("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),I=d(g,_,p),y=()=>{const O=_.map(h(f("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(A=>A!==!1),D=O.filter((A,T)=>O.indexOf(A)===T);E({status:{main:f("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:n(f("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:D.join(", "),allButLastType:D.slice(0,-1).join(", "),lastType:D[D.length-1]})}})};if(typeof I=="boolean")return I?m(g):y();I.then(()=>{m(g)}).catch(y)})),{options:{allowFileTypeValidation:[!0,i.BOOLEAN],acceptedFileTypes:[[],i.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",i.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",i.STRING],fileValidateTypeLabelExpectedTypesMap:[{},i.OBJECT],fileValidateTypeDetectType:[null,i.FUNCTION]}}},_p=typeof window<"u"&&typeof window.document<"u";_p&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:lo}));/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ge=function(){return Ge=Object.assign||function(e){for(var i,s=1,n=arguments.length;s<n;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ge.apply(this,arguments)};function Tp(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<i;e++)for(var o=arguments[e],r=0,a=o.length;r<a;r++,n++)s[n]=o[r];return s}var k={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},yp={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};function vp(){(function(){if(typeof window.CustomEvent=="function")return!1;function t(e,i){i=i||{bubbles:!1,cancelable:!1,detail:null};var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),s}window.CustomEvent=t})(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}()}var co=function(){function t(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=Math.random()*16|0,s=e=="x"?i:i&3|8;return s.toString(16)})},t.prototype._getSelector=function(e,i){if(i===void 0&&(i=document),typeof e!="string")return e;i=i||document;var s=e.substring(0,1);return s==="#"?i.querySelector(e):i.querySelectorAll(e)},t.prototype._each=function(e){return this.selector?(this.selector.length!==void 0?[].forEach.call(this.selector,e):e(this.selector,0),this):this},t.prototype._setCssVendorPrefix=function(e,i,s){var n=i.replace(/-([a-z])/gi,function(o,r){return r.toUpperCase()});this.cssVenderPrefixes.indexOf(n)!==-1?(e.style[n.charAt(0).toLowerCase()+n.slice(1)]=s,e.style["webkit"+n]=s,e.style["moz"+n]=s,e.style["ms"+n]=s,e.style["o"+n]=s):e.style[n]=s},t.prototype._getFirstEl=function(){return this.selector&&this.selector.length!==void 0?this.selector[0]:this.selector},t.prototype.isEventMatched=function(e,i){var s=i.split(".");return e.split(".").filter(function(n){return n}).every(function(n){return s.indexOf(n)!==-1})},t.prototype.attr=function(e,i){return i===void 0?this.firstElement?this.firstElement.getAttribute(e):"":(this._each(function(s){s.setAttribute(e,i)}),this)},t.prototype.find=function(e){return F(this._getSelector(e,this.selector))},t.prototype.first=function(){return this.selector&&this.selector.length!==void 0?F(this.selector[0]):F(this.selector)},t.prototype.eq=function(e){return F(this.selector[e])},t.prototype.parent=function(){return F(this.selector.parentElement)},t.prototype.get=function(){return this._getFirstEl()},t.prototype.removeAttr=function(e){var i=e.split(" ");return this._each(function(s){i.forEach(function(n){return s.removeAttribute(n)})}),this},t.prototype.wrap=function(e){if(!this.firstElement)return this;var i=document.createElement("div");return i.className=e,this.firstElement.parentNode.insertBefore(i,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),i.appendChild(this.firstElement),this},t.prototype.addClass=function(e){return e===void 0&&(e=""),this._each(function(i){e.split(" ").forEach(function(s){s&&i.classList.add(s)})}),this},t.prototype.removeClass=function(e){return this._each(function(i){e.split(" ").forEach(function(s){s&&i.classList.remove(s)})}),this},t.prototype.hasClass=function(e){return this.firstElement?this.firstElement.classList.contains(e):!1},t.prototype.hasAttribute=function(e){return this.firstElement?this.firstElement.hasAttribute(e):!1},t.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},t.prototype.css=function(e,i){var s=this;return this._each(function(n){s._setCssVendorPrefix(n,e,i)}),this},t.prototype.on=function(e,i){var s=this;return this.selector?(e.split(" ").forEach(function(n){Array.isArray(t.eventListeners[n])||(t.eventListeners[n]=[]),t.eventListeners[n].push(i),s.selector.addEventListener(n.split(".")[0],i)}),this):this},t.prototype.once=function(e,i){var s=this;return this.on(e,function(){s.off(e),i(e)}),this},t.prototype.off=function(e){var i=this;return this.selector?(Object.keys(t.eventListeners).forEach(function(s){i.isEventMatched(e,s)&&(t.eventListeners[s].forEach(function(n){i.selector.removeEventListener(s.split(".")[0],n)}),t.eventListeners[s]=[])}),this):this},t.prototype.trigger=function(e,i){if(!this.firstElement)return this;var s=new CustomEvent(e.split(".")[0],{detail:i||null});return this.firstElement.dispatchEvent(s),this},t.prototype.load=function(e){var i=this;return fetch(e).then(function(s){return s.text()}).then(function(s){i.selector.innerHTML=s}),this},t.prototype.html=function(e){return e===void 0?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(i){i.innerHTML=e}),this)},t.prototype.append=function(e){return this._each(function(i){typeof e=="string"?i.insertAdjacentHTML("beforeend",e):i.appendChild(e)}),this},t.prototype.prepend=function(e){return this._each(function(i){typeof e=="string"?i.insertAdjacentHTML("afterbegin",e):e instanceof HTMLElement&&i.insertBefore(e.cloneNode(!0),i.firstChild)}),this},t.prototype.remove=function(){return this._each(function(e){e.parentNode.removeChild(e)}),this},t.prototype.empty=function(){return this._each(function(e){e.innerHTML=""}),this},t.prototype.scrollTop=function(e){return e!==void 0?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},t.prototype.scrollLeft=function(e){return e!==void 0?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},t.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),i=F("body").style().marginLeft;return{left:e.left-parseFloat(i)+this.scrollLeft(),top:e.top+this.scrollTop()}},t.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},t.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},t.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},t.eventListeners={},t}();function F(t){return vp(),new co(t)}var bp=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function Sp(t){return t==="href"?"src":(t=t.replace("data-",""),t=t.charAt(0).toLowerCase()+t.slice(1),t=t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),t)}var Q={fetchCaptionFromUrl:function(t,e,i){fetch(t).then(function(s){return s.text()}).then(function(s){if(i==="append"){var n='<div class="lg-sub-html">'+s+"</div>";e.append(n)}else e.html(s)})},getSize:function(t,e,i,s){i===void 0&&(i=0);var n=F(t),o=n.attr("data-lg-size")||s;if(o){var r=o.split(",");if(r[1])for(var a=window.innerWidth,l=0;l<r.length;l++){var u=r[l],c=parseInt(u.split("-")[2],10);if(c>a){o=u;break}l===r.length-1&&(o=u)}var d=o.split("-"),h=parseInt(d[0],10),g=parseInt(d[1],10),f=e.width(),m=e.height()-i,E=Math.min(f,h),_=Math.min(m,g),p=Math.min(E/h,_/g);return{width:h*p,height:g*p}}},getTransform:function(t,e,i,s,n){if(n){var o=F(t).find("img").first();if(o.get()){var r=e.get().getBoundingClientRect(),a=r.width,l=e.height()-(i+s),u=o.width(),c=o.height(),d=o.style(),h=(a-u)/2-o.offset().left+(parseFloat(d.paddingLeft)||0)+(parseFloat(d.borderLeft)||0)+F(window).scrollLeft()+r.left,g=(l-c)/2-o.offset().top+(parseFloat(d.paddingTop)||0)+(parseFloat(d.borderTop)||0)+F(window).scrollTop()+i,f=u/n.width,m=c/n.height,E="translate3d("+(h*=-1)+"px, "+(g*=-1)+"px, 0) scale3d("+f+", "+m+", 1)";return E}}},getIframeMarkup:function(t,e,i,s,n,o){var r=o?'title="'+o+'"':"";return'<div class="lg-media-cont lg-has-iframe" style="width:'+t+"; max-width:"+i+"; height: "+e+"; max-height:"+s+`">
                    <iframe class="lg-object" frameborder="0" `+r+' src="'+n+`"  allowfullscreen="true"></iframe>
                </div>`},getImgMarkup:function(t,e,i,s,n,o){var r=s?'srcset="'+s+'"':"",a=n?'sizes="'+n+'"':"",l="<img "+i+" "+r+"  "+a+' class="lg-object lg-image" data-index="'+t+'" src="'+e+'" />',u="";if(o){var c=typeof o=="string"?JSON.parse(o):o;u=c.map(function(d){var h="";return Object.keys(d).forEach(function(g){h+=" "+g+'="'+d[g]+'"'}),"<source "+h+"></source>"})}return""+u+l},getResponsiveSrc:function(t){for(var e=[],i=[],s="",n=0;n<t.length;n++){var o=t[n].split(" ");o[0]===""&&o.splice(0,1),i.push(o[0]),e.push(o[1])}for(var r=window.innerWidth,a=0;a<e.length;a++)if(parseInt(e[a],10)>r){s=i[a];break}return s},isImageLoaded:function(t){return!(!t||!t.complete||t.naturalWidth===0)},getVideoPosterMarkup:function(t,e,i,s,n){var o="";n&&n.youtube?o="lg-has-youtube":n&&n.vimeo?o="lg-has-vimeo":o="lg-has-html5";var r=e;return typeof e!="string"&&(r=e.outerHTML),'<div class="lg-video-cont '+o+'" style="'+i+`">
                <div class="lg-video-play-button">
                <svg
                    viewBox="0 0 20 20"
                    preserveAspectRatio="xMidYMid"
                    focusable="false"
                    aria-labelledby="`+s+`"
                    role="img"
                    class="lg-video-play-icon"
                >
                    <title>`+s+`</title>
                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>
                </svg>
                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle></svg>
                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle>
                </svg>
            </div>
            `+r+`
            <img class="lg-object lg-video-poster" src="`+t+`" />
        </div>`},getFocusableElements:function(t){var e=t.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),i=[].filter.call(e,function(s){var n=window.getComputedStyle(s);return n.display!=="none"&&n.visibility!=="hidden"});return i},getDynamicOptions:function(t,e,i,s){var n=[],o=Tp(bp,e);return[].forEach.call(t,function(r){for(var a={},l=0;l<r.attributes.length;l++){var u=r.attributes[l];if(u.specified){var c=Sp(u.name),d="";o.indexOf(c)>-1&&(d=c),d&&(a[d]=u.value)}}var h=F(r),g=h.find("img").first().attr("alt"),f=h.attr("title"),m=s?h.attr(s):h.find("img").first().attr("src");a.thumb=m,i&&!a.subHtml&&(a.subHtml=f||g||""),a.alt=g||f||"",n.push(a)}),n},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(t,e,i){if(!t){if(e)return{html5:!0};console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");return}var s=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),n=t.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),o=t.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);if(s)return{youtube:s};if(n)return{vimeo:n};if(o)return{wistia:o}}},zn=0,Op=function(){function t(e,i){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(zn++,this.lgId=zn,this.el=e,this.LGel=F(e),this.generateSettings(i),this.buildModules(),this.settings.dynamic&&this.settings.dynamicEl!==void 0&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return t.prototype.generateSettings=function(e){if(this.settings=Ge(Ge({},yp),e),this.settings.isMobile&&typeof this.settings.isMobile=="function"?this.settings.isMobile():Q.isMobile()){var i=Ge(Ge({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=Ge(Ge({},this.settings),i)}},t.prototype.normalizeSettings=function(){if(this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container){var e=this.settings.container;if(typeof e=="function")this.settings.container=e();else if(typeof e=="string"){var i=document.querySelector(e);this.settings.container=i??document.body}}else this.settings.container=document.body;this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},t.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(k.init,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},t.prototype.openGalleryOnItemClick=function(){for(var e=this,i=function(o){var r=s.items[o],a=F(r),l=co.generateUUID();a.attr("data-lg-id",l).on("click.lgcustom-item-"+l,function(u){u.preventDefault();var c=e.settings.index||o;e.openGallery(c,r)})},s=this,n=0;n<this.items.length;n++)i(n)},t.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach(function(i){e.plugins.push(new i(e,F))})},t.prototype.validateLicense=function(){this.settings.licenseKey?this.settings.licenseKey==="0000-0000-000-0000"&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},t.prototype.getSlideItem=function(e){return F(this.getSlideItemId(e))},t.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},t.prototype.getIdName=function(e){return e+"-"+this.lgId},t.prototype.getElementById=function(e){return F("#"+this.getIdName(e))},t.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},t.prototype.buildStructure=function(){var e=this,i=this.$container&&this.$container.get();if(!i){var s="",n="";this.settings.controls&&(s='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+` </button>
                <button type="button" id="`+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),this.settings.appendSubHtmlTo!==".lg-item"&&(n='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var o="";this.settings.allowMediaOverlap&&(o+="lg-media-overlap ");var r=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",a=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",l="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),u=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",c=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",d=`
        <div class="`+l+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+r+" "+a+` role="dialog"
        >
            <div id="`+this.getIdName("lg-backdrop")+`" class="lg-backdrop"></div>

            <div id="`+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+o+` ">

              <div id="`+this.getIdName("lg-content")+`" class="lg-content">
                <div id="`+this.getIdName("lg-inner")+`" class="lg-inner">
                </div>
                `+s+`
              </div>
                <div id="`+this.getIdName("lg-toolbar")+`" class="lg-toolbar lg-group">
                    `+c+`
                    `+u+`
                    </div>
                    `+(this.settings.appendSubHtmlTo===".lg-outer"?n:"")+`
                <div id="`+this.getIdName("lg-components")+`" class="lg-components">
                    `+(this.settings.appendSubHtmlTo===".lg-sub-html"?n:"")+`
                </div>
            </div>
        </div>
        `;F(this.settings.container).append(d),document.body!==this.settings.container&&F(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var h=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(h+="lg-grab "),this.outer.addClass(h),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),F(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){e.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},t.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index],i=e.__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var s=this.mediaContainerPosition,n=s.top,o=s.bottom;if(this.currentImageSize=Q.getSize(this.items[this.index],this.outer,n+o,i&&this.settings.videoMaxSize),i&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var r=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",r)}this.LGel.trigger(k.containerResize)}},t.prototype.resizeVideoSlide=function(e,i){var s=this.getVideoContStyle(i),n=this.getSlideItem(e);n.find(".lg-video-cont").attr("style",s)},t.prototype.updateSlides=function(e,i){if(this.index>e.length-1&&(this.index=e.length-1),e.length===1&&(this.index=0),!e.length){this.closeGallery();return}var s=this.galleryItems[i].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var n=0;this.galleryItems.some(function(o,r){return o.src===s?(n=r,!0):!1}),this.currentItemsInDom=this.organizeSlideItems(n,-1),this.loadContent(n,!0),this.getSlideItem(n).addClass("lg-current"),this.index=n,this.updateCurrentCounter(n),this.LGel.trigger(k.updateSlides)},t.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if(this.settings.selector==="this")this.items.push(this.el);else if(this.settings.selector)if(typeof this.settings.selector=="string")if(this.settings.selectWithin){var e=F(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return Q.getDynamicOptions(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},t.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},t.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(F("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),i=window.innerWidth-e.width;F(document.body).css("padding-right",i+this.bodyPaddingRight+"px"),F(document.body).addClass("lg-overlay-open")}},t.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(F(document.body).css("padding-right",this.bodyPaddingRight+"px"),F(document.body).removeClass("lg-overlay-open"))},t.prototype.openGallery=function(e,i){var s=this;if(e===void 0&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var n=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=n;var o="";n.forEach(function(h){o=o+('<div id="'+h+'" class="lg-item"></div>')}),this.$inner.append(o),this.addHtml(e);var r="";this.mediaContainerPosition=this.getMediaContainerPosition();var a=this.mediaContainerPosition,l=a.top,u=a.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(l,u);var c=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&i&&(this.currentImageSize=Q.getSize(i,this.outer,l+u,c&&this.settings.videoMaxSize),r=Q.getTransform(i,this.outer,l,u,this.currentImageSize)),(!this.zoomFromOrigin||!r)&&(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var d=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){s.outer.addClass("lg-components-open")},d),this.index=e,this.LGel.trigger(k.beforeOpen),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=F(window).scrollTop(),setTimeout(function(){if(s.zoomFromOrigin&&r){var h=s.getSlideItem(e);h.css("transform",r),setTimeout(function(){h.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",s.settings.startAnimationDuration+"ms"),s.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){h.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){s.$backdrop.addClass("in"),s.$container.addClass("lg-show-in")},10),setTimeout(function(){s.settings.trapFocus&&document.body===s.settings.container&&s.trapFocus()},s.settings.backdropDuration+50),(!s.zoomFromOrigin||!r)&&setTimeout(function(){s.outer.addClass("lg-visible")},s.settings.backdropDuration),s.slide(e,!1,!1,!1),s.LGel.trigger(k.afterOpen)}),document.body===this.settings.container&&F("html").addClass("lg-on")}},t.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,i=this.outer.find(".lg-components .lg-sub-html").get(),s=this.settings.defaultCaptionHeight||i&&i.clientHeight||0,n=this.outer.find(".lg-thumb-outer").get(),o=n?n.clientHeight:0,r=o+s;return{top:e,bottom:r}},t.prototype.setMediaContainerPosition=function(e,i){e===void 0&&(e=0),i===void 0&&(i=0),this.$content.css("top",e+"px").css("bottom",i+"px")},t.prototype.hideBars=function(){var e=this;setTimeout(function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout(function(){e.outer.addClass("lg-hide-items")},e.settings.hideBarsDelay)}),e.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},t.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch{console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},t.prototype.counter=function(){if(this.settings.counter){var e=`<div class="lg-counter" role="status" aria-live="polite">
                <span id="`+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+` </span> /
                <span id="`+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},t.prototype.addHtml=function(e){var i,s;if(this.galleryItems[e].subHtmlUrl?s=this.galleryItems[e].subHtmlUrl:i=this.galleryItems[e].subHtml,!s)if(i){var n=i.substring(0,1);if(n==="."||n==="#")try{this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?i=F(this.items).eq(e).find(i).first().html():i=F(i).first().html()}catch{console.warn('Error processing subHtml selector "'+i+'"'),i=""}}else i="";if(this.settings.appendSubHtmlTo!==".lg-item")s?Q.fetchCaptionFromUrl(s,this.outer.find(".lg-sub-html"),"replace"):this.outer.find(".lg-sub-html").html(i);else{var o=F(this.getSlideItemId(e));s?Q.fetchCaptionFromUrl(s,o,"append"):o.append('<div class="lg-sub-html">'+i+"</div>")}typeof i<"u"&&i!==null&&(i===""?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(k.afterAppendSubHtml,{index:e})},t.prototype.preload=function(e){for(var i=1;i<=this.settings.preload&&!(i>=this.galleryItems.length-e);i++)this.loadContent(e+i,!1);for(var s=1;s<=this.settings.preload&&!(e-s<0);s++)this.loadContent(e-s,!1)},t.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+`px;
                margin-left: -`+e.width/2+`px;
                margin-top: -`+e.height/2+`px;
                height:`+e.height+"px":""},t.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+`px;
                height:`+e.height+"px":""},t.prototype.getDummyImageContent=function(e,i,s){var n;if(this.settings.dynamic||(n=F(this.items).eq(i)),n){var o=void 0;if(this.settings.exThumbImage?o=n.attr(this.settings.exThumbImage):o=n.find("img").first().attr("src"),!o)return"";var r=this.getDummyImgStyles(this.currentImageSize),a=document.createElement("img");return a.alt=s||"",a.src=o,a.className="lg-dummy-img",a.style.cssText=r,e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),a}return""},t.prototype.setImgMarkup=function(e,i,s){var n=this.galleryItems[s],o=n.alt,r=n.srcset,a=n.sizes,l=n.sources,u="",c=o?'alt="'+o+'"':"";this.isFirstSlideWithZoomAnimation()?u=this.getDummyImageContent(i,s,c):u=Q.getImgMarkup(s,e,c,r,a,l);var d=document.createElement("picture");d.className="lg-img-wrap",F(d).append(u),i.prepend(d)},t.prototype.onSlideObjectLoad=function(e,i,s,n){var o=e.find(".lg-object").first();Q.isImageLoaded(o.get())||i?s():(o.on("load.lg error.lg",function(){s&&s()}),o.on("error.lg",function(){n&&n()}))},t.prototype.onLgObjectLoad=function(e,i,s,n,o,r){var a=this;this.onSlideObjectLoad(e,r,function(){a.triggerSlideItemLoad(e,i,s,n,o)},function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+a.settings.strings.mediaLoadingFailed+"</span>")})},t.prototype.triggerSlideItemLoad=function(e,i,s,n,o){var r=this,a=this.galleryItems[i],l=o&&this.getSlideType(a)==="video"&&!a.poster?n:0;setTimeout(function(){e.addClass("lg-complete lg-complete_"),r.LGel.trigger(k.slideItemLoad,{index:i,delay:s||0,isFirstSlide:o})},l)},t.prototype.isFirstSlideWithZoomAnimation=function(){return!!(!this.lGalleryOn&&this.zoomFromOrigin&&this.currentImageSize)},t.prototype.addSlideVideoInfo=function(e){var i=this;e.forEach(function(s,n){s.__slideVideoInfo=Q.isVideo(s.src,!!s.video,n),s.__slideVideoInfo&&i.settings.loadYouTubePoster&&!s.poster&&s.__slideVideoInfo.youtube&&(s.poster="//img.youtube.com/vi/"+s.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},t.prototype.loadContent=function(e,i){var s=this,n=this.galleryItems[e],o=F(this.getSlideItemId(e)),r=n.poster,a=n.srcset,l=n.sizes,u=n.sources,c=n.src,d=n.video,h=d&&typeof d=="string"?JSON.parse(d):d;if(n.responsive){var g=n.responsive.split(",");c=Q.getResponsiveSrc(g)||c}var f=n.__slideVideoInfo,m="",E=!!n.iframe,_=!this.lGalleryOn,p=0;if(_&&(this.zoomFromOrigin&&this.currentImageSize?p=this.settings.startAnimationDuration+10:p=this.settings.backdropDuration+10),!o.hasClass("lg-loaded")){if(f){var I=this.mediaContainerPosition,y=I.top,O=I.bottom,D=Q.getSize(this.items[e],this.outer,y+O,f&&this.settings.videoMaxSize);m=this.getVideoContStyle(D)}if(E){var A=Q.getIframeMarkup(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,c,n.iframeTitle);o.prepend(A)}else if(r){var T="",b=_&&this.zoomFromOrigin&&this.currentImageSize;b&&(T=this.getDummyImageContent(o,e,""));var A=Q.getVideoPosterMarkup(r,T||"",m,this.settings.strings.playVideo,f);o.prepend(A)}else if(f){var A='<div class="lg-video-cont " style="'+m+'"></div>';o.prepend(A)}else if(this.setImgMarkup(c,o,e),a||u){var M=o.find(".lg-object");this.initPictureFill(M)}(r||f)&&this.LGel.trigger(k.hasVideo,{index:e,src:c,html5Video:h,hasPoster:!!r}),this.LGel.trigger(k.afterAppendSlide,{index:e}),this.lGalleryOn&&this.settings.appendSubHtmlTo===".lg-item"&&this.addHtml(e)}var w=0;p&&!F(document.body).hasClass("lg-from-hash")&&(w=p),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){o.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),o.hasClass("lg-loaded")||setTimeout(function(){if(s.getSlideType(n)==="image"){var P=n.alt,z=P?'alt="'+P+'"':"";if(o.find(".lg-img-wrap").append(Q.getImgMarkup(e,c,z,a,l,n.sources)),a||u){var C=o.find(".lg-object");s.initPictureFill(C)}}(s.getSlideType(n)==="image"||s.getSlideType(n)==="video"&&r)&&(s.onLgObjectLoad(o,e,p,w,!0,!1),s.onSlideObjectLoad(o,!!(f&&f.html5&&!r),function(){s.loadContentOnFirstSlideLoad(e,o,w)},function(){s.loadContentOnFirstSlideLoad(e,o,w)}))},this.settings.startAnimationDuration+100)),o.addClass("lg-loaded"),(!this.isFirstSlideWithZoomAnimation()||this.getSlideType(n)==="video"&&!r)&&this.onLgObjectLoad(o,e,p,w,_,!!(f&&f.html5&&!r)),(!this.zoomFromOrigin||!this.currentImageSize)&&o.hasClass("lg-complete_")&&!this.lGalleryOn&&setTimeout(function(){o.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,i===!0&&(o.hasClass("lg-complete_")?this.preload(e):o.find(".lg-object").first().on("load.lg error.lg",function(){s.preload(e)}))},t.prototype.loadContentOnFirstSlideLoad=function(e,i,s){var n=this;setTimeout(function(){i.find(".lg-dummy-img").remove(),i.removeClass("lg-first-slide"),n.outer.removeClass("lg-first-slide-loading"),n.isDummyImageRemoved=!0,n.preload(e)},s+300)},t.prototype.getItemsToBeInsertedToDom=function(e,i,s){var n=this;s===void 0&&(s=0);var o=[],r=Math.max(s,3);r=Math.min(r,this.galleryItems.length);var a="lg-item-"+this.lgId+"-"+i;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(c,d){o.push("lg-item-"+n.lgId+"-"+d)}),o;if(e<(this.galleryItems.length-1)/2){for(var l=e;l>e-r/2&&l>=0;l--)o.push("lg-item-"+this.lgId+"-"+l);for(var u=o.length,l=0;l<r-u;l++)o.push("lg-item-"+this.lgId+"-"+(e+l+1))}else{for(var l=e;l<=this.galleryItems.length-1&&l<e+r/2;l++)o.push("lg-item-"+this.lgId+"-"+l);for(var u=o.length,l=0;l<r-u;l++)o.push("lg-item-"+this.lgId+"-"+(e-l-1))}return this.settings.loop&&(e===this.galleryItems.length-1?o.push("lg-item-"+this.lgId+"-0"):e===0&&o.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),o.indexOf(a)===-1&&o.push("lg-item-"+this.lgId+"-"+i),o},t.prototype.organizeSlideItems=function(e,i){var s=this,n=this.getItemsToBeInsertedToDom(e,i,this.settings.numberOfSlideItemsInDom);return n.forEach(function(o){s.currentItemsInDom.indexOf(o)===-1&&s.$inner.append('<div id="'+o+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(o){n.indexOf(o)===-1&&F("#"+o).remove()}),n},t.prototype.getPreviousSlideIndex=function(){var e=0;try{var i=this.outer.find(".lg-current").first().attr("id");e=parseInt(i.split("-")[3])||0}catch{e=0}return e},t.prototype.setDownloadValue=function(e){if(this.settings.download){var i=this.galleryItems[e],s=i.downloadUrl===!1||i.downloadUrl==="false";if(s)this.outer.addClass("lg-hide-download");else{var n=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),n.attr("href",i.downloadUrl||i.src),i.download&&n.attr("download",i.download)}}},t.prototype.makeSlideAnimation=function(e,i,s){var n=this;this.lGalleryOn&&s.addClass("lg-slide-progress"),setTimeout(function(){n.outer.addClass("lg-no-trans"),n.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),e==="prev"?(i.addClass("lg-prev-slide"),s.addClass("lg-next-slide")):(i.addClass("lg-next-slide"),s.addClass("lg-prev-slide")),setTimeout(function(){n.outer.find(".lg-item").removeClass("lg-current"),i.addClass("lg-current"),n.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},t.prototype.slide=function(e,i,s,n){var o=this,r=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,r),!(this.lGalleryOn&&r===e)){var a=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var l=this.getSlideItem(e),u=this.getSlideItem(r),c=this.galleryItems[e],d=c.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(c)),this.setDownloadValue(e),d){var h=this.mediaContainerPosition,g=h.top,f=h.bottom,m=Q.getSize(this.items[e],this.outer,g+f,d&&this.settings.videoMaxSize);this.resizeVideoSlide(e,m)}if(this.LGel.trigger(k.beforeSlide,{prevIndex:r,index:e,fromTouch:!!i,fromThumb:!!s}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),n||(e<r?n="prev":e>r&&(n="next")),!i)this.makeSlideAnimation(n,l,u);else{this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var E=void 0,_=void 0;a>2?(E=e-1,_=e+1,(e===0&&r===a-1||e===a-1&&r===0)&&(_=0,E=a-1)):(E=0,_=1),n==="prev"?this.getSlideItem(_).addClass("lg-next-slide"):this.getSlideItem(E).addClass("lg-prev-slide"),l.addClass("lg-current")}this.lGalleryOn?setTimeout(function(){o.loadContent(e,!0),o.settings.appendSubHtmlTo!==".lg-item"&&o.addHtml(e)},this.settings.speed+50+(i?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout(function(){o.lgBusy=!1,u.removeClass("lg-slide-progress"),o.LGel.trigger(k.afterSlide,{prevIndex:r,index:e,fromTouch:i,fromThumb:s})},(this.lGalleryOn?this.settings.speed+100:100)+(i?0:this.settings.slideDelay))}this.index=e}},t.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},t.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},t.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},t.prototype.touchMove=function(e,i,s){var n=i.pageX-e.pageX,o=i.pageY-e.pageY,r=!1;if(this.swipeDirection?r=!0:Math.abs(n)>15?(this.swipeDirection="horizontal",r=!0):Math.abs(o)>15&&(this.swipeDirection="vertical",r=!0),!!r){var a=this.getSlideItem(this.index);if(this.swipeDirection==="horizontal"){s==null||s.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(a,n,0);var l=a.get().offsetWidth,u=l*15/100,c=u-Math.abs(n*10/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-l+n-c,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),l+n+c,0)}else if(this.swipeDirection==="vertical"&&this.settings.swipeToClose){s==null||s.preventDefault(),this.$container.addClass("lg-dragging-vertical");var d=1-Math.abs(o)/window.innerHeight;this.$backdrop.css("opacity",d);var h=1-Math.abs(o)/(window.innerWidth*2);this.setTranslate(a,0,o,h,h),Math.abs(o)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},t.prototype.touchEnd=function(e,i,s){var n=this,o;this.settings.mode!=="lg-slide"&&this.outer.addClass("lg-slide"),setTimeout(function(){n.$container.removeClass("lg-dragging-vertical"),n.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var r=!0;if(n.swipeDirection==="horizontal"){o=e.pageX-i.pageX;var a=Math.abs(e.pageX-i.pageX);o<0&&a>n.settings.swipeThreshold?(n.goToNextSlide(!0),r=!1):o>0&&a>n.settings.swipeThreshold&&(n.goToPrevSlide(!0),r=!1)}else if(n.swipeDirection==="vertical")if(o=Math.abs(e.pageY-i.pageY),n.settings.closable&&n.settings.swipeToClose&&o>100){n.closeGallery();return}else n.$backdrop.css("opacity",1);if(n.outer.find(".lg-item").removeAttr("style"),r&&Math.abs(e.pageX-i.pageX)<5){var l=F(s.target);n.isPosterElement(l)&&n.LGel.trigger(k.posterClick)}n.swipeDirection=void 0}),setTimeout(function(){!n.outer.hasClass("lg-dragging")&&n.settings.mode!=="lg-slide"&&n.outer.removeClass("lg-slide")},this.settings.speed+100)},t.prototype.enableSwipe=function(){var e=this,i={},s={},n=!1,o=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(r){e.dragOrSwipeEnabled=!0;var a=e.getSlideItem(e.index);(F(r.target).hasClass("lg-item")||a.get().contains(r.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&r.touches.length===1&&(o=!0,e.touchAction="swipe",e.manageSwipeClass(),i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(r){o&&e.touchAction==="swipe"&&r.touches.length===1&&(s={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e.touchMove(i,s,r),n=!0)}),this.$inner.on("touchend.lg",function(r){if(e.touchAction==="swipe"){if(n)n=!1,e.touchEnd(s,i,r);else if(o){var a=F(r.target);e.isPosterElement(a)&&e.LGel.trigger(k.posterClick)}e.touchAction=void 0,o=!1}}))},t.prototype.enableDrag=function(){var e=this,i={},s={},n=!1,o=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(r){e.dragOrSwipeEnabled=!0;var a=e.getSlideItem(e.index);(F(r.target).hasClass("lg-item")||a.get().contains(r.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&(r.preventDefault(),e.lgBusy||(e.manageSwipeClass(),i={pageX:r.pageX,pageY:r.pageY},n=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger(k.dragStart)))}),F(window).on("mousemove.lg.global"+this.lgId,function(r){n&&e.lgOpened&&(o=!0,s={pageX:r.pageX,pageY:r.pageY},e.touchMove(i,s),e.LGel.trigger(k.dragMove))}),F(window).on("mouseup.lg.global"+this.lgId,function(r){if(e.lgOpened){var a=F(r.target);o?(o=!1,e.touchEnd(s,i,r),e.LGel.trigger(k.dragEnd)):e.isPosterElement(a)&&e.LGel.trigger(k.posterClick),n&&(n=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},t.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",function(i){!e.dragOrSwipeEnabled&&e.isPosterElement(F(i.target))&&e.LGel.trigger(k.posterClick)})},t.prototype.manageSwipeClass=function(){var e=this.index+1,i=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(this.index===0?i=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),i>-1&&this.getSlideItem(i).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},t.prototype.goToNextSlide=function(e){var i=this,s=this.settings.loop;e&&this.galleryItems.length<3&&(s=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(k.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):s?(this.index=0,this.LGel.trigger(k.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout(function(){i.outer.removeClass("lg-right-end")},400)))},t.prototype.goToPrevSlide=function(e){var i=this,s=this.settings.loop;e&&this.galleryItems.length<3&&(s=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(k.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):s?(this.index=this.galleryItems.length-1,this.LGel.trigger(k.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout(function(){i.outer.removeClass("lg-left-end")},400)))},t.prototype.keyPress=function(){var e=this;F(window).on("keydown.lg.global"+this.lgId,function(i){e.lgOpened&&e.settings.escKey===!0&&i.keyCode===27&&(i.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(i.keyCode===37&&(i.preventDefault(),e.goToPrevSlide()),i.keyCode===39&&(i.preventDefault(),e.goToNextSlide()))})},t.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){e.goToNextSlide()})},t.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var i=this.getElementById("lg-prev"),s=this.getElementById("lg-next");e+1===this.galleryItems.length?s.attr("disabled","disabled").addClass("disabled"):s.removeAttr("disabled").removeClass("disabled"),e===0?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled")}},t.prototype.setTranslate=function(e,i,s,n,o){n===void 0&&(n=1),o===void 0&&(o=1),e.css("transform","translate3d("+i+"px, "+s+"px, 0px) scale3d("+n+", "+o+", 1)")},t.prototype.mousewheel=function(){var e=this,i=0;this.outer.on("wheel.lg",function(s){if(!(!s.deltaY||e.galleryItems.length<2)){s.preventDefault();var n=new Date().getTime();n-i<1e3||(i=n,s.deltaY>0?e.goToNextSlide():s.deltaY<0&&e.goToPrevSlide())}})},t.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")||e.hasClass("lg-img-rotate")},t.prototype.isPosterElement=function(e){var i=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||i&&i.contains(e.get())},t.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()})},t.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var i=this.items[e],s=F(i);s.off("click.lgcustom-item-"+s.attr("data-lg-id"))}},t.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),F(window).on("keydown.lg.global"+this.lgId,function(i){if(e.lgOpened){var s=i.key==="Tab"||i.keyCode===9;if(s){var n=Q.getFocusableElements(e.$container.get()),o=n[0],r=n[n.length-1];i.shiftKey?document.activeElement===o&&(r.focus(),i.preventDefault()):document.activeElement===r&&(o.focus(),i.preventDefault())}}})},t.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var i=!1;this.getElementById("lg-close").on("click.lg",function(){e.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(s){var n=F(s.target);e.isSlideElement(n)?i=!0:i=!1}),this.outer.on("mousemove.lg",function(){i=!1}),this.outer.on("mouseup.lg",function(s){var n=F(s.target);e.isSlideElement(n)&&i&&(e.outer.hasClass("lg-dragging")||e.closeGallery())}))}},t.prototype.closeGallery=function(e){var i=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(k.beforeClose),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&F(window).scrollTop(this.prevScrollTop);var s=this.items[this.index],n;if(this.zoomFromOrigin&&s){var o=this.mediaContainerPosition,r=o.top,a=o.bottom,l=this.galleryItems[this.index],u=l.__slideVideoInfo,c=l.poster,d=Q.getSize(s,this.outer,r+a,u&&c&&this.settings.videoMaxSize);n=Q.getTransform(s,this.outer,r,a,d)}this.zoomFromOrigin&&n?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",n)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,F("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var h=this.zoomFromOrigin&&n?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){i.zoomFromOrigin&&n&&i.outer.removeClass("lg-zoom-from-image"),i.$container.removeClass("lg-show"),i.resetScrollBar(),i.$backdrop.removeAttr("style").css("transition-duration",i.settings.backdropDuration+"ms"),i.outer.removeClass("lg-closing "+i.settings.startClass),i.getSlideItem(i.index).removeClass("lg-start-end-progress"),i.$inner.empty(),i.lgOpened&&i.LGel.trigger(k.afterClose,{instance:i}),i.$container.get()&&i.$container.get().blur(),i.lgOpened=!1},h+100),h+100},t.prototype.initModules=function(){this.plugins.forEach(function(e){try{e.init()}catch{console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},t.prototype.destroyModules=function(e){this.plugins.forEach(function(i){try{e?i.destroy():i.closeGallery&&i.closeGallery()}catch{console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},t.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),e?this.galleryItems=e:this.galleryItems=this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(k.updateSlides)},t.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},t.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),F(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},t.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},t}();function wp(t,e){return new Op(t,e)}/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qt=function(){return Qt=Object.assign||function(e){for(var i,s=1,n=arguments.length;s<n;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Qt.apply(this,arguments)},Rp={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},ht={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},Ap=function(){function t(e,i){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=e,this.$LG=i,this}return t.prototype.init=function(){this.settings=Qt(Qt({},Rp),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},t.prototype.build=function(){var e=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",function(i){var s=e.$LG(i.target);s.hasAttribute("data-lg-item-id")&&setTimeout(function(){if(e.thumbClickable&&!e.core.lgBusy){var n=parseInt(s.attr("data-lg-item-id"));e.core.slide(n,!1,!0,!1)}},50)}),this.core.LGel.on(ht.beforeSlide+".thumb",function(i){var s=i.detail.index;e.animateThumb(s)}),this.core.LGel.on(ht.beforeOpen+".thumb",function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth}),this.core.LGel.on(ht.updateSlides+".thumb",function(){e.rebuildThumbnails()}),this.core.LGel.on(ht.containerResize+".thumb",function(){e.core.lgOpened&&setTimeout(function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth,e.animateThumb(e.core.index),e.thumbOuterWidth=e.core.outer.get().offsetWidth},50)})},t.prototype.setThumbMarkup=function(){var e="lg-thumb-outer ";this.settings.alignThumbnails&&(e+="lg-thumb-align-"+this.settings.alignThumbnails);var i='<div class="'+e+`">
        <div class="lg-thumb lg-group">
        </div>
        </div>`;this.core.outer.addClass("lg-has-thumb"),this.settings.appendThumbnailsTo===".lg-components"?this.core.$lgComponents.append(i):this.core.outer.append(i),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},t.prototype.enableThumbDrag=function(){var e=this,i={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},s=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",function(n){e.thumbTotalWidth>e.thumbOuterWidth&&(n.preventDefault(),i.cords.startX=n.pageX,i.startTime=new Date,e.thumbClickable=!1,s=!0,e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,function(n){e.core.lgOpened&&s&&(i.cords.endX=n.pageX,i=e.onThumbTouchMove(i))}),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,function(){e.core.lgOpened&&(i.isMoved?i=e.onThumbTouchEnd(i):e.thumbClickable=!0,s&&(s=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))})},t.prototype.enableThumbSwipe=function(){var e=this,i={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",function(s){e.thumbTotalWidth>e.thumbOuterWidth&&(s.preventDefault(),i.cords.startX=s.targetTouches[0].pageX,e.thumbClickable=!1,i.startTime=new Date)}),this.$lgThumb.on("touchmove.lg",function(s){e.thumbTotalWidth>e.thumbOuterWidth&&(s.preventDefault(),i.cords.endX=s.targetTouches[0].pageX,i=e.onThumbTouchMove(i))}),this.$lgThumb.on("touchend.lg",function(){i.isMoved?i=e.onThumbTouchEnd(i):e.thumbClickable=!0})},t.prototype.rebuildThumbnails=function(){var e=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout(function(){e.thumbTotalWidth=e.core.galleryItems.length*(e.settings.thumbWidth+e.settings.thumbMargin),e.$lgThumb.css("width",e.thumbTotalWidth+"px"),e.$lgThumb.empty(),e.setThumbItemHtml(e.core.galleryItems),e.animateThumb(e.core.index)},50),setTimeout(function(){e.$thumbOuter.removeClass("lg-rebuilding-thumbnails")},200)},t.prototype.setTranslate=function(e){this.$lgThumb.css("transform","translate3d(-"+e+"px, 0px, 0px)")},t.prototype.getPossibleTransformX=function(e){return e>this.thumbTotalWidth-this.thumbOuterWidth&&(e=this.thumbTotalWidth-this.thumbOuterWidth),e<0&&(e=0),e},t.prototype.animateThumb=function(e){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var i=0;switch(this.settings.currentPagerPosition){case"left":i=0;break;case"middle":i=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":i=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*e-1-i,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},t.prototype.onThumbTouchMove=function(e){return e.newTranslateX=this.translateX,e.isMoved=!0,e.touchMoveTime=new Date().valueOf(),e.newTranslateX-=e.cords.endX-e.cords.startX,e.newTranslateX=this.getPossibleTransformX(e.newTranslateX),this.setTranslate(e.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),e},t.prototype.onThumbTouchEnd=function(e){e.isMoved=!1,e.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var i=e.endTime.valueOf()-e.startTime.valueOf(),s=e.cords.endX-e.cords.startX,n=Math.abs(s)/i;return n>.15&&e.endTime.valueOf()-e.touchMoveTime<30?(n+=1,n>2&&(n+=1),n=n+n*(Math.abs(s)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(n-1,2)+"settings"),s=s*n,this.translateX=this.getPossibleTransformX(this.translateX-s),this.setTranslate(this.translateX)):this.translateX=e.newTranslateX,Math.abs(e.cords.endX-e.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),e},t.prototype.getThumbHtml=function(e,i,s){var n=this.core.galleryItems[i].__slideVideoInfo||{},o;n.youtube&&this.settings.loadYouTubeThumbnail?o="//img.youtube.com/vi/"+n.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":o=e;var r=document.createElement("div");r.setAttribute("data-lg-item-id",i+""),r.className="lg-thumb-item "+(i===this.core.index?"active":""),r.style.cssText="width: "+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+"; margin-right: "+this.settings.thumbMargin+"px;";var a=document.createElement("img");return a.alt=s||"",a.setAttribute("data-lg-item-id",i+""),a.src=o,r.appendChild(a),r},t.prototype.setThumbItemHtml=function(e){for(var i=0;i<e.length;i++){var s=this.getThumbHtml(e[i].thumb,i,e[i].alt);this.$lgThumb.append(s)}},t.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},t.prototype.manageActiveClassOnSlideChange=function(){var e=this;this.core.LGel.on(ht.beforeSlide+".thumb",function(i){var s=e.core.outer.find(".lg-thumb-item"),n=i.detail.index;s.removeClass("active"),s.eq(n).addClass("active")})},t.prototype.toggleThumbBar=function(){var e=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",function(){e.core.outer.toggleClass("lg-components-open")}))},t.prototype.thumbKeyPress=function(){var e=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,function(i){!e.core.lgOpened||!e.settings.toggleThumb||(i.keyCode===38?(i.preventDefault(),e.core.outer.addClass("lg-components-open")):i.keyCode===40&&(i.preventDefault(),e.core.outer.removeClass("lg-components-open")))})},t.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},t}();/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jt=function(){return Jt=Object.assign||function(e){for(var i,s=1,n=arguments.length;s<n;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Jt.apply(this,arguments)},Cp={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},De={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},Pi=500,Dp=function(){function t(e,i){return this.core=e,this.$LG=i,this.settings=Jt(Jt({},Cp),this.core.settings),this}return t.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomOut+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},t.prototype.enableZoom=function(e){var i=this,s=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?s=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){i.isImageSlide(i.core.index)&&(i.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===i.core.index&&i.setZoomEssentials())},s+30)},t.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(De.slideItemLoad+".zoom",this.enableZoom.bind(this))},t.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},t.prototype.getSwipeCords=function(e){var i=e.touches[0].pageX,s=e.touches[0].pageY;return{x:i,y:s}},t.prototype.getDragAllowedAxises=function(e,i){if(!this.containerRect)return{allowX:!1,allowY:!1};var s=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),n=0,o=0,r=s.getBoundingClientRect();e?(n=s.offsetHeight*e,o=s.offsetWidth*e):i?(n=r.height+i*r.height,o=r.width+i*r.width):(n=r.height,o=r.width);var a=n>this.containerRect.height,l=o>this.containerRect.width;return{allowX:l,allowY:a}},t.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},t.prototype.zoomImage=function(e,i,s,n){if(!(!this.containerRect||Math.abs(i)<=0)){var o=this.containerRect.width/2+this.containerRect.left,r=this.containerRect.height/2+this.containerRect.top+this.scrollTop,a,l;e===1&&(this.positionChanged=!1);var u=this.getDragAllowedAxises(0,i),c=u.allowY,d=u.allowX;this.positionChanged&&(a=this.left/(this.scale-i),l=this.top/(this.scale-i),this.pageX=o-a,this.pageY=r-l,this.positionChanged=!1);var h=this.getPossibleSwipeDragCords(i),g,f,m=o-this.pageX,E=r-this.pageY;if(e-i>1){var _=(e-i)/Math.abs(i);m=(i<0?-m:m)+this.left*(_+(i<0?-1:1)),E=(i<0?-E:E)+this.top*(_+(i<0?-1:1)),g=m/_,f=E/_}else{var _=(e-i)*i;g=m*_,f=E*_}s&&(d?this.isBeyondPossibleLeft(g,h.minX)?g=h.minX:this.isBeyondPossibleRight(g,h.maxX)&&(g=h.maxX):e>1&&(g<h.minX?g=h.minX:g>h.maxX&&(g=h.maxX)),c?this.isBeyondPossibleTop(f,h.minY)?f=h.minY:this.isBeyondPossibleBottom(f,h.maxY)&&(f=h.maxY):e>1&&(f<h.minY?f=h.minY:f>h.maxY&&(f=h.maxY))),this.setZoomStyles({x:g,y:f,scale:e}),this.left=g,this.top=f,n&&this.setZoomImageSize()}},t.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var i=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,i.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),i.css("width","auto").css("height","auto"),setTimeout(function(){i.removeClass("no-transition")},10)}},t.prototype.setZoomImageSize=function(){var e=this,i=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var s=e.getCurrentImageActualSizeScale();e.scale>=s&&(i.addClass("no-transition"),e.imageReset=!0)},Pi),setTimeout(function(){var s=e.getCurrentImageActualSizeScale();if(e.scale>=s){var n=e.getDragAllowedAxises(e.scale);i.css("width",i.get().naturalWidth+"px").css("height",i.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),n.allowX&&n.allowY?i.addClass("reset-transition"):n.allowX&&!n.allowY?i.addClass("reset-transition-x"):!n.allowX&&n.allowY&&i.addClass("reset-transition-y")}},Pi+50)},t.prototype.setZoomStyles=function(e){var i=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),s=this.core.getSlideItem(this.core.index).find(".lg-image").first(),n=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,s.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),n.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var o="translate3d("+e.x+"px, "+e.y+"px, 0)";i.css("transform",o)},t.prototype.setActualSize=function(e,i){var s=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var n=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout(function(){if(!(!n.src||s.core.outer.hasClass("lg-first-slide-loading"))){var o=s.getCurrentImageActualSizeScale(),r=s.scale;s.core.outer.hasClass("lg-zoomed")?s.scale=1:s.scale=s.getScale(o),s.setPageCords(i),s.beginZoom(s.scale),s.zoomImage(s.scale,s.scale-r,!0,!0)}},50),setTimeout(function(){s.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){s.zoomInProgress=!1},Pi+110)}},t.prototype.getNaturalWidth=function(e){var i=this.core.getSlideItem(e).find(".lg-image").first(),s=this.core.galleryItems[e].width;return s?parseFloat(s):i.get().naturalWidth},t.prototype.getActualSizeScale=function(e,i){var s,n;return e>=i?(s=e/i,n=s||2):n=1,n},t.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=e.get().offsetWidth,s=this.getNaturalWidth(this.core.index)||i;return this.getActualSizeScale(s,i)},t.prototype.getPageCords=function(e){var i={};if(e)i.x=e.pageX||e.touches[0].pageX,i.y=e.pageY||e.touches[0].pageY;else{var s=this.core.$content.get().getBoundingClientRect();i.x=s.width/2+s.left,i.y=s.height/2+this.scrollTop+s.top}return i},t.prototype.setPageCords=function(e){var i=this.getPageCords(e);this.pageX=i.x,this.pageY=i.y},t.prototype.manageActualPixelClassNames=function(){var e=this.core.getElementById("lg-actual-size");e.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},t.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},t.prototype.getScale=function(e){var i=this.getCurrentImageActualSizeScale();return e<1?e=1:e>i&&(e=i),e},t.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var i=null;this.core.outer.on("dblclick.lg",function(s){e.$LG(s.target).hasClass("lg-image")&&e.setActualSize(e.core.index,s)}),this.core.outer.on("touchstart.lg",function(s){var n=e.$LG(s.target);s.touches.length===1&&n.hasClass("lg-image")&&(i?(clearTimeout(i),i=null,s.preventDefault(),e.setActualSize(e.core.index,s)):i=setTimeout(function(){i=null},300))}),this.core.LGel.on(De.containerResize+".zoom "+De.rotateRight+".zoom "+De.rotateLeft+".zoom "+De.flipHorizontal+".zoom "+De.flipVertical+".zoom",function(){if(!(!e.core.lgOpened||!e.isImageSlide(e.core.index)||e.core.touchAction)){var s=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(s,{x:0,y:0}),e.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(e.isImageSlide(e.core.index)){var s=0;e.imageReset&&(e.resetImageTranslate(e.core.index),s=50),setTimeout(function(){var n=e.scale-e.settings.scale;n<1&&(n=1),e.beginZoom(n),e.zoomImage(n,-e.settings.scale,!0,!e.settings.infiniteZoom)},s)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on(De.beforeOpen+".zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(De.afterOpen+".zoom",function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1}),this.core.LGel.on(De.afterSlide+".zoom",function(s){var n=s.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.zoomInProgress=!1,e.resetZoom(n),e.resetImageTranslate(n),e.isImageSlide(e.core.index)&&e.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},t.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom)}},t.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var i=this.core.getElementById("lg-actual-size"),s=this.core.getSlideItem(e!==void 0?e:this.core.index);i.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),s.find(".lg-img-wrap").first().removeAttr("style"),s.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},t.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},t.prototype.pinchZoom=function(){var e=this,i=0,s=!1,n=1,o=0,r=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(a){if(r=e.core.getSlideItem(e.core.index),!!e.isImageSlide(e.core.index)&&a.touches.length===2){if(a.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;n=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(a),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",i=e.getTouchDistance(a)}}),this.core.$inner.on("touchmove.lg",function(a){if(a.touches.length===2&&e.core.touchAction==="pinch"&&(e.$LG(a.target).hasClass("lg-item")||r.get().contains(a.target))){a.preventDefault();var l=e.getTouchDistance(a),u=i-l;if(!s&&Math.abs(u)>5&&(s=!0),s){o=e.scale;var c=Math.max(1,n+-u*.02);e.scale=Math.round((c+Number.EPSILON)*100)/100;var d=e.scale-o;e.zoomImage(e.scale,Math.round((d+Number.EPSILON)*100)/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(a){if(e.core.touchAction==="pinch"&&(e.$LG(a.target).hasClass("lg-item")||r.get().contains(a.target))){if(s=!1,i=0,e.scale<=1)e.resetZoom();else{var l=e.getCurrentImageActualSizeScale();if(e.scale>=l){var u=l-e.scale;u===0&&(u=.01),e.zoomImage(l,u,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}})},t.prototype.touchendZoom=function(e,i,s,n,o){var r=i.x-e.x,a=i.y-e.y,l=Math.abs(r)/o+1,u=Math.abs(a)/o+1;l>2&&(l+=1),u>2&&(u+=1),r=r*l,a=a*u;var c=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),d={};d.x=this.left+r,d.y=this.top+a;var h=this.getPossibleSwipeDragCords();(Math.abs(r)>15||Math.abs(a)>15)&&(n&&(this.isBeyondPossibleTop(d.y,h.minY)?d.y=h.minY:this.isBeyondPossibleBottom(d.y,h.maxY)&&(d.y=h.maxY)),s&&(this.isBeyondPossibleLeft(d.x,h.minX)?d.x=h.minX:this.isBeyondPossibleRight(d.x,h.maxX)&&(d.x=h.maxX)),n?this.top=d.y:d.y=this.top,s?this.left=d.x:d.x=this.left,this.setZoomSwipeStyles(c,d),this.positionChanged=!0)},t.prototype.getZoomSwipeCords=function(e,i,s,n,o){var r={};if(n){if(r.y=this.top+(i.y-e.y),this.isBeyondPossibleTop(r.y,o.minY)){var a=o.minY-r.y;r.y=o.minY-a/6}else if(this.isBeyondPossibleBottom(r.y,o.maxY)){var l=r.y-o.maxY;r.y=o.maxY+l/6}}else r.y=this.top;if(s){if(r.x=this.left+(i.x-e.x),this.isBeyondPossibleLeft(r.x,o.minX)){var u=o.minX-r.x;r.x=o.minX-u/6}else if(this.isBeyondPossibleRight(r.x,o.maxX)){var c=r.x-o.maxX;r.x=o.maxX+c/6}}else r.x=this.left;return r},t.prototype.isBeyondPossibleLeft=function(e,i){return e>=i},t.prototype.isBeyondPossibleRight=function(e,i){return e<=i},t.prototype.isBeyondPossibleTop=function(e,i){return e>=i},t.prototype.isBeyondPossibleBottom=function(e,i){return e<=i},t.prototype.isImageSlide=function(e){var i=this.core.galleryItems[e];return this.core.getSlideType(i)==="image"},t.prototype.getPossibleSwipeDragCords=function(e){var i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),s=this.core.mediaContainerPosition.bottom,n=i.get().getBoundingClientRect(),o=n.height,r=n.width;e&&(o=o+e*o,r=r+e*r);var a=(o-this.containerRect.height)/2,l=(this.containerRect.height-o)/2+s,u=(r-this.containerRect.width)/2,c=(this.containerRect.width-r)/2,d={minY:a,maxY:l,minX:u,maxX:c};return d},t.prototype.setZoomSwipeStyles=function(e,i){e.css("transform","translate3d("+i.x+"px, "+i.y+"px, 0)")},t.prototype.zoomSwipe=function(){var e=this,i={},s={},n=!1,o=!1,r=!1,a=new Date,l=new Date,u,c,d=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(h){if(e.isImageSlide(e.core.index)&&(d=e.core.getSlideItem(e.core.index),(e.$LG(h.target).hasClass("lg-item")||d.get().contains(h.target))&&h.touches.length===1&&e.core.outer.hasClass("lg-zoomed"))){h.preventDefault(),a=new Date,e.core.touchAction="zoomSwipe",c=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var g=e.getDragAllowedAxises(0);r=g.allowY,o=g.allowX,(o||r)&&(i=e.getSwipeCords(h)),u=e.getPossibleSwipeDragCords(),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(h){if(h.touches.length===1&&e.core.touchAction==="zoomSwipe"&&(e.$LG(h.target).hasClass("lg-item")||d.get().contains(h.target))){h.preventDefault(),e.core.touchAction="zoomSwipe",s=e.getSwipeCords(h);var g=e.getZoomSwipeCords(i,s,o,r,u);(Math.abs(s.x-i.x)>15||Math.abs(s.y-i.y)>15)&&(n=!0,e.setZoomSwipeStyles(c,g))}}),this.core.$inner.on("touchend.lg",function(h){if(e.core.touchAction==="zoomSwipe"&&(e.$LG(h.target).hasClass("lg-item")||d.get().contains(h.target))){if(h.preventDefault(),e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!n)return;n=!1,l=new Date;var g=l.valueOf()-a.valueOf();e.touchendZoom(i,s,o,r,g)}})},t.prototype.zoomDrag=function(){var e=this,i={},s={},n=!1,o=!1,r=!1,a=!1,l,u,c,d;this.core.outer.on("mousedown.lg.zoom",function(h){if(e.isImageSlide(e.core.index)){var g=e.core.getSlideItem(e.core.index);if(e.$LG(h.target).hasClass("lg-item")||g.get().contains(h.target)){l=new Date,d=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var f=e.getDragAllowedAxises(0);a=f.allowY,r=f.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(h.target).hasClass("lg-object")&&(r||a)&&(h.preventDefault(),i=e.getDragCords(h),c=e.getPossibleSwipeDragCords(),n=!0,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(h){if(n){o=!0,s=e.getDragCords(h);var g=e.getZoomSwipeCords(i,s,r,a,c);e.setZoomSwipeStyles(d,g)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(h){if(n){if(u=new Date,n=!1,e.core.outer.removeClass("lg-zoom-dragging"),o&&(i.x!==s.x||i.y!==s.y)){s=e.getDragCords(h);var g=u.valueOf()-l.valueOf();e.touchendZoom(i,s,r,a,g)}o=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},t.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},t.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},t}();window.axios=Aa;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.TomSelect=ae;Zt(oo,ao,lo);Kt(Ip);window.FilePond=Th;window.lightGallery=wp;window.lgThumbnail=Ap;window.lgZoom=Dp;
